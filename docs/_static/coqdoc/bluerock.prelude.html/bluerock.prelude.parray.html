<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.prelude.parray</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2025&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.prelude.base.html#"><span class="id" title="library">bluerock.prelude.base</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.prelude.uint63.html#"><span class="id" title="library">bluerock.prelude.uint63</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Stdlib.Numbers.Cyclic.Int63.Uint63</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Stdlib.Array.PArray</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="library">Stdlib.Lists.List</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.prelude.uint63.html#Uint63"><span class="id" title="module">Uint63</span></a>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Op_max_length" class="idref" href="#Op_max_length"><span class="id" title="instance">Op_max_length</span></a> : <span class="id" title="class">ZifyClasses.CstOp</span> <span class="id" title="var">max_length</span> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">TCst</span> := 4194303%<span class="id" title="var">Z</span> ; <span class="id" title="method">TCstInj</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> }.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Zify</span> <span class="id" title="var">CstOp</span> <span class="id" title="var">Op_max_length</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#leb_length"><span class="id" title="axiom">leb_length</span></a> [<span class="id" title="var">A</span>].<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="PArray" class="idref" href="#PArray"><span class="id" title="module">PArray</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Export</span> <span class="id" title="module">Array.PArray</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PArray.Lists" class="idref" href="#PArray.Lists"><span class="id" title="section">Lists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="PArray.Lists.A" class="idref" href="#PArray.Lists.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">a</span> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="PArray.to_list_aux" class="idref" href="#PArray.to_list_aux"><span class="id" title="definition">to_list_aux</span></a> <a id="a:2" class="idref" href="#a:2"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">int</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">go</span> <a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> <a id="i:4" class="idref" href="#i:4"><span class="id" title="binder">i</span></a> <a id="acc:5" class="idref" href="#acc:5"><span class="id" title="binder">acc</span></a> {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#n:3"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="bluerock.prelude.parray.html#acc:5"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="bluerock.prelude.parray.html#go:6"><span class="id" title="variable">go</span></a> <a class="idref" href="bluerock.prelude.parray.html#n:3"><span class="id" title="variable">n</span></a> (<a class="idref" href="bluerock.prelude.parray.html#i:4"><span class="id" title="variable">i</span></a> <span class="id" title="notation">-</span> 1)%<span class="id" title="var">uint63</span> (<span class="id" title="abbreviation">PArray.get</span> <a class="idref" href="bluerock.prelude.parray.html#a:2"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:4"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bluerock.prelude.parray.html#acc:5"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.to_list_aux_P" class="idref" href="#PArray.to_list_aux_P"><span class="id" title="lemma">to_list_aux_P</span></a> <a id="a:8" class="idref" href="#a:8"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> <a id="i:10" class="idref" href="#i:10"><span class="id" title="binder">i</span></a> <a id="acc:11" class="idref" href="#acc:11"><span class="id" title="binder">acc</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_aux"><span class="id" title="definition">to_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#n:9"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:10"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#acc:11"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.map</span> (<span class="id" title="keyword">fun</span> <a id="i:12" class="idref" href="#i:12"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="abbreviation">PArray.get</span> <a class="idref" href="bluerock.prelude.parray.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:12"><span class="id" title="variable">i</span></a>) (<a class="idref" href="bluerock.prelude.uint63.html#Uint63.seq_int"><span class="id" title="definition">seq_int</span></a> (<a class="idref" href="bluerock.prelude.parray.html#i:10"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> 1 <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> <a class="idref" href="bluerock.prelude.parray.html#n:9"><span class="id" title="variable">n</span></a>) <a class="idref" href="bluerock.prelude.parray.html#n:9"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.prelude.parray.html#acc:11"><span class="id" title="variable">acc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; [//|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="var">i</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> {}<span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">app_comm_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#cons_middle"><span class="id" title="lemma">cons_middle</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">app_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: (<span class="id" title="var">i</span> <span class="id" title="notation">+</span> 1 <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span>)%<span class="id" title="var">uint63</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: (<span class="id" title="var">i</span> <span class="id" title="notation">-</span> 1 <span class="id" title="notation">+</span> 1 <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span>)%<span class="id" title="var">uint63</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">n</span>. <span class="id" title="var">revert</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">IHn</span> =&gt; /(<span class="id" title="var">_</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: (<span class="id" title="var">i</span> <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="notation">+</span> 1 <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span> <span class="id" title="notation">-</span> <span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span>)%<span class="id" title="var">uint63</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab55"></a><h3 class="section">Array -&gt; List</h3>

<div class="paragraph"> </div>

 Converts the array to a list dropping the default element. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.to_list" class="idref" href="#PArray.to_list"><span class="id" title="definition">to_list</span></a> (<a id="a:13" class="idref" href="#a:13"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="len:14" class="idref" href="#len:14"><span class="id" title="binder">len</span></a> := <span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a:13"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_aux"><span class="id" title="definition">to_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:13"><span class="id" title="variable">a</span></a> (<span class="id" title="definition">Z.to_nat</span> (<span class="id" title="abbreviation">Uint63.to_Z</span> <a class="idref" href="bluerock.prelude.parray.html#len:14"><span class="id" title="variable">len</span></a>)) (<a class="idref" href="bluerock.prelude.parray.html#len:14"><span class="id" title="variable">len</span></a> <span class="id" title="notation">-</span> 1)%<span class="id" title="var">uint63</span> <span class="id" title="notation">[]</span>.<br/>

<br/>
</div>

<div class="doc">
Convert an array to a list including the default element of
        the array as the first element of the list.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.to_list_with_def" class="idref" href="#PArray.to_list_with_def"><span class="id" title="definition">to_list_with_def</span></a> (<a id="a:15" class="idref" href="#a:15"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">PArray.default</span> <a class="idref" href="bluerock.prelude.parray.html#a:15"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:15"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.to_list_P" class="idref" href="#PArray.to_list_P"><span class="id" title="lemma">to_list_P</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list"><span class="id" title="definition">to_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">List.map</span> (<span class="id" title="keyword">fun</span> <a id="i:17" class="idref" href="#i:17"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="abbreviation">PArray.get</span> <a class="idref" href="bluerock.prelude.parray.html#a:16"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:17"><span class="id" title="variable">i</span></a>) (<a class="idref" href="bluerock.prelude.uint63.html#Uint63.seq_int"><span class="id" title="definition">seq_int</span></a> 0 (<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> (<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a:16"><span class="id" title="variable">a</span></a>))))<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list"><span class="id" title="definition">to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_aux_P"><span class="id" title="lemma">to_list_aux_P</span></a> <span class="id" title="lemma">app_nil_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.to_list_with_def_P" class="idref" href="#PArray.to_list_with_def_P"><span class="id" title="lemma">to_list_with_def_P</span></a> <a id="a:18" class="idref" href="#a:18"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_with_def"><span class="id" title="definition">to_list_with_def</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">PArray.default</span> <a class="idref" href="bluerock.prelude.parray.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">List.map</span> (<span class="id" title="keyword">fun</span> <a id="i:19" class="idref" href="#i:19"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="abbreviation">PArray.get</span> <a class="idref" href="bluerock.prelude.parray.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:19"><span class="id" title="variable">i</span></a>) (<a class="idref" href="bluerock.prelude.uint63.html#Uint63.seq_int"><span class="id" title="definition">seq_int</span></a> 0 (<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> (<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a:18"><span class="id" title="variable">a</span></a>))))<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_with_def"><span class="id" title="definition">to_list_with_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_P"><span class="id" title="lemma">to_list_P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab56"></a><h3 class="section">List -&gt; Array</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="PArray.of_list_aux" class="idref" href="#PArray.of_list_aux"><span class="id" title="definition">of_list_aux</span></a> <a id="l:20" class="idref" href="#l:20"><span class="id" title="binder">l</span></a> <a id="i:21" class="idref" href="#i:21"><span class="id" title="binder">i</span></a> <a id="a:22" class="idref" href="#a:22"><span class="id" title="binder">a</span></a> {<span class="id" title="keyword">struct</span> <span class="id" title="var">l</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#l:20"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a:25" class="idref" href="#a:25"><span class="id" title="binder">a</span></a> := <span class="id" title="abbreviation">PArray.set</span> <a class="idref" href="bluerock.prelude.parray.html#a:22"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:21"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> := (<a class="idref" href="bluerock.prelude.parray.html#i:21"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">uint63</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#of_list_aux:23"><span class="id" title="definition">of_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:20"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:26"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:25"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="notation">[]</span> =&gt; <a class="idref" href="bluerock.prelude.parray.html#a:22"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.length_of_list_aux" class="idref" href="#PArray.length_of_list_aux"><span class="id" title="lemma">length_of_list_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> <a id="i:28" class="idref" href="#i:28"><span class="id" title="binder">i</span></a> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">length</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_aux"><span class="id" title="definition">of_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:28"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:29"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">length</span> <a class="idref" href="bluerock.prelude.parray.html#a:29"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; [|<span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>] <span class="id" title="var">i</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#length_set"><span class="id" title="axiom">length_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.default_of_list_aux" class="idref" href="#PArray.default_of_list_aux"><span class="id" title="lemma">default_of_list_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="l:30" class="idref" href="#l:30"><span class="id" title="binder">l</span></a> <a id="i:31" class="idref" href="#i:31"><span class="id" title="binder">i</span></a> <a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">default</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_aux"><span class="id" title="definition">of_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:30"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:31"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:32"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#a:32"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; [|<span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>] <span class="id" title="var">i</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#default_set"><span class="id" title="axiom">default_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.nth_cons" class="idref" href="#PArray.nth_cons"><span class="id" title="lemma">nth_cons</span></a> {<a id="X:33" class="idref" href="#X:33"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="n:34" class="idref" href="#n:34"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> : <a class="idref" href="bluerock.prelude.parray.html#X:33"><span class="id" title="variable">X</span></a>) <a id="xs:36" class="idref" href="#xs:36"><span class="id" title="binder">xs</span></a> <a id="d:37" class="idref" href="#d:37"><span class="id" title="binder">d</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#n:34"><span class="id" title="variable">n</span></a> <span class="id" title="notation">&gt;</span> 0 <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="bluerock.prelude.parray.html#n:34"><span class="id" title="variable">n</span></a> (<a class="idref" href="bluerock.prelude.parray.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bluerock.prelude.parray.html#xs:36"><span class="id" title="variable">xs</span></a>) <a class="idref" href="bluerock.prelude.parray.html#d:37"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<span class="id" title="definition">Nat.pred</span> <a class="idref" href="bluerock.prelude.parray.html#n:34"><span class="id" title="variable">n</span></a>) <a class="idref" href="bluerock.prelude.parray.html#xs:36"><span class="id" title="variable">xs</span></a> <a class="idref" href="bluerock.prelude.parray.html#d:37"><span class="id" title="variable">d</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> =&gt; [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="var">x</span> <span class="id" title="var">xs</span> //=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.get_of_list_aux" class="idref" href="#PArray.get_of_list_aux"><span class="id" title="lemma">get_of_list_aux</span></a> {<a id="j:38" class="idref" href="#j:38"><span class="id" title="binder">j</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="l:39" class="idref" href="#l:39"><span class="id" title="binder">l</span></a> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> <a id="i:41" class="idref" href="#i:41"><span class="id" title="binder">i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="definition">Z.of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:39"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> (<span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a:40"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:41"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <span class="id" title="definition">Z.of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:39"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a:40"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_aux"><span class="id" title="definition">of_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:39"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:41"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">).[</span></a><a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> (<a class="idref" href="bluerock.prelude.parray.html#i:41"><span class="id" title="variable">i</span></a> <span class="id" title="notation">&lt;=?</span> <a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a>)%<span class="id" title="var">uint63</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> (<a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a> <span class="id" title="notation">&lt;?</span> <a class="idref" href="bluerock.prelude.parray.html#i:41"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <span class="id" title="abbreviation">of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:39"><span class="id" title="variable">l</span></a>))%<span class="id" title="var">uint63</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">List.nth</span> (<span class="id" title="abbreviation">to_nat</span> <a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">to_nat</span> <a class="idref" href="bluerock.prelude.parray.html#i:41"><span class="id" title="variable">i</span></a>) <a class="idref" href="bluerock.prelude.parray.html#l:39"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><a class="idref" href="bluerock.prelude.parray.html#j:38"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; [|<span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>] <span class="id" title="var">a</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a>] =&gt; <span class="id" title="var">Hl</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">first</span> [<span class="id" title="var">case_decide</span>|<span class="id" title="var">case_match</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">opose</span> <span class="id" title="var">proof</span> * (<span class="id" title="var">IHl</span> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#bff3894582fa3645cf662c9c1a220f5d"><span class="id" title="notation">.[</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#bff3894582fa3645cf662c9c1a220f5d"><span class="id" title="notation">&lt;-</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#bff3894582fa3645cf662c9c1a220f5d"><span class="id" title="notation">]</span></a> (<span class="id" title="var">i</span> <span class="id" title="notation">+</span> 1)%<span class="id" title="var">uint63</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IHl</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#length_set"><span class="id" title="axiom">length_set</span></a>; <span class="id" title="var">lia</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {}<span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">first</span> [<span class="id" title="var">case_decide</span>|<span class="id" title="var">case_match</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">andb_true_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">andb_false_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#get_set_other"><span class="id" title="axiom">get_set_other</span></a>; [<span class="id" title="tactic">try</span> <span class="id" title="tactic">first</span> [<span class="id" title="var">done</span>|<span class="id" title="var">lia</span>]|<span class="id" title="var">lia</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> -&gt;: (<span class="id" title="abbreviation">to_nat</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">to_nat</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="abbreviation">to_nat</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">to_nat</span> (<span class="id" title="var">i</span> <span class="id" title="notation">+</span> 1)))%<span class="id" title="var">nat</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.nth_cons"><span class="id" title="lemma">nth_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span> ?: <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#get_set_same"><span class="id" title="axiom">get_set_same</span></a>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: (<span class="id" title="abbreviation">to_nat</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="abbreviation">to_nat</span> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.of_list" class="idref" href="#PArray.of_list"><span class="id" title="definition">of_list</span></a> (<a id="default:42" class="idref" href="#default:42"><span class="id" title="binder">default</span></a> : <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) (<a id="l:43" class="idref" href="#l:43"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="len:44" class="idref" href="#len:44"><span class="id" title="binder">len</span></a> := <span class="id" title="abbreviation">of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:43"><span class="id" title="variable">l</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> := <span class="id" title="abbreviation">PArray.make</span> <a class="idref" href="bluerock.prelude.parray.html#len:44"><span class="id" title="variable">len</span></a> <a class="idref" href="bluerock.prelude.parray.html#default:42"><span class="id" title="variable">default</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_aux"><span class="id" title="definition">of_list_aux</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:43"><span class="id" title="variable">l</span></a> 0 <a class="idref" href="bluerock.prelude.parray.html#a:45"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.length_of_list" class="idref" href="#PArray.length_of_list"><span class="id" title="lemma">length_of_list</span></a> <a id="default:46" class="idref" href="#default:46"><span class="id" title="binder">default</span></a> <a id="l:47" class="idref" href="#l:47"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:47"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">max_length</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">length</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#default:46"><span class="id" title="variable">default</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:47"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:47"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.length_of_list_aux"><span class="id" title="lemma">length_of_list_aux</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#length_make"><span class="id" title="axiom">length_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.default_of_list" class="idref" href="#PArray.default_of_list"><span class="id" title="lemma">default_of_list</span></a> <a id="def:48" class="idref" href="#def:48"><span class="id" title="binder">def</span></a> <a id="l:49" class="idref" href="#l:49"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">default</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#def:48"><span class="id" title="variable">def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:49"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.prelude.parray.html#def:48"><span class="id" title="variable">def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.default_of_list_aux"><span class="id" title="lemma">default_of_list_aux</span></a> <span class="id" title="lemma">default_make</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.get_of_list" class="idref" href="#PArray.get_of_list"><span class="id" title="lemma">get_of_list</span></a> <a id="def:50" class="idref" href="#def:50"><span class="id" title="binder">def</span></a> <a id="l:51" class="idref" href="#l:51"><span class="id" title="binder">l</span></a> <a id="i:52" class="idref" href="#i:52"><span class="id" title="binder">i</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:51"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">max_length</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#def:50"><span class="id" title="variable">def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:51"><span class="id" title="variable">l</span></a>) <a class="idref" href="bluerock.prelude.parray.html#i:52"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<span class="id" title="abbreviation">to_nat</span> <a class="idref" href="bluerock.prelude.parray.html#i:52"><span class="id" title="variable">i</span></a>) <a class="idref" href="bluerock.prelude.parray.html#l:51"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.prelude.parray.html#def:50"><span class="id" title="variable">def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.get_of_list_aux"><span class="id" title="lemma">get_of_list_aux</span></a>; <span class="id" title="var">last</span> 2 <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#length_make"><span class="id" title="axiom">length_make</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#length_make"><span class="id" title="axiom">length_make</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#get_make"><span class="id" title="axiom">get_make</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">andb_true_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">andb_false_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_overflow</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.of_list_with_def" class="idref" href="#PArray.of_list_with_def"><span class="id" title="definition">of_list_with_def</span></a> (<a id="l:53" class="idref" href="#l:53"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#l:53"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">default</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#l:53"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.length_of_list_with_def" class="idref" href="#PArray.length_of_list_with_def"><span class="id" title="lemma">length_of_list_with_def</span></a> <a id="l:55" class="idref" href="#l:55"><span class="id" title="binder">l</span></a> <a id="a:56" class="idref" href="#a:56"><span class="id" title="binder">a</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:55"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">max_length</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_with_def"><span class="id" title="definition">of_list_with_def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:55"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:56"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">length</span> <a class="idref" href="bluerock.prelude.parray.html#a:56"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<span class="id" title="abbreviation">of_nat</span> (<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:55"><span class="id" title="variable">l</span></a>) <span class="id" title="notation">-</span> 1)%<span class="id" title="var">uint63</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="var">done</span>|] =&gt; [[&lt;-]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.length_of_list"><span class="id" title="lemma">length_of_list</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.default_of_list_with_def" class="idref" href="#PArray.default_of_list_with_def"><span class="id" title="lemma">default_of_list_with_def</span></a> <a id="l:57" class="idref" href="#l:57"><span class="id" title="binder">l</span></a> <a id="a:58" class="idref" href="#a:58"><span class="id" title="binder">a</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_with_def"><span class="id" title="definition">of_list_with_def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:57"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> 0 <a class="idref" href="bluerock.prelude.parray.html#l:57"><span class="id" title="variable">l</span></a> (<span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#a:58"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="var">done</span>|] =&gt; [[&lt;-]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.default_of_list"><span class="id" title="lemma">default_of_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.get_of_list_with_def" class="idref" href="#PArray.get_of_list_with_def"><span class="id" title="lemma">get_of_list_with_def</span></a> <a id="l:59" class="idref" href="#l:59"><span class="id" title="binder">l</span></a> <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a> <a id="i:61" class="idref" href="#i:61"><span class="id" title="binder">i</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list_with_def"><span class="id" title="definition">of_list_with_def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:59"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:59"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">max_length</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a:60"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:61"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<span class="id" title="abbreviation">to_nat</span> <a class="idref" href="bluerock.prelude.parray.html#i:61"><span class="id" title="variable">i</span></a>)) <a class="idref" href="bluerock.prelude.parray.html#l:59"><span class="id" title="variable">l</span></a> (<span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#a:60"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> -[<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a>] <span class="id" title="tactic">in</span> *; [<span class="id" title="var">done</span>|] =&gt; [[&lt;-]] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.get_of_list"><span class="id" title="lemma">get_of_list</span></a>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.default_of_list"><span class="id" title="lemma">default_of_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Round&nbsp;trip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.to_of_list" class="idref" href="#PArray.to_of_list"><span class="id" title="lemma">to_of_list</span></a> <a id="def:62" class="idref" href="#def:62"><span class="id" title="binder">def</span></a> <a id="l:63" class="idref" href="#l:63"><span class="id" title="binder">l</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">List.length</span> <a class="idref" href="bluerock.prelude.parray.html#l:63"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">max_length</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <a class="idref" href="bluerock.prelude.parray.html#def:62"><span class="id" title="variable">def</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:63"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.prelude.parray.html#l:63"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hl</span>: <span class="id" title="abbreviation">List.length</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.to_list"><span class="id" title="definition">to_list</span></a> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="var">def</span> <span class="id" title="var">l</span>)) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_P"><span class="id" title="lemma">to_list_P</span></a> <span class="id" title="lemma">length_map</span> <a class="idref" href="bluerock.prelude.uint63.html#Uint63.seq_int_length"><span class="id" title="lemma">seq_int_length</span></a> <a class="idref" href="bluerock.prelude.parray.html#PArray.length_of_list"><span class="id" title="lemma">length_of_list</span></a>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<span class="id" title="lemma">nth_ext</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">def</span> <span class="id" title="var">def</span>); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">Hn</span>: (<span class="id" title="abbreviation">List.length</span> <span class="id" title="var">l</span>) <span class="id" title="var">Hl</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">Hl</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.to_list_P"><span class="id" title="lemma">to_list_P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">p</span> := <span class="id" title="var">get</span> (<a class="idref" href="bluerock.prelude.parray.html#PArray.of_list"><span class="id" title="definition">of_list</span></a> <span class="id" title="var">def</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> {2}-&gt;: <span class="id" title="var">def</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> (<span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#get_out_of_bounds"><span class="id" title="axiom">get_out_of_bounds</span></a> ?<a class="idref" href="bluerock.prelude.parray.html#PArray.default_of_list"><span class="id" title="lemma">default_of_list</span></a> // <a class="idref" href="bluerock.prelude.parray.html#PArray.length_of_list"><span class="id" title="lemma">length_of_list</span></a>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_nth</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.length_of_list"><span class="id" title="lemma">length_of_list</span></a>; [|<span class="id" title="var">lia</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.uint63.html#Uint63.seq_int_nth"><span class="id" title="lemma">seq_int_nth</span></a> /<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.get_of_list"><span class="id" title="lemma">get_of_list</span></a>; [|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">nth_overflow</span>; [|<span class="id" title="var">lia</span>..]. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.Lists"><span class="id" title="section">Lists</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.foldl_i" class="idref" href="#PArray.foldl_i"><span class="id" title="definition">foldl_i</span></a> {<a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a> <a id="B:65" class="idref" href="#B:65"><span class="id" title="binder">B</span></a>} (<a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a> : <span class="id" title="var">int</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#A:64"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#B:65"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#B:65"><span class="id" title="variable">B</span></a>) (<a id="a:67" class="idref" href="#a:67"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#A:64"><span class="id" title="variable">A</span></a>) (<a id="b:68" class="idref" href="#b:68"><span class="id" title="binder">b</span></a> : <a class="idref" href="bluerock.prelude.parray.html#B:65"><span class="id" title="variable">B</span></a>) : <a class="idref" href="bluerock.prelude.parray.html#B:65"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a> := <span class="id" title="var">length</span> <a class="idref" href="bluerock.prelude.parray.html#a:67"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="g:75" class="idref" href="#g:75"><span class="id" title="binder">g</span></a> <a id="k:70" class="idref" href="#k:70"><span class="id" title="binder">k</span></a> '<a id="pat:73" class="idref" href="#pat:73"><span class="id" title="binder">(</span></a><a id="b:72" class="idref" href="#b:72"><span class="id" title="binder"><span id="pat:73" class="id">b</span></span></a><a id="pat:73" class="idref" href="#pat:73"><span class="id" title="binder">,</span></a><a id="i:71" class="idref" href="#i:71"><span class="id" title="binder"><span id="pat:73" class="id">i</span></span></a><a id="pat:73" class="idref" href="#pat:73"><span class="id" title="binder">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a:74" class="idref" href="#a:74"><span class="id" title="binder">a</span></a> := <span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a:67"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:71"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.prelude.parray.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:71"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:74"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#b:72"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<a class="idref" href="bluerock.prelude.parray.html#i:71"><span class="id" title="variable">i</span></a><span class="id" title="notation">+</span>1)%<span class="id" title="var">uint63</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat_rect"><span class="id" title="definition">nat_rect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bluerock.prelude.parray.html#B:65"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">int</span>)%<span class="id" title="keyword">type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.prelude.parray.html#b:68"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0%<span class="id" title="var">uint63</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#g:75"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">Z.to_nat</span> (<span class="id" title="abbreviation">Uint63.to_Z</span> (<a class="idref" href="bluerock.prelude.parray.html#l:69"><span class="id" title="variable">l</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.foldr_i" class="idref" href="#PArray.foldr_i"><span class="id" title="definition">foldr_i</span></a> {<a id="A:76" class="idref" href="#A:76"><span class="id" title="binder">A</span></a> <a id="B:77" class="idref" href="#B:77"><span class="id" title="binder">B</span></a>} (<a id="f:78" class="idref" href="#f:78"><span class="id" title="binder">f</span></a> : <span class="id" title="var">int</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#B:77"><span class="id" title="variable">B</span></a>) (<a id="a:79" class="idref" href="#a:79"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#A:76"><span class="id" title="variable">A</span></a>) (<a id="b:80" class="idref" href="#b:80"><span class="id" title="binder">b</span></a> : <a class="idref" href="bluerock.prelude.parray.html#B:77"><span class="id" title="variable">B</span></a>) : <a class="idref" href="bluerock.prelude.parray.html#B:77"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="l:81" class="idref" href="#l:81"><span class="id" title="binder">l</span></a> := <span class="id" title="var">length</span> <a class="idref" href="bluerock.prelude.parray.html#a:79"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="g:87" class="idref" href="#g:87"><span class="id" title="binder">g</span></a> <a id="k:82" class="idref" href="#k:82"><span class="id" title="binder">k</span></a> '<a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">(</span></a><a id="b:84" class="idref" href="#b:84"><span class="id" title="binder"><span id="pat:85" class="id">b</span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">,</span></a><a id="i:83" class="idref" href="#i:83"><span class="id" title="binder"><span id="pat:85" class="id">i</span></span></a><a id="pat:85" class="idref" href="#pat:85"><span class="id" title="binder">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="a:86" class="idref" href="#a:86"><span class="id" title="binder">a</span></a> := <span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a:79"><span class="id" title="variable">a</span></a> (<a class="idref" href="bluerock.prelude.parray.html#l:81"><span class="id" title="variable">l</span></a> <span class="id" title="notation">-</span> <a class="idref" href="bluerock.prelude.parray.html#i:83"><span class="id" title="variable">i</span></a> <span class="id" title="notation">-</span> 1)%<span class="id" title="var">uint63</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.prelude.parray.html#f:78"><span class="id" title="variable">f</span></a> <a class="idref" href="bluerock.prelude.parray.html#i:83"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:86"><span class="id" title="variable">a</span></a> <a class="idref" href="bluerock.prelude.parray.html#b:84"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<a class="idref" href="bluerock.prelude.parray.html#i:83"><span class="id" title="variable">i</span></a><span class="id" title="notation">+</span>1)%<span class="id" title="var">uint63</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">res</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat_rect"><span class="id" title="definition">nat_rect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bluerock.prelude.parray.html#B:77"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">int</span>)%<span class="id" title="keyword">type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.prelude.parray.html#b:80"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0%<span class="id" title="var">uint63</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.prelude.parray.html#g:87"><span class="id" title="variable">g</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">Z.to_nat</span> (<span class="id" title="abbreviation">Uint63.to_Z</span> (<a class="idref" href="bluerock.prelude.parray.html#l:81"><span class="id" title="variable">l</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PArray.default_get" class="idref" href="#PArray.default_get"><span class="id" title="lemma">default_get</span></a> {<a id="A:88" class="idref" href="#A:88"><span class="id" title="binder">A</span></a>} (<a id="a:89" class="idref" href="#a:89"><span class="id" title="binder">a</span></a> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#A:88"><span class="id" title="variable">A</span></a>) : <span class="id" title="var">default</span> <a class="idref" href="bluerock.prelude.parray.html#a:89"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.prelude.parray.html#a:89"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">.[</span></a><span class="id" title="var">length</span> <a class="idref" href="bluerock.prelude.parray.html#a:89"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.PrimArray.html#8e02ba31407e3638944c90e7c0afd5c3"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Array.ArrayAxioms.html#get_out_of_bounds"><span class="id" title="axiom">get_out_of_bounds</span></a> //. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eq_dec</span></span>&nbsp;implementation.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;checks&nbsp;<span class="inlinecode"><span class="id" title="var">length</span></span>,&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">default</span></span>,&nbsp;then&nbsp;the&nbsp;contents.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;optimal&nbsp;for&nbsp;(in)equality&nbsp;checks.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PArray.EqDec" class="idref" href="#PArray.EqDec"><span class="id" title="section">EqDec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <span class="id" title="var">A</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">a</span> : <span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.EqDec.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Program</span> <span class="id" title="var">Cases</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">program</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="PArray.eq_dec_partial" class="idref" href="#PArray.eq_dec_partial"><span class="id" title="definition">eq_dec_partial</span></a> <a id="a1:92" class="idref" href="#a1:92"><span class="id" title="binder">a1</span></a> <a id="a2:93" class="idref" href="#a2:93"><span class="id" title="binder">a2</span></a> (<a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="m:95" class="idref" href="#m:95"><span class="id" title="binder">m</span></a> : <span class="id" title="var">int</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> (0 <span class="id" title="notation">&lt;=</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <a class="idref" href="bluerock.prelude.parray.html#m:95"><span class="id" title="variable">m</span></a> <span class="id" title="notation">&lt;</span> <a class="idref" href="bluerock.prelude.parray.html#n:94"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a1:92"><span class="id" title="variable">a1</span></a> <a class="idref" href="bluerock.prelude.parray.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a2:93"><span class="id" title="variable">a2</span></a> <a class="idref" href="bluerock.prelude.parray.html#m:95"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">)}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="bluerock.prelude.parray.html#a1:92"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#a2:93"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#n:94"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a1:92"><span class="id" title="variable">a1</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#of_Z"><span class="id" title="definition">of_Z</span></a> (<span class="id" title="definition">Z.of_nat</span> <a class="idref" href="bluerock.prelude.parray.html#n:94"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">get</span> <a class="idref" href="bluerock.prelude.parray.html#a2:93"><span class="id" title="variable">a2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#of_Z"><span class="id" title="definition">of_Z</span></a> (<span class="id" title="definition">Z.of_nat</span> <a class="idref" href="bluerock.prelude.parray.html#n:94"><span class="id" title="variable">n</span></a>))) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">Hm</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hm</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#eq_dec_partial:96"><span class="id" title="definition">eq_dec_partial</span></a> <a class="idref" href="bluerock.prelude.parray.html#a1:92"><span class="id" title="variable">a1</span></a> <a class="idref" href="bluerock.prelude.parray.html#a2:93"><span class="id" title="variable">a2</span></a> <a class="idref" href="bluerock.prelude.parray.html#n:94"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hr</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">Hr</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">m</span> <span class="id" title="notation">&lt;</span> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span>) =&gt; ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: <span class="id" title="var">Hr</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">have</span> &lt;- : <span class="id" title="abbreviation">of_nat</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ** ?; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ** ?; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">program</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PArray.eq_dec" class="idref" href="#PArray.eq_dec"><span class="id" title="definition">eq_dec</span></a> <a id="a1:98" class="idref" href="#a1:98"><span class="id" title="binder">a1</span></a> <a id="a2:99" class="idref" href="#a2:99"><span class="id" title="binder">a2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="bluerock.prelude.parray.html#a1:98"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.prelude.parray.html#a2:99"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="bluerock.prelude.parray.html#a1:98"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bluerock.prelude.parray.html#a2:99"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s1:100" class="idref" href="#s1:100"><span class="id" title="binder">s1</span></a> := <span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a1:98"><span class="id" title="variable">a1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s2:101" class="idref" href="#s2:101"><span class="id" title="binder">s2</span></a> := <span class="id" title="abbreviation">PArray.length</span> <a class="idref" href="bluerock.prelude.parray.html#a2:99"><span class="id" title="variable">a2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">eqs</span> <a class="idref" href="bluerock.prelude.parray.html#s1:100"><span class="id" title="variable">s1</span></a> <a class="idref" href="bluerock.prelude.parray.html#s2:101"><span class="id" title="variable">s2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">H</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d1:102" class="idref" href="#d1:102"><span class="id" title="binder">d1</span></a> := <span class="id" title="abbreviation">PArray.default</span> <a class="idref" href="bluerock.prelude.parray.html#a1:98"><span class="id" title="variable">a1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="d2:103" class="idref" href="#d2:103"><span class="id" title="binder">d2</span></a> := <span class="id" title="abbreviation">PArray.default</span> <a class="idref" href="bluerock.prelude.parray.html#a2:99"><span class="id" title="variable">a2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bluerock.prelude.parray.html#d1:102"><span class="id" title="variable">d1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.prelude.parray.html#d2:103"><span class="id" title="variable">d2</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">H</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">H</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="n:104" class="idref" href="#n:104"><span class="id" title="binder">n</span></a> := <a class="idref" href="bluerock.prelude.parray.html#s1:100"><span class="id" title="variable">s1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.eq_dec_partial"><span class="id" title="definition">eq_dec_partial</span></a> <a class="idref" href="bluerock.prelude.parray.html#a1:98"><span class="id" title="variable">a1</span></a> <a class="idref" href="bluerock.prelude.parray.html#a2:99"><span class="id" title="variable">a2</span></a> (<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <a class="idref" href="bluerock.prelude.parray.html#n:104"><span class="id" title="variable">n</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">H</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="abbreviation">PArray.array_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>%<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#ltb_spec"><span class="id" title="axiom">ltb_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> : <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#of_Z"><span class="id" title="definition">of_Z</span></a> (<span class="id" title="definition">Z.of_nat</span> (<span class="id" title="definition">Z.to_nat</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#to_Z"><span class="id" title="definition">to_Z</span></a> <span class="id" title="var">i</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Znat.Z2Nat.id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.Cyclic.Int63.Uint63Axioms.html#of_to_Z"><span class="id" title="axiom">of_to_Z</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="lemma">to_Z_0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">to_Z_bounded</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> **; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ** ?; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ** ?; <span class="id" title="tactic">subst</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PArray.array_eqdec" class="idref" href="#PArray.array_eqdec"><span class="id" title="instance">array_eqdec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> (@<span class="id" title="var">array</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.EqDec.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="bluerock.prelude.parray.html#PArray.eq_dec"><span class="id" title="definition">eq_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.prelude.parray.html#PArray.EqDec"><span class="id" title="section">EqDec</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.prelude.parray.html#PArray"><span class="id" title="module">PArray</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
