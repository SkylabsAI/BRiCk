<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.lang.cpp.syntax.translation_unit</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2024&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#"><span class="id" title="library">stdpp.fin_maps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.base</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.avl</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.lens</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.elpi.derive.lens</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.pstring</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#"><span class="id" title="library">bluerock.lang.cpp.syntax.core</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.lang.cpp.syntax.types.html#"><span class="id" title="library">bluerock.lang.cpp.syntax.types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#"><span class="id" title="library">bluerock.lang.cpp.syntax.decl</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#"><span class="id" title="library">bluerock.lang.cpp.syntax.namemap</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#"><span class="id" title="module">decl</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Tactic</span> <span class="id" title="keyword">Notation</span> "solve_decision" := <span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_decision</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab219"></a><h2 class="section">Type Declarations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="GlobDecl'" class="idref" href="#GlobDecl'"><span class="id" title="inductive">GlobDecl'</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="Gtype" class="idref" href="#Gtype"><span class="id" title="constructor">Gtype</span></a>     <span class="comment">(*&nbsp;this&nbsp;is&nbsp;a&nbsp;type&nbsp;declaration,&nbsp;but&nbsp;not&nbsp;a&nbsp;definition&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="Gunion" class="idref" href="#Gunion"><span class="id" title="constructor">Gunion</span></a>    (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Union"><span class="id" title="abbreviation">Union</span></a>) <span class="comment">(*&nbsp;union&nbsp;body&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="Gstruct" class="idref" href="#Gstruct"><span class="id" title="constructor">Gstruct</span></a>   (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Struct"><span class="id" title="abbreviation">Struct</span></a>) <span class="comment">(*&nbsp;struct&nbsp;body&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="Genum" class="idref" href="#Genum"><span class="id" title="constructor">Genum</span></a>     (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.preliminary.html#ident"><span class="id" title="definition">ident</span></a>) <span class="comment">(*&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="Gconstant" class="idref" href="#Gconstant"><span class="id" title="constructor">Gconstant</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>) (<a id="init:3" class="idref" href="#init:3"><span class="id" title="binder">init</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a>) <span class="comment">(*&nbsp;used&nbsp;for&nbsp;enumerator&nbsp;constants*)</span><br/>
&nbsp;&nbsp;| <a id="Gtypedef" class="idref" href="#Gtypedef"><span class="id" title="constructor">Gtypedef</span></a>  (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;| <a id="Gunsupported" class="idref" href="#Gunsupported"><span class="id" title="constructor">Gunsupported</span></a> (<span class="id" title="var">_</span> : <span class="id" title="var">PrimString.string</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="GlobDecl" class="idref" href="#GlobDecl"><span class="id" title="abbreviation">GlobDecl</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobDecl'"><span class="id" title="inductive">GlobDecl'</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobDecl"><span class="id" title="abbreviation">GlobDecl</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab220"></a><h3 class="section">The Type Table</h3>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="type_table" class="idref" href="#type_table"><span class="id" title="definition">type_table</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.t"><span class="id" title="definition">NM.t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobDecl"><span class="id" title="abbreviation">GlobDecl</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab221"></a><h2 class="section">Value Declarations</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="global_init" class="idref" href="#global_init"><span class="id" title="module">global_init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variant</span> <a id="global_init.t" class="idref" href="#global_init.t"><span class="id" title="inductive">t</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="global_init.Init" class="idref" href="#global_init.Init"><span class="id" title="constructor">Init</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;| <a id="global_init.ImplicitInit" class="idref" href="#global_init.ImplicitInit"><span class="id" title="constructor">ImplicitInit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^^&nbsp;This&nbsp;arises&nbsp;because&nbsp;template&nbsp;instantiations&nbsp;are&nbsp;only&nbsp;carried&nbsp;out<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;much&nbsp;as&nbsp;they&nbsp;are&nbsp;needed.&nbsp;For&nbsp;example,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;template&lt;typename&nbsp;T,&nbsp;T&nbsp;v&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;integral_constant&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;constexpr&nbsp;T&nbsp;value&nbsp;=&nbsp;v;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;test()&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;line&nbsp;forces&nbsp;the&nbsp;declaration,&nbsp;but&nbsp;not&nbsp;the&nbsp;initialization.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;x&nbsp;=&nbsp;sizeof(integral_constant&lt;bool,&nbsp;true&gt;::value);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;line&nbsp;forces&nbsp;the&nbsp;initialization&nbsp;of&nbsp;the&nbsp;value.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto&nbsp;y&nbsp;=&nbsp;integral_constant&lt;bool,&nbsp;true&gt;::value;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="global_init.NoInit" class="idref" href="#global_init.NoInit"><span class="id" title="constructor">NoInit</span></a><br/>
&nbsp;&nbsp;| <a id="global_init.Delayed" class="idref" href="#global_init.Delayed"><span class="id" title="constructor">Delayed</span></a> <span class="comment">(*&nbsp;for&nbsp;&lt;&lt;static&gt;&gt;&nbsp;variables&nbsp;declared&nbsp;in&nbsp;functions.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;are&nbsp;initialized&nbsp;during&nbsp;the&nbsp;first&nbsp;call&nbsp;to&nbsp;the&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="global_init.Extern" class="idref" href="#global_init.Extern"><span class="id" title="constructor">Extern</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="global_init.t_eq" class="idref" href="#global_init.t_eq"><span class="id" title="instance">t_eq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="module">UPoly</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">universes</span>(<span class="id" title="var">polymorphic</span>)]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="global_init.fmap" class="idref" href="#global_init.fmap"><span class="id" title="definition">fmap</span></a> `{<a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">FMap</span></a> <a id="M:6" class="idref" href="#M:6"><span class="id" title="binder"><span id="H:7" class="id">M</span></span></a>} (<a id="f:8" class="idref" href="#f:8"><span class="id" title="binder">f</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="gi:9" class="idref" href="#gi:9"><span class="id" title="binder">gi</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">global_init.t</span></a>) : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">global_init.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#gi:9"><span class="id" title="variable">gi</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Init"><span class="id" title="constructor">global_init.Init</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Init"><span class="id" title="constructor">global_init.Init</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#f:8"><span class="id" title="variable">f</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.ImplicitInit"><span class="id" title="constructor">global_init.ImplicitInit</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.ImplicitInit"><span class="id" title="constructor">global_init.ImplicitInit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.NoInit"><span class="id" title="constructor">global_init.NoInit</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.NoInit"><span class="id" title="constructor">global_init.NoInit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Delayed"><span class="id" title="constructor">global_init.Delayed</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Delayed"><span class="id" title="constructor">global_init.Delayed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Extern"><span class="id" title="constructor">global_init.Extern</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Extern"><span class="id" title="constructor">global_init.Extern</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">universes</span>(<span class="id" title="var">polymorphic</span>)]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="global_init.traverse" class="idref" href="#global_init.traverse"><span class="id" title="definition">traverse</span></a> `{<a id="H:12" class="idref" href="#H:12"><span class="id" title="binder">MRet</span></a> <a id="M:11" class="idref" href="#M:11"><span class="id" title="binder"><span id="H:12" class="id">M</span></span></a>, <a id="H0:13" class="idref" href="#H0:13"><span class="id" title="binder">Ap</span></a> <a id="H0:13" class="idref" href="#H0:13"><span class="id" title="binder">M</span></a>} (<a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#M:11"><span class="id" title="variable">M</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="gi:15" class="idref" href="#gi:15"><span class="id" title="binder">gi</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">global_init.t</span></a>) : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#M:11"><span class="id" title="variable">M</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">global_init.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#gi:15"><span class="id" title="variable">gi</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Init"><span class="id" title="constructor">global_init.Init</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Init"><span class="id" title="constructor">global_init.Init</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#f:14"><span class="id" title="variable">f</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.ImplicitInit"><span class="id" title="constructor">global_init.ImplicitInit</span></a> =&gt; <span class="id" title="definition">mret</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.ImplicitInit"><span class="id" title="constructor">global_init.ImplicitInit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.NoInit"><span class="id" title="constructor">global_init.NoInit</span></a> =&gt; <span class="id" title="definition">mret</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.NoInit"><span class="id" title="constructor">global_init.NoInit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Delayed"><span class="id" title="constructor">global_init.Delayed</span></a> =&gt; <span class="id" title="definition">mret</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Delayed"><span class="id" title="constructor">global_init.Delayed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Extern"><span class="id" title="constructor">global_init.Extern</span></a> =&gt; <span class="id" title="definition">mret</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init.Extern"><span class="id" title="constructor">global_init.Extern</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#global_init"><span class="id" title="module">global_init</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Values&nbsp;in&nbsp;Object&nbsp;files.&nbsp;These&nbsp;can&nbsp;be&nbsp;externed.&nbsp;*)</span><br/>
<span class="id" title="keyword">Variant</span> <a id="ObjValue'" class="idref" href="#ObjValue'"><span class="id" title="inductive">ObjValue'</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Ovar" class="idref" href="#Ovar"><span class="id" title="constructor">Ovar</span></a>         (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t"><span class="id" title="inductive">global_init.t</span></a>)<br/>
| <a id="Ofunction" class="idref" href="#Ofunction"><span class="id" title="constructor">Ofunction</span></a>    (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a>)<br/>
| <a id="Omethod" class="idref" href="#Omethod"><span class="id" title="constructor">Omethod</span></a>      (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a>)<br/>
| <a id="Oconstructor" class="idref" href="#Oconstructor"><span class="id" title="constructor">Oconstructor</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a>)<br/>
| <a id="Odestructor" class="idref" href="#Odestructor"><span class="id" title="constructor">Odestructor</span></a>  (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="ObjValue" class="idref" href="#ObjValue"><span class="id" title="abbreviation">ObjValue</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue'"><span class="id" title="inductive">ObjValue'</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue"><span class="id" title="abbreviation">ObjValue</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="can_throw" class="idref" href="#can_throw"><span class="id" title="definition">can_throw</span></a> (<a id="ov:19" class="idref" href="#ov:19"><span class="id" title="binder">ov</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue'"><span class="id" title="inductive">ObjValue'</span></a>) : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#exception_spec.t"><span class="id" title="inductive">exception_spec.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ov:19"><span class="id" title="variable">ov</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Ovar"><span class="id" title="constructor">Ovar</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#exception_spec.Unknown"><span class="id" title="constructor">exception_spec.Unknown</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Ofunction"><span class="id" title="constructor">Ofunction</span></a> <span class="id" title="var">fn</span> =&gt; <span class="id" title="var">fn</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#f_exception"><span class="id" title="projection">f_exception</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Omethod"><span class="id" title="constructor">Omethod</span></a> <span class="id" title="var">meth</span> =&gt; <span class="id" title="var">meth</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_exception"><span class="id" title="projection">m_exception</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Oconstructor"><span class="id" title="constructor">Oconstructor</span></a> <span class="id" title="var">ct</span> =&gt; <span class="id" title="var">ct</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#c_exception"><span class="id" title="projection">c_exception</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Odestructor"><span class="id" title="constructor">Odestructor</span></a> <span class="id" title="var">dt</span> =&gt; <span class="id" title="var">dt</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#d_exception"><span class="id" title="projection">d_exception</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
TODO: <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.types.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a></span>, <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_value"><span class="id" title="definition">type_of_value</span></a></span> seem misplaced

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="type_of_classname" class="idref" href="#type_of_classname"><span class="id" title="definition">type_of_classname</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#classname"><span class="id" title="abbreviation">classname</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_value"><span class="id" title="definition">type_of_value</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> returns the type of the given <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue"><span class="id" title="abbreviation">ObjValue</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="type_of_value" class="idref" href="#type_of_value"><span class="id" title="definition">type_of_value</span></a> (<a id="o:21" class="idref" href="#o:21"><span class="id" title="binder">o</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue"><span class="id" title="abbreviation">ObjValue</span></a>) : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#normalize_type"><span class="id" title="abbreviation">normalize_type</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#o:21"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Ovar"><span class="id" title="constructor">Ovar</span></a> <span class="id" title="var">t</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Ofunction"><span class="id" title="constructor">Ofunction</span></a> <span class="id" title="var">f</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> {| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_cc"><span class="id" title="projection">ft_cc</span></a> := <span class="id" title="var">f</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#f_cc"><span class="id" title="projection">f_cc</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_arity"><span class="id" title="projection">ft_arity</span></a> := <span class="id" title="var">f</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#f_arity"><span class="id" title="projection">f_arity</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_return"><span class="id" title="projection">ft_return</span></a> := <span class="id" title="var">f</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#f_return"><span class="id" title="projection">f_return</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_params"><span class="id" title="projection">ft_params</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">f</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#f_params"><span class="id" title="projection">f_params</span></a>) |}<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Omethod"><span class="id" title="constructor">Omethod</span></a> <span class="id" title="var">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_this_qual"><span class="id" title="projection">m_this_qual</span></a>) (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_classname"><span class="id" title="definition">type_of_classname</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_class"><span class="id" title="projection">m_class</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> {| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_cc"><span class="id" title="projection">ft_cc</span></a> := <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_cc"><span class="id" title="projection">m_cc</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_arity"><span class="id" title="projection">ft_arity</span></a> := <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_arity"><span class="id" title="projection">m_arity</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_return"><span class="id" title="projection">ft_return</span></a> := <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_return"><span class="id" title="projection">m_return</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_params"><span class="id" title="projection">ft_params</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">m</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#m_params"><span class="id" title="projection">m_params</span></a>) |}<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Oconstructor"><span class="id" title="constructor">Oconstructor</span></a> <span class="id" title="var">c</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_classname"><span class="id" title="definition">type_of_classname</span></a> <span class="id" title="var">c</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#c_class"><span class="id" title="projection">c_class</span></a>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> {| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_cc"><span class="id" title="projection">ft_cc</span></a> := <span class="id" title="var">c</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#c_cc"><span class="id" title="projection">c_cc</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_arity"><span class="id" title="projection">ft_arity</span></a> := <span class="id" title="var">c</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#c_arity"><span class="id" title="projection">c_arity</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_return"><span class="id" title="projection">ft_return</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_params"><span class="id" title="projection">ft_params</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">c</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#c_params"><span class="id" title="projection">c_params</span></a>) |}<br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Odestructor"><span class="id" title="constructor">Odestructor</span></a> <span class="id" title="var">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_classname"><span class="id" title="definition">type_of_classname</span></a> <span class="id" title="var">d</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#d_class"><span class="id" title="projection">d_class</span></a>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> {| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_cc"><span class="id" title="projection">ft_cc</span></a> := <span class="id" title="var">d</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#d_cc"><span class="id" title="projection">d_cc</span></a>) ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_arity"><span class="id" title="projection">ft_arity</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.preliminary.html#Ar_Definite"><span class="id" title="constructor">Ar_Definite</span></a> ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_return"><span class="id" title="projection">ft_return</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> ; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#ft_params"><span class="id" title="projection">ft_params</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> |}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab222"></a><h3 class="section">The Value Declaration Table</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="symbol_table" class="idref" href="#symbol_table"><span class="id" title="definition">symbol_table</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.t"><span class="id" title="definition">NM.t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ObjValue"><span class="id" title="abbreviation">ObjValue</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab223"></a><h2 class="section">Initializers</h2>

</div>
<div class="code">
<span class="id" title="keyword">Variant</span> <a id="GlobalInit'" class="idref" href="#GlobalInit'"><span class="id" title="inductive">GlobalInit'</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;initialization&nbsp;by&nbsp;an&nbsp;expression&nbsp;*)</span><br/>
| <a id="ExprInit" class="idref" href="#ExprInit"><span class="id" title="constructor">ExprInit</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;zero&nbsp;initialization&nbsp;*)</span><br/>
| <a id="ZeroInit" class="idref" href="#ZeroInit"><span class="id" title="constructor">ZeroInit</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;declaration&nbsp;will&nbsp;be&nbsp;initialized&nbsp;from&nbsp;within&nbsp;a&nbsp;function.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;C++&nbsp;standard&nbsp;states&nbsp;that&nbsp;these&nbsp;need&nbsp;to&nbsp;be&nbsp;initialized<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;a&nbsp;concurrency-safe&nbsp;way;&nbsp;however,&nbsp;in&nbsp;practice&nbsp;it&nbsp;is&nbsp;common<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;disable&nbsp;this&nbsp;functionality&nbsp;in&nbsp;embedded&nbsp;code&nbsp;using<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode">-<span class="id" title="var">fno</span>-<span class="id" title="var">threadsafe</span>-<span class="id" title="var">statics</span></span>.&nbsp;The&nbsp;boolean&nbsp;attached&nbsp;to&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;determines&nbsp;whether&nbsp;*the&nbsp;compiler*&nbsp;guarantees&nbsp;there&nbsp;is&nbsp;at&nbsp;most<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;single&nbsp;call&nbsp;to&nbsp;this&nbsp;constructor.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;https://eel.is/c++draft/stmt.dcl3
   *)</span><br/>
| <a id="FunctionInit" class="idref" href="#FunctionInit"><span class="id" title="constructor">FunctionInit</span></a> (<a id="at_most_once:25" class="idref" href="#at_most_once:25"><span class="id" title="binder">at_most_once</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="GlobalInit" class="idref" href="#GlobalInit"><span class="id" title="abbreviation">GlobalInit</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInit'"><span class="id" title="inductive">GlobalInit'</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInit"><span class="id" title="abbreviation">GlobalInit</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInitializer"><span class="id" title="abbreviation">GlobalInitializer</span></a></span> represents an initializer for a
    global variable.
 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="GlobalInitializer'" class="idref" href="#GlobalInitializer'"><span class="id" title="record">GlobalInitializer'</span></a> : <span class="id" title="keyword">Set</span> := <span class="id" title="var">Build_GlobalInitializer</span><br/>
&nbsp;&nbsp;{ <a id="g_name" class="idref" href="#g_name"><span class="id" title="projection">g_name</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#obj_name"><span class="id" title="definition">obj_name</span></a><br/>
&nbsp;&nbsp;; <a id="g_type" class="idref" href="#g_type"><span class="id" title="projection">g_type</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a><br/>
&nbsp;&nbsp;; <a id="g_init" class="idref" href="#g_init"><span class="id" title="projection">g_init</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInit"><span class="id" title="abbreviation">GlobalInit</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Notation</span> <a id="GlobalInitializer" class="idref" href="#GlobalInitializer"><span class="id" title="abbreviation">GlobalInitializer</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInitializer'"><span class="id" title="record">GlobalInitializer'</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInitializer"><span class="id" title="abbreviation">GlobalInitializer</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
An initialization block is a sequence of variable initializers
    that will be run when the compilation unit is loaded.

<div class="paragraph"> </div>

    Note that C++ guarantees the order of some initialization, but
    the order of template initialized global types is not specified by the
    standard.

<div class="paragraph"> </div>

    This means that, to be completely precise, this type needs to be
    something a bit more exotic that permits concurrent initialization.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="InitializerBlock" class="idref" href="#InitializerBlock"><span class="id" title="definition">InitializerBlock</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobalInitializer"><span class="id" title="abbreviation">GlobalInitializer</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="InitializerBlock_empty" class="idref" href="#InitializerBlock_empty"><span class="id" title="instance">InitializerBlock_empty</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#InitializerBlock"><span class="id" title="definition">InitializerBlock</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab224"></a><h2 class="section">Aliases</h2>

<div class="paragraph"> </div>

 These support

<div class="paragraph"> </div>

    <code>
</code>    namespace X {
      inline namespace Y {
        void test();
        using namespace Bar;
      }
      inline namespace Z { }
    }
    &gt;&gt;

<div class="paragraph"> </div>

    In this snippet, <code>X::Y::test()</code> is also exposed as <code>X::test()</code>.

<div class="paragraph"> </div>

    <code>inline</code> is an attribute of a <code>namespace</code>, **not** a <code>namespace</code>
    declaration, so either the entire <code>namespace</code> is inlined, or none of
    it is.

<div class="paragraph"> </div>

    This data structure stores namespace inclusions, e.g.
    <code>
</code>    X := <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.inductive_pointers_utils.html#merge_elems.merge_elem.X"><span class="id" title="variable">X</span></a>::<span class="id" title="var">Y</span>;</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.inductive_pointers_utils.html#merge_elems.merge_elem.X"><span class="id" title="variable">X</span></a>::<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a></span>
    X::Y := <span class="inlinecode"><span class="id" title="var">Bar</span></span>
    &gt;&gt;
    as above. If <code>NM</code> maps to <code>NM'</code>, then a lookup on <code>NM::xxx</code> can
    be satisfied by a lookup on <code>NM'::xxx</code>.

<div class="paragraph"> </div>

    We do not include transitive dependencies, e.g. <code>Bar</code> is not included
    in <code>X</code>.
 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="alias_table" class="idref" href="#alias_table"><span class="id" title="module">alias_table</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="alias_table.t" class="idref" href="#alias_table.t"><span class="id" title="definition">t</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#listset"><span class="id" title="record">listset</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.t"><span class="id" title="definition">NM.t</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#listset"><span class="id" title="record">listset</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="alias_table.t_empty" class="idref" href="#alias_table.t_empty"><span class="id" title="instance">t_empty</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.t"><span class="id" title="definition">t</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation"></span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation"></span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="alias_table.expand_aliases" class="idref" href="#alias_table.expand_aliases"><span class="id" title="section">expand_aliases</span></a>.<br/>
</div>

<div class="doc">
Get all possible expansions of the name 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="alias_table.all_expansions_" class="idref" href="#alias_table.all_expansions_"><span class="id" title="definition">all_expansions_</span></a> (<a id="aliases:30" class="idref" href="#aliases:30"><span class="id" title="binder">aliases</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.t"><span class="id" title="definition">NM.t</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#listset"><span class="id" title="record">listset</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>)) (<a id="n:31" class="idref" href="#n:31"><span class="id" title="binder">n</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) (<a id="fuel:32" class="idref" href="#fuel:32"><span class="id" title="binder">fuel</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[</span><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:31"><span class="id" title="variable">n</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#aliases:30"><span class="id" title="variable">aliases</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:31"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#Listset"><span class="id" title="constructor">Listset</span></a> <span class="id" title="var">ls</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#fuel:32"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <span class="id" title="var">ls</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">fuel</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">letM</span><span class="id" title="notation">*</span> <a id="l:35" class="idref" href="#l:35"><span class="id" title="binder">l</span></a> <span class="id" title="notation">:=</span> <span class="id" title="var">ls</span> <span class="id" title="notation">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#all_expansions_:33"><span class="id" title="definition">all_expansions_</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.remove"><span class="id" title="definition">NM.remove</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:31"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#aliases:30"><span class="id" title="variable">aliases</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#l:35"><span class="id" title="variable">l</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#fuel:32"><span class="id" title="variable">fuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="alias_table.all_expansions" class="idref" href="#alias_table.all_expansions"><span class="id" title="definition">all_expansions</span></a> (<a id="aliases:36" class="idref" href="#aliases:36"><span class="id" title="binder">aliases</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.t"><span class="id" title="definition">NM.t</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#listset"><span class="id" title="record">listset</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>)) (<a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.all_expansions_"><span class="id" title="definition">all_expansions_</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#aliases:36"><span class="id" title="variable">aliases</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:37"><span class="id" title="variable">n</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.namemap.html#NM.cardinal"><span class="id" title="definition">NM.cardinal</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#aliases:36"><span class="id" title="variable">aliases</span></a>).<br/>

<br/>
</div>

<div class="doc">
Expand all the aliases based on the information in the namespace table. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="alias_table.expand_aliases" class="idref" href="#alias_table.expand_aliases"><span class="id" title="definition">expand_aliases</span></a> (<a id="tu:38" class="idref" href="#tu:38"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.t"><span class="id" title="definition">alias_table.t</span></a>) (<a id="nm:39" class="idref" href="#nm:39"><span class="id" title="binder">nm</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:39"><span class="id" title="variable">nm</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Nglobal"><span class="id" title="constructor">Nglobal</span></a> <span class="id" title="var">an</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Because&nbsp;the&nbsp;global&nbsp;namespace&nbsp;can&nbsp;have&nbsp;inclusions,&nbsp;we&nbsp;need&nbsp;to&nbsp;consider&nbsp;&lt;&lt;inclusion::an&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.listset.html#Listset"><span class="id" title="constructor">Listset</span></a> <span class="id" title="var">gl</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">al</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:38"><span class="id" title="variable">tu</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="n:43" class="idref" href="#n:43"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Nscoped"><span class="id" title="constructor">Nscoped</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:43"><span class="id" title="variable">n</span></a> <span class="id" title="var">an</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">gl</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.all_expansions"><span class="id" title="definition">all_expansions</span></a> <span class="id" title="var">al</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:39"><span class="id" title="variable">nm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Ninst"><span class="id" title="constructor">Ninst</span></a> <span class="id" title="var">ns</span> <span class="id" title="var">inst</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="ns:44" class="idref" href="#ns:44"><span class="id" title="binder">ns</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Ninst"><span class="id" title="constructor">Ninst</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ns:44"><span class="id" title="variable">ns</span></a> <span class="id" title="var">inst</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#expand_aliases:40"><span class="id" title="definition">expand_aliases</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:38"><span class="id" title="variable">tu</span></a> <span class="id" title="var">ns</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Nscoped"><span class="id" title="constructor">Nscoped</span></a> <span class="id" title="var">ns</span> <span class="id" title="var">an</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">letM</span><span class="id" title="notation">*</span> <a id="ns:45" class="idref" href="#ns:45"><span class="id" title="binder">ns</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#expand_aliases:40"><span class="id" title="definition">expand_aliases</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:38"><span class="id" title="variable">tu</span></a> <span class="id" title="var">ns</span> <span class="id" title="notation">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="ns:46" class="idref" href="#ns:46"><span class="id" title="binder">ns</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Nscoped"><span class="id" title="constructor">Nscoped</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ns:46"><span class="id" title="variable">ns</span></a> <span class="id" title="var">an</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.all_expansions"><span class="id" title="definition">all_expansions</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:38"><span class="id" title="variable">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ns:45"><span class="id" title="variable">ns</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">[</span><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:39"><span class="id" title="variable">nm</span></a><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table.expand_aliases"><span class="id" title="section">expand_aliases</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#alias_table"><span class="id" title="module">alias_table</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab225"></a><h2 class="section">Translation units</h2>

<div class="paragraph"> </div>

A <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a></span> represents all the statically known
information about a C++ translation unit, that is, a source file.

<div class="paragraph"> </div>

TOOD: add support for symbols with <i>internal</i> linkage.

<div class="paragraph"> </div>

TODO: does linking induce a (non-commutative) monoid on object files?
Is then a translation unit a "singleton" value in this monoid?

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="translation_unit" class="idref" href="#translation_unit"><span class="id" title="record">translation_unit</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">makeTranslationUnit</span> {<br/>
&nbsp;&nbsp;<a id="symbols" class="idref" href="#symbols"><span class="id" title="projection">symbols</span></a>           : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#symbol_table"><span class="id" title="definition">symbol_table</span></a>;<br/>
&nbsp;&nbsp;<a id="types" class="idref" href="#types"><span class="id" title="projection">types</span></a>             : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>;<br/>
&nbsp;&nbsp;<a id="namespace_aliases" class="idref" href="#namespace_aliases"><span class="id" title="projection">namespace_aliases</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t"><span class="id" title="definition">alias_table.t</span></a>;<br/>
&nbsp;&nbsp;<a id="initializer" class="idref" href="#initializer"><span class="id" title="projection">initializer</span></a>       : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#InitializerBlock"><span class="id" title="definition">InitializerBlock</span></a>;<br/>
&nbsp;&nbsp;<a id="byte_order" class="idref" href="#byte_order"><span class="id" title="projection">byte_order</span></a>        : <span class="id" title="inductive">endian</span>;<br/>
}.<br/>
<a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">#[</span></span></span></span></span></a><a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">only</span></span></span></span></span></a><a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">(</span></span></span></span></span></a><a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">lens</span></span></span></span></span></a><a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">)]</span></span></span></span></span></a> <a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">derive</span></span></span></span></span></a> <a id="_symbols" class="idref" href="#_symbols"><span class="id" title="definition"><span id="_types" class="id"><span id="_namespace_aliases" class="id"><span id="_initializer" class="id"><span id="_byte_order" class="id">translation_unit</span></span></span></span></span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="empty_tu" class="idref" href="#empty_tu"><span class="id" title="definition">empty_tu</span></a> (<a id="e:53" class="idref" href="#e:53"><span class="id" title="binder">e</span></a> : <span class="id" title="inductive">endian</span>) : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#makeTranslationUnit"><span class="id" title="constructor">makeTranslationUnit</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation"></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation"></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation"></span></a> <span class="id" title="notation">[]</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#e:53"><span class="id" title="variable">e</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#empty_tu"><span class="id" title="definition">empty_tu</span></a> <span class="id" title="constructor">Little</span>. <span class="comment">(*&nbsp;&lt;&lt;&nbsp;selected&nbsp;by&nbsp;a&nbsp;fair&nbsp;coin&nbsp;flip&nbsp;*)</span><br/>

<br/>
#[<span class="id" title="var">local</span>]<br/>
<span class="id" title="keyword">Definition</span> <a id="canonicalize" class="idref" href="#canonicalize"><span class="id" title="definition">canonicalize</span></a> {<a id="T:54" class="idref" href="#T:54"><span class="id" title="binder">T</span></a>} (<a id="find:55" class="idref" href="#find:55"><span class="id" title="binder">find</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#T:54"><span class="id" title="variable">T</span></a>) (<a id="tu:56" class="idref" href="#tu:56"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="nm:57" class="idref" href="#nm:57"><span class="id" title="binder">nm</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#T:54"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="aliases:58" class="idref" href="#aliases:58"><span class="id" title="binder">aliases</span></a> := <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#expand_aliases"><span class="id" title="definition">alias_table.expand_aliases</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:56"><span class="id" title="variable">tu</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#namespace_aliases"><span class="id" title="projection">namespace_aliases</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:57"><span class="id" title="variable">nm</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="process:60" class="idref" href="#process:60"><span class="id" title="binder">process</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#find:55"><span class="id" title="variable">find</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:59"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <span class="id" title="notation">[</span><span class="id" title="var">v</span><span class="id" title="notation">]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">List.flat_map</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#process:60"><span class="id" title="variable">process</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#aliases:58"><span class="id" title="variable">aliases</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Resolves all of the aliases in a type name. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="resolve_type" class="idref" href="#resolve_type"><span class="id" title="definition">resolve_type</span></a> (<a id="tu:61" class="idref" href="#tu:61"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="nm:62" class="idref" href="#nm:62"><span class="id" title="binder">nm</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#decltype"><span class="id" title="definition">decltype</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="find:64" class="idref" href="#find:64"><span class="id" title="binder">find</span></a> <a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:61"><span class="id" title="variable">tu</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:63"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gtypedef"><span class="id" title="constructor">Gtypedef</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Genum"><span class="id" title="constructor">Genum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:63"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:63"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#canonicalize"><span class="id" title="definition">canonicalize</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#find:64"><span class="id" title="variable">find</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:61"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:62"><span class="id" title="variable">nm</span></a>.<br/>

<br/>
</div>

<div class="doc">
Resolves all of the aliaes in a value name. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="resolve_value" class="idref" href="#resolve_value"><span class="id" title="definition">resolve_value</span></a> (<a id="tu:65" class="idref" href="#tu:65"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="nm:66" class="idref" href="#nm:66"><span class="id" title="binder">nm</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="find:68" class="idref" href="#find:68"><span class="id" title="binder">find</span></a> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:65"><span class="id" title="variable">tu</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#symbols"><span class="id" title="projection">symbols</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:67"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:67"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#canonicalize"><span class="id" title="definition">canonicalize</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#find:68"><span class="id" title="variable">find</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:65"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#nm:66"><span class="id" title="variable">nm</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#is_trivially_destructible"><span class="id" title="definition">is_trivially_destructible</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.typed.html#exprtype.exprtype.tu"><span class="id" title="variable">tu</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a></span> returns <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a></span> if <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a></span> is trivially destructible.

<div class="paragraph"> </div>

    This classifies references as trivially destructible.
 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="is_trivially_destructible" class="idref" href="#is_trivially_destructible"><span class="id" title="definition">is_trivially_destructible</span></a> (<a id="tu:69" class="idref" href="#tu:69"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="ty:70" class="idref" href="#ty:70"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">ty</span>} : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#qual_norm"><span class="id" title="definition">qual_norm</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="t:72" class="idref" href="#t:72"><span class="id" title="binder">t</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:72"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tchar_"><span class="id" title="constructor">Tchar_</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> | <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbool"><span class="id" title="constructor">Tbool</span></a> | <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tmember_pointer"><span class="id" title="constructor">Tmember_pointer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfloat_"><span class="id" title="constructor">Tfloat_</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <span class="id" title="var">nm</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:69"><span class="id" title="variable">tu</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">nm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gunion"><span class="id" title="constructor">Gunion</span></a> <span class="id" title="var">u</span>) =&gt; <span class="id" title="var">u</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#u_trivially_destructible"><span class="id" title="projection">u_trivially_destructible</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <span class="id" title="var">s</span>) =&gt; <span class="id" title="var">s</span>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#s_trivially_destructible"><span class="id" title="projection">s_trivially_destructible</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <span class="id" title="var">ety</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#is_trivially_destructible:71"><span class="id" title="definition">is_trivially_destructible</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#tu:69"><span class="id" title="variable">tu</span></a> <span class="id" title="var">ety</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ty:70"><span class="id" title="variable">ty</span></a>.<br/>

<br/>
</div>

<div class="doc">
TODO: The following work on complete types seems misplaced.

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="ref_to_type" class="idref" href="#ref_to_type"><span class="id" title="definition">ref_to_type</span></a> (<a id="t:74" class="idref" href="#t:74"><span class="id" title="binder">t</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:74"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">t</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:74"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ref_to_type:75"><span class="id" title="definition">ref_to_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:74"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Not&nbsp;a&nbsp;reference&nbsp;type&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a id="not_ref_type" class="idref" href="#not_ref_type"><span class="id" title="abbreviation">not_ref_type</span></a> <span class="id" title="var">t</span> := (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ref_to_type"><span class="id" title="definition">ref_to_type</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_type_table" class="idref" href="#with_type_table"><span class="id" title="section">with_type_table</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_type_table.te" class="idref" href="#with_type_table.te"><span class="id" title="variable">te</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;To&nbsp;traverse&nbsp;a&nbsp;type&nbsp;definition&nbsp;and&nbsp;compute,&nbsp;say,&nbsp;its&nbsp;list&nbsp;of&nbsp;subobjects,<br/>
&nbsp;&nbsp;we&nbsp;require&nbsp;that&nbsp;the&nbsp;type&nbsp;is&nbsp;_complete_,&nbsp;as&nbsp;in&nbsp;the&nbsp;usual&nbsp;sense.<br/>
<br/>
&nbsp;&nbsp;This&nbsp;definition&nbsp;is&nbsp;adapted&nbsp;from&nbsp;Krebbers'15,&nbsp;Definition&nbsp;3.3.5,&nbsp;with&nbsp;needed<br/>
&nbsp;&nbsp;adjustments&nbsp;for&nbsp;C++.<br/>
<br/>
&nbsp;&nbsp;Unlike&nbsp;Krebbers:<br/>
&nbsp;&nbsp;-&nbsp;our&nbsp;<span class="inlinecode"><span class="id" title="var">type_table</span></span>&nbsp;are&nbsp;not&nbsp;ordered<br/>
&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">complete_named</span></span>&nbsp;takes&nbsp;a&nbsp;proof&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">complete_decl</span></span>&nbsp;to&nbsp;simplify&nbsp;its&nbsp;use&nbsp;for&nbsp;consumers,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;we'd&nbsp;naively&nbsp;recheck&nbsp;a&nbsp;struct&nbsp;wherever&nbsp;needed;&nbsp;but&nbsp;an&nbsp;actual&nbsp;checker&nbsp;can<br/>
&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;smarter&nbsp;(it&nbsp;could&nbsp;use&nbsp;a&nbsp;state&nbsp;monad&nbsp;carrying&nbsp;a&nbsp;map&nbsp;of&nbsp;known-complete&nbsp;types).<br/>
<br/>
&nbsp;&nbsp;The&nbsp;C++&nbsp;standard&nbsp;defines&nbsp;and&nbsp;constrains&nbsp;"(in)complete&nbsp;type"s&nbsp;at<br/>
&nbsp;&nbsp;https://eel.is/c++draft/basic.types.generaldef:object_type,incompletely-defined,
  and constraints it at https://eel.is/c++draft/basic.scope.pdecl6,<br/>
&nbsp;&nbsp;https://eel.is/c++draft/class.memdef:data_member,
  https://eel.is/c++draft/basic.def.odr12,<br/>
&nbsp;&nbsp;https://eel.is/c++draft/basic.def5.
  *)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Check&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">GlobDecl</span></span>&nbsp;is&nbsp;complete&nbsp;in&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">te</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="complete_decl" class="idref" href="#complete_decl"><span class="id" title="definition, inductive"><span id="complete_decl_ind" class="id"><span id="complete_decl_sind" class="id">complete_decl</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobDecl"><span class="id" title="abbreviation">GlobDecl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;intentionally&nbsp;omit&nbsp;Krebbers'&nbsp;clauses&nbsp;checking&nbsp;the&nbsp;aggregate&nbsp;is&nbsp;not<br/>
&nbsp;&nbsp;empty:&nbsp;empty&nbsp;aggregates&nbsp;are&nbsp;legal&nbsp;in&nbsp;full&nbsp;C/C++&nbsp;(see<br/>
&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">cpp2v</span>-<span class="id" title="var">tests</span>/<span class="id" title="var">test_translation_unit_validity.cpp</span></span>).&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_Struct" class="idref" href="#complete_Struct"><span class="id" title="constructor">complete_Struct</span></a> {<a id="st:91" class="idref" href="#st:91"><span class="id" title="binder">st</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Struct"><span class="id" title="abbreviation">Struct</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="b:92" class="idref" href="#b:92"><span class="id" title="binder">b</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="inductive">name</span></a>) <a id="li:93" class="idref" href="#li:93"><span class="id" title="binder">li</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <span class="id" title="definition">In</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#b:92"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#li:93"><span class="id" title="variable">li</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#st:91"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#s_bases"><span class="id" title="projection">s_bases</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#b:92"><span class="id" title="variable">b</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="m:94" class="idref" href="#m:94"><span class="id" title="binder">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <span class="id" title="definition">In</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#m:94"><span class="id" title="variable">m</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#st:91"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#s_fields"><span class="id" title="projection">s_fields</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#m:94"><span class="id" title="variable">m</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#mem_type"><span class="id" title="projection">mem_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl:79"><span class="id" title="inductive">complete_decl</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#st:91"><span class="id" title="variable">st</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_Union" class="idref" href="#complete_Union"><span class="id" title="constructor">complete_Union</span></a> {<a id="u:95" class="idref" href="#u:95"><span class="id" title="binder">u</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="m:96" class="idref" href="#m:96"><span class="id" title="binder">m</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <span class="id" title="definition">In</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#u:95"><span class="id" title="variable">u</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#u_fields"><span class="id" title="projection">u_fields</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#m:96"><span class="id" title="variable">m</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#mem_type"><span class="id" title="projection">mem_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl:79"><span class="id" title="inductive">complete_decl</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gunion"><span class="id" title="constructor">Gunion</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#u:95"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_enum" class="idref" href="#complete_enum"><span class="id" title="constructor">complete_enum</span></a> {<a id="t:97" class="idref" href="#t:97"><span class="id" title="binder">t</span></a> <a id="consts:98" class="idref" href="#consts:98"><span class="id" title="binder">consts</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:97"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl:79"><span class="id" title="inductive">complete_decl</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Genum"><span class="id" title="constructor">Genum</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:97"><span class="id" title="variable">t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#consts:98"><span class="id" title="variable">consts</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;No&nbsp;need&nbsp;for&nbsp;typedefs&nbsp;since&nbsp;those&nbsp;are&nbsp;forbidden&nbsp;in&nbsp;`Tnamed`,&nbsp;`Gtype`&nbsp;isn't<br/>
&nbsp;&nbsp;legal,&nbsp;`Gconstant`&nbsp;is&nbsp;illegal&nbsp;and&nbsp;wouldn't&nbsp;make&nbsp;sense.&nbsp;*)</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Basic&nbsp;types.&nbsp;This&nbsp;excludes&nbsp;references&nbsp;(as&nbsp;checked&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">complete_basic_type_not_ref</span></span>).&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="complete_basic_type" class="idref" href="#complete_basic_type"><span class="id" title="definition, inductive"><span id="complete_basic_type_ind" class="id"><span id="complete_basic_type_sind" class="id">complete_basic_type</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="complete_float" class="idref" href="#complete_float"><span class="id" title="constructor">complete_float</span></a> <a id="sz:99" class="idref" href="#sz:99"><span class="id" title="binder">sz</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfloat_"><span class="id" title="constructor">Tfloat_</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#sz:99"><span class="id" title="variable">sz</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_int" class="idref" href="#complete_int"><span class="id" title="constructor">complete_int</span></a> <a id="sgn:100" class="idref" href="#sgn:100"><span class="id" title="binder">sgn</span></a> <a id="sz:101" class="idref" href="#sz:101"><span class="id" title="binder">sz</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#sgn:100"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#sz:101"><span class="id" title="variable">sz</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_bool" class="idref" href="#complete_bool"><span class="id" title="constructor">complete_bool</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbool"><span class="id" title="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;| <a id="complete_nullptr" class="idref" href="#complete_nullptr"><span class="id" title="constructor">complete_nullptr</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a><br/>
&nbsp;&nbsp;| <a id="complete_char" class="idref" href="#complete_char"><span class="id" title="constructor">complete_char</span></a> <a id="c:102" class="idref" href="#c:102"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tchar_"><span class="id" title="constructor">Tchar_</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#c:102"><span class="id" title="variable">c</span></a>)<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;t&nbsp;can&nbsp;in&nbsp;turn&nbsp;be&nbsp;a&nbsp;pointer&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_ptr" class="idref" href="#complete_ptr"><span class="id" title="constructor">complete_ptr</span></a> {<a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a>} : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:103"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:103"><span class="id" title="variable">t</span></a>)<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">complete_pointee_type</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span>&nbsp;says&nbsp;that&nbsp;a&nbsp;pointer/reference&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">t</span></span>&nbsp;is&nbsp;complete.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;excludes&nbsp;references&nbsp;(as&nbsp;checked&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">complete_pointee_type_not_ref</span></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;they&nbsp;cannot&nbsp;be&nbsp;nested.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="complete_pointee_type" class="idref" href="#complete_pointee_type"><span class="id" title="definition, inductive"><span id="complete_pointee_type_ind" class="id"><span id="complete_pointee_type_sind" class="id">complete_pointee_type</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="complete_pt_qualified" class="idref" href="#complete_pt_qualified"><span class="id" title="constructor">complete_pt_qualified</span></a> {<a id="q:104" class="idref" href="#q:104"><span class="id" title="binder">q</span></a> <a id="t:105" class="idref" href="#t:105"><span class="id" title="binder">t</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:105"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#q:104"><span class="id" title="variable">q</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:105"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Pointers&nbsp;to&nbsp;array&nbsp;are&nbsp;only&nbsp;legal&nbsp;if&nbsp;the&nbsp;array&nbsp;is&nbsp;complete,&nbsp;at&nbsp;least<br/>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;C,&nbsp;since&nbsp;they&nbsp;cannot&nbsp;actually&nbsp;be&nbsp;indexed&nbsp;or&nbsp;created.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;rejects&nbsp;the&nbsp;invalid&nbsp;C:<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="keyword">struct</span></span> <span class="inlinecode"><span class="id" title="var">T</span>;</span> <span class="inlinecode"><span class="id" title="var">int</span></span> <span class="inlinecode"><span class="id" title="var">foo</span>(<span class="id" title="keyword">struct</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">x</span>[][10]);</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;C++&nbsp;compilers&nbsp;appear&nbsp;to&nbsp;accept&nbsp;this&nbsp;code,&nbsp;which&nbsp;we&nbsp;cover<br/>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">wellscoped_array</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_pt_array" class="idref" href="#complete_pt_array"><span class="id" title="constructor">complete_pt_array</span></a> <a id="t:106" class="idref" href="#t:106"><span class="id" title="binder">t</span></a> <a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0)%<span class="id" title="var">N</span>) <span class="comment">(*&nbsp;From&nbsp;Krebbers.&nbsp;Probably&nbsp;needed&nbsp;to&nbsp;reject&nbsp;<span class="inlinecode"><span class="id" title="var">T</span>[][]</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:106"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:106"><span class="id" title="variable">t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:107"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_pt_named" class="idref" href="#complete_pt_named"><span class="id" title="constructor">complete_pt_named</span></a> {<a id="n:108" class="idref" href="#n:108"><span class="id" title="binder">n</span></a> <a id="decl:109" class="idref" href="#decl:109"><span class="id" title="binder">decl</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;check&nbsp;could&nbsp;not&nbsp;appear&nbsp;in&nbsp;a&nbsp;Krebbers-style&nbsp;definition.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;it&nbsp;is&nbsp;not&nbsp;needed&nbsp;to&nbsp;enable&nbsp;computation&nbsp;on&nbsp;complete&nbsp;types.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#with_type_table.te"><span class="id" title="variable">te</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:108"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#decl:109"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:108"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_pt_enum" class="idref" href="#complete_pt_enum"><span class="id" title="constructor">complete_pt_enum</span></a> {<a id="n:110" class="idref" href="#n:110"><span class="id" title="binder">n</span></a> <a id="ty:111" class="idref" href="#ty:111"><span class="id" title="binder">ty</span></a> <a id="branches:112" class="idref" href="#branches:112"><span class="id" title="binder">branches</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;check&nbsp;could&nbsp;not&nbsp;appear&nbsp;in&nbsp;a&nbsp;Krebbers-style&nbsp;definition.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;it&nbsp;is&nbsp;not&nbsp;needed&nbsp;to&nbsp;enable&nbsp;computation&nbsp;on&nbsp;complete&nbsp;types.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#with_type_table.te"><span class="id" title="variable">te</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:110"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Genum"><span class="id" title="constructor">Genum</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ty:111"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#branches:112"><span class="id" title="variable">branches</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ty:111"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:110"><span class="id" title="variable">n</span></a>)<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Beware:<br/>
&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">Tfunction</span></span>&nbsp;represents&nbsp;a&nbsp;function&nbsp;type;&nbsp;somewhat&nbsp;counterintuitively,<br/>
&nbsp;&nbsp;a&nbsp;pointer&nbsp;to&nbsp;a&nbsp;function&nbsp;type&nbsp;is&nbsp;complete&nbsp;even&nbsp;if&nbsp;the&nbsp;argument/return&nbsp;types<br/>
&nbsp;&nbsp;are&nbsp;not&nbsp;complete&nbsp;but&nbsp;only&nbsp;well-scoped,&nbsp;you're&nbsp;just&nbsp;forbidden&nbsp;from<br/>
&nbsp;&nbsp;actually&nbsp;invoking&nbsp;the&nbsp;pointer;&nbsp;this&nbsp;follows&nbsp;Krebbers'15&nbsp;3.3.5.&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_pt_function" class="idref" href="#complete_pt_function"><span class="id" title="constructor">complete_pt_function</span></a> {<a id="cc:113" class="idref" href="#cc:113"><span class="id" title="binder">cc</span></a> <a id="ret:114" class="idref" href="#ret:114"><span class="id" title="binder">ret</span></a> <a id="args:115" class="idref" href="#args:115"><span class="id" title="binder">args</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ret:114"><span class="id" title="variable">ret</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types:84"><span class="id" title="inductive">wellscoped_types</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#args:115"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#FunctionType"><span class="id" title="constructor">FunctionType</span></a> (<span class="id" title="var">ft_cc</span>:=<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#cc:113"><span class="id" title="variable">cc</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ret:114"><span class="id" title="variable">ret</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#args:115"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_pt_basic" class="idref" href="#complete_pt_basic"><span class="id" title="constructor">complete_pt_basic</span></a> <a id="t:116" class="idref" href="#t:116"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:116"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a id="complete_pointee_void" class="idref" href="#complete_pointee_void"><span class="id" title="constructor">complete_pointee_void</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">complete_type</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span>&nbsp;says&nbsp;that&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">t</span></span>&nbsp;is&nbsp;well-formed,&nbsp;that&nbsp;is,&nbsp;complete.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="complete_type" class="idref" href="#complete_type"><span class="id" title="definition, inductive"><span id="complete_type_ind" class="id"><span id="complete_type_sind" class="id">complete_type</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="complete_qualified" class="idref" href="#complete_qualified"><span class="id" title="constructor">complete_qualified</span></a> {<a id="q:117" class="idref" href="#q:117"><span class="id" title="binder">q</span></a> <a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:118"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#q:117"><span class="id" title="variable">q</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:118"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Reference&nbsp;types.&nbsp;This&nbsp;setup&nbsp;forbids&nbsp;references&nbsp;to&nbsp;references.&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_ref" class="idref" href="#complete_ref"><span class="id" title="constructor">complete_ref</span></a> {<a id="t:119" class="idref" href="#t:119"><span class="id" title="binder">t</span></a>} : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:119"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:119"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_rv_ref" class="idref" href="#complete_rv_ref"><span class="id" title="constructor">complete_rv_ref</span></a> {<a id="t:120" class="idref" href="#t:120"><span class="id" title="binder">t</span></a>} : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:120"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:120"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;A&nbsp;reference&nbsp;to&nbsp;a&nbsp;struct/union&nbsp;named&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;is&nbsp;well-formed&nbsp;if&nbsp;its&nbsp;definition&nbsp;is.<br/>
&nbsp;&nbsp;TODO:&nbsp;instead&nbsp;of&nbsp;checking&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;points&nbsp;to&nbsp;a&nbsp;well-formed&nbsp;definition<br/>
&nbsp;&nbsp;_at&nbsp;each&nbsp;occurrence_,&nbsp;check&nbsp;it&nbsp;once,&nbsp;when&nbsp;adding&nbsp;it&nbsp;to&nbsp;our<br/>
&nbsp;&nbsp;analogue&nbsp;of&nbsp;a&nbsp;type&nbsp;environment,&nbsp;that&nbsp;is&nbsp;<span class="inlinecode"><span class="id" title="var">type_table</span></span>.<br/>
&nbsp;&nbsp;However,&nbsp;that&nbsp;might&nbsp;require&nbsp;replacing&nbsp;<span class="inlinecode"><span class="id" title="var">type_table</span></span>&nbsp;by&nbsp;a&nbsp;_sequence_&nbsp;of<br/>
&nbsp;&nbsp;declarations,&nbsp;instead&nbsp;of&nbsp;an&nbsp;unordered&nbsp;dictionary.<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="complete_named" class="idref" href="#complete_named"><span class="id" title="constructor">complete_named</span></a> {<a id="n:121" class="idref" href="#n:121"><span class="id" title="binder">n</span></a> <a id="decl:122" class="idref" href="#decl:122"><span class="id" title="binder">decl</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#with_type_table.te"><span class="id" title="variable">te</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:121"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#decl:122"><span class="id" title="variable">decl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl:79"><span class="id" title="inductive">complete_decl</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#decl:122"><span class="id" title="variable">decl</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:121"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_array" class="idref" href="#complete_array"><span class="id" title="constructor">complete_array</span></a> {<a id="t:123" class="idref" href="#t:123"><span class="id" title="binder">t</span></a> <a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:124"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0)%<span class="id" title="var">N</span>) <span class="comment">(*&nbsp;Needed?&nbsp;from&nbsp;Krebbers*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:123"><span class="id" title="variable">t</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:123"><span class="id" title="variable">t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:124"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_member_pointer" class="idref" href="#complete_member_pointer"><span class="id" title="constructor">complete_member_pointer</span></a> {<a id="n:125" class="idref" href="#n:125"><span class="id" title="binder">n</span></a> <a id="t:126" class="idref" href="#t:126"><span class="id" title="binder">t</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#not_ref_type"><span class="id" title="abbreviation">not_ref_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:126"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:125"><span class="id" title="variable">n</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:126"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tmember_pointer"><span class="id" title="constructor">Tmember_pointer</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:125"><span class="id" title="variable">n</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:126"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_function" class="idref" href="#complete_function"><span class="id" title="constructor">complete_function</span></a> {<a id="cc:127" class="idref" href="#cc:127"><span class="id" title="binder">cc</span></a> <a id="ar:128" class="idref" href="#ar:128"><span class="id" title="binder">ar</span></a> <a id="ret:129" class="idref" href="#ret:129"><span class="id" title="binder">ret</span></a> <a id="args:130" class="idref" href="#args:130"><span class="id" title="binder">args</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;could&nbsp;probably&nbsp;omit&nbsp;this&nbsp;constructor,&nbsp;and&nbsp;consider&nbsp;function&nbsp;types&nbsp;as&nbsp;not<br/>
&nbsp;&nbsp;&nbsp;&nbsp;complete;&nbsp;"complete&nbsp;function&nbsp;types"&nbsp;do&nbsp;not&nbsp;exist&nbsp;in&nbsp;the&nbsp;standard,&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">complete_symbol_table</span></span>&nbsp;does&nbsp;not&nbsp;use&nbsp;the&nbsp;concept.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#FunctionType"><span class="id" title="constructor">FunctionType</span></a> (<span class="id" title="var">ft_cc</span>:=<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#cc:127"><span class="id" title="variable">cc</span></a>) (<span class="id" title="var">ft_arity</span>:=<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ar:128"><span class="id" title="variable">ar</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ret:129"><span class="id" title="variable">ret</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#args:130"><span class="id" title="variable">args</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#FunctionType"><span class="id" title="constructor">FunctionType</span></a> (<span class="id" title="var">ft_cc</span>:=<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#cc:127"><span class="id" title="variable">cc</span></a>) (<span class="id" title="var">ft_arity</span>:=<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ar:128"><span class="id" title="variable">ar</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ret:129"><span class="id" title="variable">ret</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#args:130"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;| <a id="complete_basic" class="idref" href="#complete_basic"><span class="id" title="constructor">complete_basic</span></a> <a id="t:131" class="idref" href="#t:131"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type:80"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:131"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:131"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;</div>

<div class="doc">
Well-scoped arguments cannot mention undeclared types. Krebbers identifies
  them with valid pointee, but that breaks down in C++ due to references. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="wellscoped_type" class="idref" href="#wellscoped_type"><span class="id" title="definition, inductive"><span id="wellscoped_type_ind" class="id"><span id="wellscoped_type_sind" class="id">wellscoped_type</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="wellscoped_qualified" class="idref" href="#wellscoped_qualified"><span class="id" title="constructor">wellscoped_qualified</span></a> {<a id="q:132" class="idref" href="#q:132"><span class="id" title="binder">q</span></a> <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a>} (<span class="id" title="var">_</span> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:133"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#q:132"><span class="id" title="variable">q</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:133"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a id="wellscoped_array" class="idref" href="#wellscoped_array"><span class="id" title="constructor">wellscoped_array</span></a> <a id="t:134" class="idref" href="#t:134"><span class="id" title="binder">t</span></a> <a id="n:135" class="idref" href="#n:135"><span class="id" title="binder">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">_</span> : (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:135"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0)%<span class="id" title="var">N</span>) : <span class="comment">(*&nbsp;From&nbsp;Krebbers.&nbsp;Probably&nbsp;needed&nbsp;to&nbsp;reject&nbsp;<span class="inlinecode"><span class="id" title="var">T</span>[][]</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:134"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:134"><span class="id" title="variable">t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#n:135"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a id="wellscoped_pointee" class="idref" href="#wellscoped_pointee"><span class="id" title="constructor">wellscoped_pointee</span></a> <a id="t:136" class="idref" href="#t:136"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type:81"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:136"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:136"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;covers&nbsp;references.&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="wellscoped_complete" class="idref" href="#wellscoped_complete"><span class="id" title="constructor">wellscoped_complete</span></a> {<a id="t:137" class="idref" href="#t:137"><span class="id" title="binder">t</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type:82"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:137"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:137"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="wellscoped_types" class="idref" href="#wellscoped_types"><span class="id" title="definition, inductive"><span id="wellscoped_types_ind" class="id"><span id="wellscoped_types_sind" class="id">wellscoped_types</span></span></span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="wellscoped_nil" class="idref" href="#wellscoped_nil"><span class="id" title="constructor">wellscoped_nil</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types:84"><span class="id" title="inductive">wellscoped_types</span></a> <span class="id" title="notation">[]</span><br/>
&nbsp;&nbsp;| <a id="wellscoped_cons" class="idref" href="#wellscoped_cons"><span class="id" title="constructor">wellscoped_cons</span></a> <a id="t:138" class="idref" href="#t:138"><span class="id" title="binder">t</span></a> <a id="ts:139" class="idref" href="#ts:139"><span class="id" title="binder">ts</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type:83"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types:84"><span class="id" title="inductive">wellscoped_types</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ts:139"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types:84"><span class="id" title="inductive">wellscoped_types</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:138"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ts:139"><span class="id" title="variable">ts</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="valid_decl" class="idref" href="#valid_decl"><span class="id" title="definition, inductive"><span id="valid_decl_ind" class="id"><span id="valid_decl_sind" class="id">valid_decl</span></span></span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#GlobDecl"><span class="id" title="abbreviation">GlobDecl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="valid_typedef" class="idref" href="#valid_typedef"><span class="id" title="constructor">valid_typedef</span></a> <a id="t:142" class="idref" href="#t:142"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;typedefs&nbsp;in&nbsp;use&nbsp;have&nbsp;been&nbsp;inlined&nbsp;at&nbsp;their&nbsp;use-site,&nbsp;so&nbsp;we&nbsp;don't&nbsp;enforce<br/>
&nbsp;&nbsp;&nbsp;&nbsp;their&nbsp;validity.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;addition,&nbsp;we&nbsp;can't&nbsp;enforce&nbsp;their&nbsp;validity&nbsp;because&nbsp;`clang`&nbsp;produces<br/>
&nbsp;&nbsp;&nbsp;&nbsp;builtin&nbsp;typedefs&nbsp;with&nbsp;ill-scoped&nbsp;bodies,&nbsp;such&nbsp;as<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode">(<span class="id" title="var">Dtypedef</span></span> <span class="inlinecode">&quot;<span class="id" title="var">__NSConstantString</span>&quot;</span> <span class="inlinecode">(<span class="id" title="var">Tnamed</span></span> <span class="inlinecode">&quot;<span class="id" title="var">_Z22__NSConstantString_tag</span>&quot;))</span> <span class="inlinecode">::</span> <span class="inlinecode">...</span> <span class="inlinecode">::</span>
    <span class="inlinecode">(<span class="id" title="var">Dtypedef</span></span> <span class="inlinecode">&quot;<span class="id" title="var">__builtin_va_list</span>&quot;</span> <span class="inlinecode">(<span class="id" title="var">Tarray</span></span> <span class="inlinecode">(<span class="id" title="var">Tnamed</span></span> <span class="inlinecode">&quot;<span class="id" title="var">_Z13__va_list_tag</span>&quot;)</span> <span class="inlinecode">1))</span> <span class="inlinecode">::</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;wellscoped_type&nbsp;t&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#valid_decl:140"><span class="id" title="inductive">valid_decl</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gtypedef"><span class="id" title="constructor">Gtypedef</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:142"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a id="valid_type" class="idref" href="#valid_type"><span class="id" title="constructor">valid_type</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#valid_decl:140"><span class="id" title="inductive">valid_decl</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gtype"><span class="id" title="constructor">Gtype</span></a><br/>
&nbsp;&nbsp;| <a id="valid_const" class="idref" href="#valid_const"><span class="id" title="constructor">valid_const</span></a> <a id="t:143" class="idref" href="#t:143"><span class="id" title="binder">t</span></a> <a id="oe:144" class="idref" href="#oe:144"><span class="id" title="binder">oe</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Potentially&nbsp;redundant.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type"><span class="id" title="inductive">wellscoped_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#valid_decl:140"><span class="id" title="inductive">valid_decl</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gconstant"><span class="id" title="constructor">Gconstant</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#oe:144"><span class="id" title="variable">oe</span></a>)<br/>
&nbsp;&nbsp;| <a id="valid_complete_decl" class="idref" href="#valid_complete_decl"><span class="id" title="constructor">valid_complete_decl</span></a> <a id="g:145" class="idref" href="#g:145"><span class="id" title="binder">g</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl"><span class="id" title="inductive">complete_decl</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#g:145"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#valid_decl:140"><span class="id" title="inductive">valid_decl</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#g:145"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#with_type_table"><span class="id" title="section">with_type_table</span></a>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <a id="complete_decl_mut_ind" class="idref" href="#complete_decl_mut_ind"><span class="id" title="definition">complete_decl_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl"><span class="id" title="inductive">complete_decl</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span> <a id="complete_basic_type_mut_ind" class="idref" href="#complete_basic_type_mut_ind"><span class="id" title="definition">complete_basic_type_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type"><span class="id" title="inductive">complete_basic_type</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span> <a id="complete_pointee_type_mut_ind" class="idref" href="#complete_pointee_type_mut_ind"><span class="id" title="definition">complete_pointee_type_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type"><span class="id" title="inductive">complete_pointee_type</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span> <a id="complete_type_mut_ind" class="idref" href="#complete_type_mut_ind"><span class="id" title="definition">complete_type_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span> <a id="wellscoped_type_mut_ind" class="idref" href="#wellscoped_type_mut_ind"><span class="id" title="definition">wellscoped_type_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type"><span class="id" title="inductive">wellscoped_type</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span> <a id="wellscoped_types_mut_ind" class="idref" href="#wellscoped_types_mut_ind"><span class="id" title="definition">wellscoped_types_mut_ind</span></a> := <span class="id" title="var">Minimality</span> <span class="id" title="keyword">for</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types"><span class="id" title="inductive">wellscoped_types</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Combined Scheme</span> <span class="id" title="var">complete_mut_ind</span> <span class="id" title="var">from</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_decl_mut_ind"><span class="id" title="definition">complete_decl_mut_ind</span></a>, <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type_mut_ind"><span class="id" title="definition">complete_basic_type_mut_ind</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type_mut_ind"><span class="id" title="definition">complete_pointee_type_mut_ind</span></a>, <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type_mut_ind"><span class="id" title="definition">complete_type_mut_ind</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_type_mut_ind"><span class="id" title="definition">wellscoped_type_mut_ind</span></a>, <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#wellscoped_types_mut_ind"><span class="id" title="definition">wellscoped_types_mut_ind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="complete_basic_type_not_ref" class="idref" href="#complete_basic_type_not_ref"><span class="id" title="lemma">complete_basic_type_not_ref</span></a> <a id="te:146" class="idref" href="#te:146"><span class="id" title="binder">te</span></a> <a id="t:147" class="idref" href="#t:147"><span class="id" title="binder">t</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type"><span class="id" title="inductive">complete_basic_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:146"><span class="id" title="variable">te</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:147"><span class="id" title="variable">t</span></a> <span class="id" title="notation"></span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#not_ref_type"><span class="id" title="abbreviation">not_ref_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:147"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="complete_pointee_type_not_ref" class="idref" href="#complete_pointee_type_not_ref"><span class="id" title="lemma">complete_pointee_type_not_ref</span></a> <a id="te:148" class="idref" href="#te:148"><span class="id" title="binder">te</span></a> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:148"><span class="id" title="variable">te</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:149"><span class="id" title="variable">t</span></a> <span class="id" title="notation"></span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#not_ref_type"><span class="id" title="abbreviation">not_ref_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t:149"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">by</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type_not_ref"><span class="id" title="lemma">complete_basic_type_not_ref</span></a> | ]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="complete_type_not_ref_ref" class="idref" href="#complete_type_not_ref_ref"><span class="id" title="lemma">complete_type_not_ref_ref</span></a> <a id="te:150" class="idref" href="#te:150"><span class="id" title="binder">te</span></a> <a id="t1:151" class="idref" href="#t1:151"><span class="id" title="binder">t1</span></a> <a id="t2:152" class="idref" href="#t2:152"><span class="id" title="binder">t2</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:150"><span class="id" title="variable">te</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t1:151"><span class="id" title="variable">t1</span></a> <span class="id" title="notation"></span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#ref_to_type"><span class="id" title="definition">ref_to_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t1:151"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t2:152"><span class="id" title="variable">t2</span></a> <span class="id" title="notation"></span> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#not_ref_type"><span class="id" title="abbreviation">not_ref_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#t2:152"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 =&gt; <span class="id" title="var">Hsome</span>; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">te</span> =&gt; <span class="id" title="var">te</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> [<span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type_not_ref"><span class="id" title="lemma">complete_pointee_type_not_ref</span></a>| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_basic_type_not_ref"><span class="id" title="lemma">complete_basic_type_not_ref</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Adapted from Krebbers'15, Definition 3.3.6:
<ul class="doclist">
<li> all member types must be complete

</li>
<li> all function types must be pointer-complete as defined above.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="complete_type_table" class="idref" href="#complete_type_table"><span class="id" title="definition">complete_type_table</span></a> (<a id="te:153" class="idref" href="#te:153"><span class="id" title="binder">te</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="_key:154" class="idref" href="#_key:154"><span class="id" title="binder">_key</span></a> <a id="d:155" class="idref" href="#d:155"><span class="id" title="binder">d</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#valid_decl"><span class="id" title="inductive">valid_decl</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:153"><span class="id" title="variable">te</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#d:155"><span class="id" title="variable">d</span></a>) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:153"><span class="id" title="variable">te</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="complete_symbol_table" class="idref" href="#complete_symbol_table"><span class="id" title="definition">complete_symbol_table</span></a> (<a id="te:156" class="idref" href="#te:156"><span class="id" title="binder">te</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="syms:157" class="idref" href="#syms:157"><span class="id" title="binder">syms</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#symbol_table"><span class="id" title="definition">symbol_table</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="_key:158" class="idref" href="#_key:158"><span class="id" title="binder">_key</span></a> <a id="d:159" class="idref" href="#d:159"><span class="id" title="binder">d</span></a> =&gt; <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_pointee_type"><span class="id" title="inductive">complete_pointee_type</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:156"><span class="id" title="variable">te</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_of_value"><span class="id" title="definition">type_of_value</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#d:159"><span class="id" title="variable">d</span></a>)) <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#syms:157"><span class="id" title="variable">syms</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="complete_translation_unit" class="idref" href="#complete_translation_unit"><span class="id" title="definition">complete_translation_unit</span></a> (<a id="te:160" class="idref" href="#te:160"><span class="id" title="binder">te</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="syms:161" class="idref" href="#syms:161"><span class="id" title="binder">syms</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#symbol_table"><span class="id" title="definition">symbol_table</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_type_table"><span class="id" title="definition">complete_type_table</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:160"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#complete_symbol_table"><span class="id" title="definition">complete_symbol_table</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#te:160"><span class="id" title="variable">te</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#syms:161"><span class="id" title="variable">syms</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
[global] Instance complete_type_table_dec te : Decision (complete_type_table te).
Proof.
apply: map_Forall_dec.
(* unshelve eapply map_Forall_dec; try apply _. *)</span><br/>
*)<br/>
<br/>
<span class="comment">(*<br/>
TODOs&nbsp;for&nbsp;FM-216:<br/>
1.&nbsp;prove&nbsp;<span class="inlinecode"><span class="id" title="var">complete_type_table_dec</span></span>&nbsp;above&nbsp;with&nbsp;an&nbsp;efficient&nbsp;checker.<br/>
2.&nbsp;add&nbsp;<span class="inlinecode"><span class="id" title="var">bool_decide</span></span> <span class="inlinecode">(<span class="id" title="var">complete_type_table</span></span> <span class="inlinecode"><span class="id" title="var">types</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">true</span></span>)&nbsp;to&nbsp;translation_unit;<br/>
&nbsp;&nbsp;&nbsp;that's&nbsp;automatically&nbsp;proof-irrelevant,&nbsp;and&nbsp;proofs&nbsp;are&nbsp;just&nbsp;cheap&nbsp;<span class="inlinecode"><span class="id" title="var">eq_refl</span></span>.<br/>
3.&nbsp;add&nbsp;any&nbsp;helper&nbsp;lemmas,&nbsp;say&nbsp;for&nbsp;proving&nbsp;equality&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit</span></span>&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;equality&nbsp;of&nbsp;the&nbsp;relevant&nbsp;componets.<br/>
<br/>
Twist:&nbsp;the&nbsp;"decision&nbsp;procedure"&nbsp;likely&nbsp;requires&nbsp;fuel;&nbsp;find&nbsp;how&nbsp;to&nbsp;adapt&nbsp;the<br/>
above&nbsp;plan.&nbsp;We'll&nbsp;likely&nbsp;end&nbsp;up&nbsp;with&nbsp;a&nbsp;boolean&nbsp;checker&nbsp;proven&nbsp;correct.<br/>
<br/>
Question:&nbsp;do&nbsp;we&nbsp;need&nbsp;<span class="inlinecode"><span class="id" title="var">complete_symbol_table</span></span>?&nbsp;This&nbsp;is&nbsp;not&nbsp;expected.<br/>
<br/>
Goal:&nbsp;enable&nbsp;recursion&nbsp;on&nbsp;proofs&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">complete_type_table</span></span>,&nbsp;e.g.&nbsp;for&nbsp;defining<br/>
<span class="inlinecode"><span class="id" title="var">anyR</span></span>&nbsp;(FM-215).<br/>
*)</span><br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
