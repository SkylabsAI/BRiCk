<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.lang.cpp.semantics.ptrs</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2025&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
The "operational" style definitions about C++ pointers.

<div class="paragraph"> </div>

C++ pointers are subtle to model.
The definitions in this file are based on the C and C++ standards, and
formalizations of their memory object models (see <span class="inlinecode"><span class="id" title="var">doc</span>/<span class="id" title="var">sphinx</span>/<span class="id" title="var">bibliography.rst</span></span>).
 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">elpi.apps.locker.locker</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.base</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.addr</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.option</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.numbers</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.lang.cpp.syntax.html#"><span class="id" title="library">bluerock.lang.cpp.syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.lang.cpp.semantics.types.html#"><span class="id" title="library">bluerock.lang.cpp.semantics.types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#"><span class="id" title="library">bluerock.lang.cpp.semantics.genv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.lang.cpp.semantics.alloc_id.html#"><span class="id" title="library">bluerock.lang.cpp.semantics.alloc_id</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;only&nbsp;load&nbsp;Iris&nbsp;to&nbsp;declare&nbsp;trivial&nbsp;OFEs&nbsp;over&nbsp;pointers&nbsp;via&nbsp;<span class="inlinecode"><span class="id" title="var">leibnizO</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#"><span class="id" title="library">iris.algebra.ofe</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (σ : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_INPUTS" class="idref" href="#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.offset" class="idref" href="#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__offset_ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__o_dot" class="idref" href="#PTRS_SYNTAX_INPUTS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_MIXIN" class="idref" href="#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">Inputs</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_from" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_to" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> :&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="keyword">no</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#DOT_from:10"><span class="id" title="method">DOT_from</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#DOT_to:11"><span class="id" title="method">DOT_to</span></a> }.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_ptr_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="p:13" class="idref" href="#p:13"><span class="id" title="binder">p</span></a> <a id="o:14" class="idref" href="#o:14"><span class="id" title="binder">o</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:13"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:14"><span class="id" title="variable">o</span></a> |}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_offset_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="o1:15" class="idref" href="#o1:15"><span class="id" title="binder">o1</span></a> <a id="o2:16" class="idref" href="#o2:16"><span class="id" title="binder">o2</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#Inputs.__o_dot"><span class="id" title="axiom">__o_dot</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:15"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:16"><span class="id" title="variable">o2</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">mlock</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">Definition</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">_dot</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">@</span></span></span></span></span></span></span></a><a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">DOT_dot</span></span></span></span></span></span></span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.body"><span class="id" title="axiom">_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN._offset_ptr" class="idref" href="#PTRS_SYNTAX_MIXIN._offset_ptr"><span class="id" title="abbreviation">_offset_ptr</span></a> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN.o_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.o_dot"><span class="id" title="abbreviation">o_dot</span></a> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ,, o" := (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  ,,  o") : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS" class="idref" href="#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>
</div>

<div class="doc">
<a id="lab151"></a><h1 class="section">Pointers.</h1>


<div class="paragraph"> </div>

  This is the abstract model of pointers in C++ — more precisely, of their
  values. Pointers describe paths that might identify objects, which might be
  alive. Hence they must be understood relative to the C++ object model
  (&lt;https://eel.is/c++draft/intro.object&gt;). We also use pointers to represent the
  values of references, even if those are restricted to point to objects or
  functions (&lt;https://eel.is/c++draft/dcl.ref5>).

  - Not all of our pointers have concrete addresses.
    In C++, pointers to some objects are never created, and typical compilers
    might choose to not store such objects in memory; nevertheless, for
    uniformity our semantics identifies such objects via pointers, but
    our pointers need not represent an address
    (<https://eel.is/c++draft/basic.compounddef:represents_the_address&gt;).
    Function <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a></span> maps a pointer to the address it represents, if any.
    See also documentation of <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> and <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span>.
    (Compilers might temporarily store objects elsewhere, but only as a
    semantics-preserving optimization, which we ignore in our model of the C++
    abstract machine).
    That objects (of non-zero size) have constant addresses follows:
<ul class="doclist">
<li> for C11 (draft N1570), from 6.2.4.2:
      &gt; An object exists, has a constant address^33
      &gt; <span class="inlinecode">33</span>: The term ‘‘constant address’’ means that two pointers to the object
      constructed at possibly different times will compare equal.

</li>
<li> for C++, from &lt;https://eel.is/c++draft/intro.object8>:

      > an object with nonzero size shall occupy one or more bytes of storage

      and <https://eel.is/c++draft/intro.memory1&gt;:

<div class="paragraph"> </div>

      &gt; every byte has a unique address.

</li>
</ul>

<div class="paragraph"> </div>

  Pointers also have an <i>allocation ID</i>; the concept does not exist in
  the standard but is used to model provenance in many models of C
  pointers (CompCert, Krebbers, Cerberus, LLVM's twin semantics), sometimes
  under the name of "object ID". Allocation ID of deallocated regions are never
  reused for new regions.
<ul class="doclist">
<li> C++ objects form a forest of <i>complete objects</i>, and subobjects contained
    within (&lt;https://eel.is/c++draft/intro.object2>).
    All subobjects of the same complete object share the same allocation
    ID.
  - Character array objects can _provide storage_ to other objects.
    (<http://eel.is/c++draft/intro.objectdef:provides_storage&gt;)
    In particular, when memory allocators allocate an object <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> out of a
    character array <span class="inlinecode"><span class="id" title="library">arr</span></span>, then <span class="inlinecode"><span class="id" title="library">arr</span></span> provides storage to <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span>.
    Following Cerberus, a pointer to <span class="inlinecode"><span class="id" title="library">arr</span></span> and a pointer to <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> are
    considered as having distinct provenance.

<div class="paragraph"> </div>

    In Cerberus, pointers with fresh provenances are created by a
    magic <span class="inlinecode"><span class="id" title="var">malloc</span></span> primitive, which cannot be implemented in C (at least
    because of effective types, as Krebbers explains); in our semantics,
    pointers with fresh provenance are created by <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_region.new"><span class="id" title="section">new</span></a></span> operations (see
    <span class="inlinecode"><span class="id" title="var">wp_prval_new</span></span> axiom).

</li>
</ul>

<div class="paragraph"> </div>

  From a pointer to an object, one can use offsets to constructs pointers
  to subobjects.

<div class="paragraph"> </div>

  Our API allows tracking nested objects accurately, matching the C (object)
  memory model (as rendered by Krebbers) and the model mandated by the C++
  standard.

<div class="paragraph"> </div>

  A simple model is <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.lib.dfrac_agree.html#dfrac_agree.alloc"><span class="id" title="lemma">alloc</span></a></span> <span class="inlinecode"><span class="id" title="var">ID</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.mtraverse.html#option"><span class="id" title="section">option</span></a></span> <span class="inlinecode"><span class="id" title="var">address</span></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pointers.html#SIMPLE_PTRS_IMPL"><span class="id" title="module">SIMPLE_PTRS_IMPL</span></a></span>; a richer
  one is <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.inductive_pointers2.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a></span>.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr" class="idref" href="#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.ptr_eq_dec" class="idref" href="#PTRS.ptr_eq_dec"><span class="id" title="instance">ptr_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.ptr_countable" class="idref" href="#PTRS.ptr_countable"><span class="id" title="instance">ptr_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
C++ provides a distinguished pointer <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a></span> that is *never
      dereferenceable*
      (&lt;https://eel.is/c++draft/basic.compound3>)
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.nullptr" class="idref" href="#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
An invalid pointer, included as a sentinel value. Other pointers might
      be invalid as well; see <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.invalid_ptr" class="idref" href="#PTRS.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Pointer&nbsp;to&nbsp;a&nbsp;C++&nbsp;"complete&nbsp;object"&nbsp;with&nbsp;external&nbsp;or&nbsp;internal&nbsp;linkage,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;"functions";&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;distinct&nbsp;in&nbsp;C/C++&nbsp;standards&nbsp;(e.g.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://eel.is/c++draft/basic.pre:object>
     <https://eel.is/c++draft/basic.compound3.1&gt;),&nbsp;we&nbsp;represent&nbsp;them&nbsp;in&nbsp;the&nbsp;same<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;way.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since&nbsp;function&nbsp;pointers&nbsp;cannot&nbsp;be&nbsp;offset,&nbsp;offsetting&nbsp;function&nbsp;pointers<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produces&nbsp;<span class="inlinecode"><span class="id" title="var">invalid_ptr</span></span>,&nbsp;but&nbsp;we&nbsp;haven't&nbsp;needed&nbsp;to&nbsp;expose&nbsp;this.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;the&nbsp;address&nbsp;of&nbsp;global&nbsp;variables&nbsp;&amp;&nbsp;functions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.global_ptr" class="idref" href="#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="abbreviation">name</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Dynamic&nbsp;loading&nbsp;might&nbsp;require&nbsp;adding&nbsp;some&nbsp;abstract&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Might&nbsp;need&nbsp;deferring,&nbsp;as&nbsp;it&nbsp;needs&nbsp;designing&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;loading&nbsp;the&nbsp;same&nbsp;translation&nbsp;unit&nbsp;twice&nbsp;can&nbsp;give&nbsp;different<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addresses.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull" class="idref" href="#PTRS.global_ptr_nonnull"><span class="id" title="axiom">global_ptr_nonnull</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:25" class="idref" href="#tu:25"><span class="id" title="binder">tu</span></a> <a id="o:26" class="idref" href="#o:26"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:25"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:26"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab152"></a><h1 class="section">Pointer offsets.</h1>

      Offsets represent paths between objects and subobjects.

<div class="paragraph"> </div>

      If <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> points to an object and <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is an offset to a subobject,
      <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is a pointer to that subobject. If no such object exist,
      <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode">(<a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span> will not hold.

<div class="paragraph"> </div>

      For instance, if <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a>-&gt;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#with_lang.as_ref'.x"><span class="id" title="variable">x</span></a></span> is a C++ object but <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a>-&gt;<span class="id" title="var">y</span></span> isn't, in Coq,
      the pointer <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a></span> <span class="inlinecode">&quot;<a class="idref" href="bluerock.lang.cpp.syntax.types.html#with_lang.as_ref'.x"><span class="id" title="variable">x</span></a>&quot;</span> will be valid but <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a></span> <span class="inlinecode">&quot;<span class="id" title="var">y</span>&quot;</span>
      will not.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.offset" class="idref" href="#PTRS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.offset_eq_dec" class="idref" href="#PTRS.offset_eq_dec"><span class="id" title="instance">offset_eq_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.offset_countable" class="idref" href="#PTRS.offset_countable"><span class="id" title="instance">offset_countable</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
</div>

<div class="doc">
combine an offset and a pointer to get a new pointer;
    this is a right monoid action.
   
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__offset_ptr" class="idref" href="#PTRS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__o_dot" class="idref" href="#PTRS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
</div>

<div class="doc">
Offsets form a monoid 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_id" class="idref" href="#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>  : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.id_dot" class="idref" href="#PTRS.id_dot"><span class="id" title="instance">id_dot</span></a>    : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a>  <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.dot_id" class="idref" href="#PTRS.dot_id"><span class="id" title="instance">dot_id</span></a>    : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.dot_assoc" class="idref" href="#PTRS.dot_assoc"><span class="id" title="instance">dot_assoc</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a>   <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>      <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_id" class="idref" href="#PTRS.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:37"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:37"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_dot" class="idref" href="#PTRS.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="p:40" class="idref" href="#p:40"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:41" class="idref" href="#o1:41"><span class="id" title="binder">o1</span></a> <a id="o2:42" class="idref" href="#o2:42"><span class="id" title="binder">o2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:40"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:41"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:42"><span class="id" title="variable">o2</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:40"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:41"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:42"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Other&nbsp;constructors&nbsp;exist,&nbsp;but&nbsp;they&nbsp;are&nbsp;internal&nbsp;to&nbsp;C++&nbsp;model.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;They&nbsp;include:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;pointers&nbsp;to&nbsp;local&nbsp;variables&nbsp;(objects&nbsp;with&nbsp;automatic&nbsp;linkage/storage<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;duration,&nbsp;&lt;https://eel.is/c++draft/basic.memobjbasic.stc.auto>).
     - pointers to this (<https://eel.is/c++draft/expr.prim.this>) are just normal
       pointers naming the receiver of a method invocation.
   *)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab153"></a><h2 class="section">Concrete pointer offsets.</h2>


<div class="paragraph"> </div>

      They correspond to the kind of aggregate objects described in e.g.
      &lt;https://eel.is/c++draft/basic.compound&gt;.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;object&nbsp;with&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">cls</span></span>&nbsp;and&nbsp;field&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_field</span></span> <span class="inlinecode"><span class="id" title="var">cls</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;points&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">f</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_field" class="idref" href="#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#field"><span class="id" title="abbreviation">field</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>%<span class="id" title="var">_cpp_field_scope</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ., o" := (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span> <span class="id" title="var">o</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;array&nbsp;object&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;elements&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">n</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_sub</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;represents&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;(which&nbsp;might&nbsp;be&nbsp;a&nbsp;past-the-end&nbsp;pointer).<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_sub" class="idref" href="#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p .[ t ! n ]" := (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  .[  t  '!'  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> ".[ t ! n ]" := (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> ".[  t  !  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
going up and down the class hierarchy, one step at a time;
  these offsets are only for non-virtual inheritance. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_base" class="idref" href="#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="derived:49" class="idref" href="#derived:49"><span class="id" title="binder">derived</span></a> <a id="base:50" class="idref" href="#base:50"><span class="id" title="binder">base</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="abbreviation">name</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_derived" class="idref" href="#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="base:53" class="idref" href="#base:53"><span class="id" title="binder">base</span></a> <a id="derived:54" class="idref" href="#derived:54"><span class="id" title="binder">derived</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#name"><span class="id" title="abbreviation">name</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">o_sub_0</span></span>&nbsp;axiom&nbsp;is&nbsp;required&nbsp;because&nbsp;any&nbsp;object&nbsp;is&nbsp;a&nbsp;1-object&nbsp;array<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;https://eel.is/c++draft/expr.addfootnote-80>).
   *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_sub_0" class="idref" href="#PTRS.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> : <span class="id" title="notation">∀</span> {<a id="0004dfbbb2b40f74ec780d3b14e9a694" class="idref" href="#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="binder">σ</span></a>} <a id="ty:58" class="idref" href="#ty:58"><span class="id" title="binder">ty</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#0004dfbbb2b40f74ec780d3b14e9a694"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:58"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:58"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;drop&nbsp;(is_Some&nbsp;(size_of&nbsp;σ&nbsp;ty))&nbsp;via<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`displacement&nbsp;(o_sub&nbsp;σ&nbsp;ty&nbsp;i)&nbsp;=&nbsp;if&nbsp;(i&nbsp;=&nbsp;0)&nbsp;then&nbsp;0&nbsp;else&nbsp;i&nbsp;*&nbsp;size_of&nbsp;σ&nbsp;ty`<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_dot_sub" class="idref" href="#PTRS.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a> : <span class="id" title="notation">∀</span> {<a id="3fbd57ece83e53cb608a9741d4f82202" class="idref" href="#3fbd57ece83e53cb608a9741d4f82202"><span class="id" title="binder">σ</span></a>} <a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a> <a id="j:63" class="idref" href="#j:63"><span class="id" title="binder">j</span></a> <a id="ty:64" class="idref" href="#ty:64"><span class="id" title="binder">ty</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:64"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:62"><span class="id" title="variable">i</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:64"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#j:63"><span class="id" title="variable">j</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:64"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:62"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#j:63"><span class="id" title="variable">j</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We're&nbsp;ignoring&nbsp;virtual&nbsp;inheritance&nbsp;here,&nbsp;since&nbsp;we&nbsp;have&nbsp;no&nbsp;plans&nbsp;to<br/>
&nbsp;&nbsp;support&nbsp;it&nbsp;for&nbsp;now,&nbsp;but&nbsp;this&nbsp;might&nbsp;hold&nbsp;there&nbsp;too.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_base_derived" class="idref" href="#PTRS.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="e0654d5deb2c1e9011d617fb5c8d1727" class="idref" href="#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="binder">σ</span></a> <a id="p:68" class="idref" href="#p:68"><span class="id" title="binder">p</span></a> <a id="base:69" class="idref" href="#base:69"><span class="id" title="binder">base</span></a> <a id="derived:70" class="idref" href="#derived:70"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:70"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:69"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:68"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:70"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:69"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#e0654d5deb2c1e9011d617fb5c8d1727"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:69"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:70"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:68"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_derived_base" class="idref" href="#PTRS.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f42bfb3555370f7bd96de7b0c6e7b6db" class="idref" href="#f42bfb3555370f7bd96de7b0c6e7b6db"><span class="id" title="binder">σ</span></a> <a id="p:74" class="idref" href="#p:74"><span class="id" title="binder">p</span></a> <a id="base:75" class="idref" href="#base:75"><span class="id" title="binder">base</span></a> <a id="derived:76" class="idref" href="#derived:76"><span class="id" title="binder">derived</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#f42bfb3555370f7bd96de7b0c6e7b6db"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:76"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:75"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:74"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#f42bfb3555370f7bd96de7b0c6e7b6db"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:75"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:76"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#f42bfb3555370f7bd96de7b0c6e7b6db"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:76"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:75"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:74"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to allocation IDs; total on valid pointers thanks to
      <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.valid_ptr_alloc_id"><span class="id" title="variable">valid_ptr_alloc_id</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_alloc_id" class="idref" href="#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.alloc_id.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.null_alloc_id" class="idref" href="#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.alloc_id.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_nullptr" class="idref" href="#PTRS.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_offset" class="idref" href="#PTRS.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="p:85" class="idref" href="#p:85"><span class="id" title="binder">p</span></a> <a id="o:86" class="idref" href="#o:86"><span class="id" title="binder">o</span></a>}<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:86"><span class="id" title="variable">o</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:85"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:86"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:85"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull_aid" class="idref" href="#PTRS.global_ptr_nonnull_aid"><span class="id" title="axiom">global_ptr_nonnull_aid</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:89" class="idref" href="#tu:89"><span class="id" title="binder">tu</span></a> <a id="o:90" class="idref" href="#o:90"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:89"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:90"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to the address they represent,
      (&lt;https://eel.is/c++draft/basic.compounddef:represents_the_address>).
      Not defined on all valid pointers; defined on pointers existing in C++ (
      <https://eel.is/c++draft/basic.compound3&gt;).
      See discussion above.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_vaddr" class="idref" href="#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> : <span class="id" title="notation">∀</span> {<a id="08304a5fe01b9b887e728c77caf420c2" class="idref" href="#08304a5fe01b9b887e728c77caf420c2"><span class="id" title="binder">σ</span></a>}<span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="definition">vaddr</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span> and associated axioms are more advanced, only to be used
  in special cases. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;drop&nbsp;<span class="inlinecode"><span class="id" title="var">genv</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.eval_offset" class="idref" href="#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PTRS.with_genv" class="idref" href="#PTRS.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="959e6459c0c1e8b1c36364c84a17f523" class="idref" href="#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.with_genv.ptr_vaddr_nullptr"><span class="id" title="variable">ptr_vaddr_nullptr</span></a></span> is not mandated by the standard, but valid across
        compilers we are interested in.
        The closest hint is in &lt;https://eel.is/c++draft/conv.ptr&gt;
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.ptr_vaddr_nullptr" class="idref" href="#PTRS.with_genv.ptr_vaddr_nullptr"><span class="id" title="variable">ptr_vaddr_nullptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.global_ptr_nonnull_addr" class="idref" href="#PTRS.with_genv.global_ptr_nonnull_addr"><span class="id" title="variable">global_ptr_nonnull_addr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:101" class="idref" href="#tu:101"><span class="id" title="binder">tu</span></a> <a id="o:102" class="idref" href="#o:102"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:101"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:102"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.global_ptr_inj" class="idref" href="#PTRS.global_ptr_inj"><span class="id" title="instance">global_ptr_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:105" class="idref" href="#tu:105"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:105"><span class="id" title="variable">tu</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.global_ptr_addr_inj" class="idref" href="#PTRS.global_ptr_addr_inj"><span class="id" title="instance">global_ptr_addr_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:106" class="idref" href="#tu:106"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<span class="id" title="notation">λ</span> <a id="o:107" class="idref" href="#o:107"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:106"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:107"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.global_ptr_aid_inj" class="idref" href="#PTRS.global_ptr_aid_inj"><span class="id" title="instance">global_ptr_aid_inj</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tu:108" class="idref" href="#tu:108"><span class="id" title="binder">tu</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<span class="id" title="notation">λ</span> <a id="o:109" class="idref" href="#o:109"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:108"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:109"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
    Wrapped by <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.ptr_vaddr_o_sub_eq" class="idref" href="#PTRS.with_genv.ptr_vaddr_o_sub_eq"><span class="id" title="variable">ptr_vaddr_o_sub_eq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="p:110" class="idref" href="#p:110"><span class="id" title="binder">p</span></a> <a id="ty:111" class="idref" href="#ty:111"><span class="id" title="binder">ty</span></a> <a id="n1:112" class="idref" href="#n1:112"><span class="id" title="binder">n1</span></a> <a id="n2:113" class="idref" href="#n2:113"><span class="id" title="binder">n2</span></a> <a id="sz:114" class="idref" href="#sz:114"><span class="id" title="binder">sz</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:111"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:114"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:114"><span class="id" title="variable">sz</span></a> <span class="id" title="notation">&gt;</span> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:110"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:111"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:112"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:110"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:111"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:113"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:112"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:113"><span class="id" title="variable">n2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.eval_o_sub'" class="idref" href="#PTRS.with_genv.eval_o_sub'"><span class="id" title="variable">eval_o_sub'</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="ty:117" class="idref" href="#ty:117"><span class="id" title="binder">ty</span></a>} {<a id="i:118" class="idref" href="#i:118"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>} <a id="sz:119" class="idref" href="#sz:119"><span class="id" title="binder">sz</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:117"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:119"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;order&nbsp;enables&nbsp;reducing&nbsp;for&nbsp;known&nbsp;ty.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:117"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:118"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Z.of_N</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:119"><span class="id" title="variable">sz</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:118"><span class="id" title="variable">i</span></a>).<br/>

<br/>
</div>

<div class="doc">
    To hide implementation details of the compiler from proofs, we restrict
    this axiom to POD/Standard-layout structures.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.eval_o_field" class="idref" href="#PTRS.with_genv.eval_o_field"><span class="id" title="variable">eval_o_field</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:122" class="idref" href="#f:122"><span class="id" title="binder">f</span></a> <a id="n:123" class="idref" href="#n:123"><span class="id" title="binder">n</span></a> <a id="cls:124" class="idref" href="#cls:124"><span class="id" title="binder">cls</span></a> <a id="st:125" class="idref" href="#st:125"><span class="id" title="binder">st</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#f:122"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Field"><span class="id" title="abbreviation">Field</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#cls:124"><span class="id" title="variable">cls</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:123"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#cls:124"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#st:125"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#st:125"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#POD"><span class="id" title="constructor">POD</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#st:125"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bluerock.lang.cpp.syntax.decl.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.decl.html#Standard"><span class="id" title="constructor">Standard</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#f:122"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.types.html#offset_of"><span class="id" title="definition">offset_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#cls:124"><span class="id" title="variable">cls</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:123"><span class="id" title="variable">n</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;respects&nbsp;the&nbsp;monoidal&nbsp;structure&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>s&nbsp;_for&nbsp;well-defined&nbsp;offsets_.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.with_genv.eval_offset_dot" class="idref" href="#PTRS.with_genv.eval_offset_dot"><span class="id" title="variable">eval_offset_dot</span></a> : <span class="id" title="notation">∀</span> {<a id="o1:128" class="idref" href="#o1:128"><span class="id" title="binder">o1</span></a> <a id="o2:129" class="idref" href="#o2:129"><span class="id" title="binder">o2</span></a> <a id="s1:130" class="idref" href="#s1:130"><span class="id" title="binder">s1</span></a> <a id="s2:131" class="idref" href="#s2:131"><span class="id" title="binder">s2</span></a>}<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:128"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#s1:130"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:129"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#s2:131"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#959e6459c0c1e8b1c36364c84a17f523"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:128"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:129"><span class="id" title="variable">o2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#s1:130"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">+</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#s2:131"><span class="id" title="variable">s2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_DERIVED" class="idref" href="#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_alloc" class="idref" href="#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_alloc_eq" class="idref" href="#PTRS_DERIVED.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_address" class="idref" href="#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> : <span class="id" title="notation">∀</span> {<a id="c5f1c6762d485c6208d66ba59c1b59dc" class="idref" href="#c5f1c6762d485c6208d66ba59c1b59dc"><span class="id" title="binder">σ</span></a>}<span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_address_eq" class="idref" href="#PTRS_DERIVED.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> : <span class="id" title="notation">∀</span> {<a id="f0b4fa968927e20953797d1e09763588" class="idref" href="#f0b4fa968927e20953797d1e09763588"><span class="id" title="binder">σ</span></a>}<span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_DERIVED_MIXIN" class="idref" href="#PTRS_DERIVED_MIXIN"><span class="id" title="module">PTRS_DERIVED_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_DERIVED_MIXIN.same_alloc" class="idref" href="#PTRS_DERIVED_MIXIN.same_alloc"><span class="id" title="definition">same_alloc</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_DERIVED_MIXIN.same_alloc_eq" class="idref" href="#PTRS_DERIVED_MIXIN.same_alloc_eq"><span class="id" title="lemma">same_alloc_eq</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN.same_alloc"><span class="id" title="definition">same_alloc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_DERIVED_MIXIN.same_address" class="idref" href="#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a> {<a id="dce4d2719dad1ca6a682fd944ba4e879" class="idref" href="#dce4d2719dad1ca6a682fd944ba4e879"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_DERIVED_MIXIN.same_address_eq" class="idref" href="#PTRS_DERIVED_MIXIN.same_address_eq"><span class="id" title="lemma">same_address_eq</span></a> {<a id="e3e0deaf2c894e3eaf987f9981599a59" class="idref" href="#e3e0deaf2c894e3eaf987f9981599a59"><span class="id" title="binder">σ</span></a>} : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">same_property</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_DERIVED_MIXIN.pinned_ptr_pure" class="idref" href="#PTRS_DERIVED_MIXIN.pinned_ptr_pure"><span class="id" title="definition">pinned_ptr_pure</span></a> {<a id="1cd9065e8a4e883005d819069f13ddb7" class="idref" href="#1cd9065e8a4e883005d819069f13ddb7"><span class="id" title="binder">σ</span></a>} (<a id="va:147" class="idref" href="#va:147"><span class="id" title="binder">va</span></a> : <span class="id" title="definition">vaddr</span>) (<a id="p:148" class="idref" href="#p:148"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:148"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:147"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_DERIVED_MIXIN.pinned_ptr_pure_eq" class="idref" href="#PTRS_DERIVED_MIXIN.pinned_ptr_pure_eq"><span class="id" title="lemma">pinned_ptr_pure_eq</span></a> {<a id="907c7c6c43039975b3cedf224c45d528" class="idref" href="#907c7c6c43039975b3cedf224c45d528"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN.pinned_ptr_pure"><span class="id" title="definition">pinned_ptr_pure</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">fun</span> (<a id="va:150" class="idref" href="#va:150"><span class="id" title="binder">va</span></a> : <span class="id" title="definition">vaddr</span>) (<a id="p:151" class="idref" href="#p:151"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) =&gt; <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:150"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN"><span class="id" title="module">PTRS_DERIVED_MIXIN</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Double-check&nbsp;<span class="inlinecode"><span class="id" title="var">PTRS_DERIVED_MIXIN</span></span>&nbsp;matches&nbsp;its&nbsp;interface.&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <a id="PTRS_DERIVED_TEST" class="idref" href="#PTRS_DERIVED_TEST"><span class="id" title="module">PTRS_DERIVED_TEST</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>) : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P"><span class="id" title="module">P</span></a>.<br/>
<span class="id" title="keyword">Include</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN"><span class="id" title="module">PTRS_DERIVED_MIXIN</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P"><span class="id" title="module">P</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_TEST"><span class="id" title="module">PTRS_DERIVED_TEST</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF_MINIMAL" class="idref" href="#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a> &lt;+ <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_MIXIN" class="idref" href="#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._id" class="idref" href="#PTRS_MIXIN._id"><span class="id" title="abbreviation">_id</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
access a field 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._field" class="idref" href="#PTRS_MIXIN._field"><span class="id" title="abbreviation">_field</span></a> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
subscript an array 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._sub" class="idref" href="#PTRS_MIXIN._sub"><span class="id" title="abbreviation">_sub</span></a> <span class="id" title="var">z</span> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">z</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a></span> <span class="inlinecode"><span class="id" title="var">derived</span></span> <span class="inlinecode"><span class="id" title="library">base</span></span> is a cast from derived to base. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._base" class="idref" href="#PTRS_MIXIN._base"><span class="id" title="abbreviation">_base</span></a> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.specs.functions.html#_derived"><span class="id" title="abbreviation">_derived</span></a></span> <span class="inlinecode"><span class="id" title="library">base</span></span> <span class="inlinecode"><span class="id" title="var">derived</span></span> is a cast from base to derived 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._derived" class="idref" href="#PTRS_MIXIN._derived"><span class="id" title="abbreviation">_derived</span></a> := (@<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
</div>

<div class="doc">
  Explictly declare that all Iris equalities on pointers are trivial.
  We only add such explicit declarations as actually needed.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_MIXIN.ptrO" class="idref" href="#PTRS_MIXIN.ptrO"><span class="id" title="definition">ptrO</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_inhabited" class="idref" href="#PTRS_MIXIN.ptr_inhabited"><span class="id" title="instance">ptr_inhabited</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#populate"><span class="id" title="constructor">populate</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab154"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> expresses that <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> and <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o2</span></span>
     both produce <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> shared numerical value.

<div class="paragraph"> </div>

     Given that offsets are typed, <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> becomes a useful way of locally "erasing" the richer structure
     of <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span>s/<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a></span>s.

<div class="paragraph"> </div>

     NOTE: <span class="inlinecode"><span class="id" title="lemma">same_property_iff</span></span> ensures that the partial <span class="inlinecode"><span class="id" title="var">obs</span></span>ervation (<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span>)
     are both <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span>; <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a></span> for some <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a></span> iff
     <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a></span> <span class="inlinecode">(<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.offset_cong" class="idref" href="#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.offset"><span class="id" title="axiom">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="4183891fa36f5cab5c86bb8e754eece1" class="idref" href="#4183891fa36f5cab5c86bb8e754eece1"><span class="id" title="binder">σ</span></a> <a id="o1:153" class="idref" href="#o1:153"><span class="id" title="binder">o1</span></a> <a id="o2:154" class="idref" href="#o2:154"><span class="id" title="binder">o2</span></a> =&gt; <span class="id" title="definition">same_property</span> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#4183891fa36f5cab5c86bb8e754eece1"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:153"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:154"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab155"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> expresses that <span class="inlinecode"><span class="id" title="var">p1</span></span> and <span class="inlinecode"><span class="id" title="var">p2</span></span> share a common <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span> prefix and that
     <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> holds for the suffixes which "complete" p1 and p2.

<div class="paragraph"> </div>

     Given that <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span>s have a rich structure, <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> (in conjunction with <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbyte"><span class="id" title="abbreviation">Tbyte</span></a></span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode">**</span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbyte"><span class="id" title="abbreviation">Tbyte</span></a></span> <span class="inlinecode"><span class="id" title="var">p2</span></span>)
     /can/ be used to transport select resources.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.ptr_cong" class="idref" href="#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="72e905fcacb0fd5f0cf129d2a7138522" class="idref" href="#72e905fcacb0fd5f0cf129d2a7138522"><span class="id" title="binder">σ</span></a> <a id="p1:156" class="idref" href="#p1:156"><span class="id" title="binder">p1</span></a> <a id="p2:157" class="idref" href="#p2:157"><span class="id" title="binder">p2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a> <a id="o1:159" class="idref" href="#o1:159"><span class="id" title="binder">o1</span></a> <a id="o2:160" class="idref" href="#o2:160"><span class="id" title="binder">o2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:156"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:159"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:157"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:160"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#72e905fcacb0fd5f0cf129d2a7138522"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:159"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:160"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="PTRS_MIXIN.with_genv" class="idref" href="#PTRS_MIXIN.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="21923de5bc02f8046e102e2372bca038" class="idref" href="#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.eval_o_sub" class="idref" href="#PTRS_MIXIN.eval_o_sub"><span class="id" title="lemma">eval_o_sub</span></a> <a id="ty:162" class="idref" href="#ty:162"><span class="id" title="binder">ty</span></a> (<a id="i:163" class="idref" href="#i:163"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:162"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:162"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:163"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;order&nbsp;enables&nbsp;reducing&nbsp;for&nbsp;known&nbsp;ty.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="n:164" class="idref" href="#n:164"><span class="id" title="binder">n</span></a> =&gt; <span class="id" title="definition">Z.of_N</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:164"><span class="id" title="variable">n</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:163"><span class="id" title="variable">i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:162"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">sz</span> <span class="id" title="var">E</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_o_sub'"><span class="id" title="axiom">eval_o_sub'</span></a> <span class="id" title="var">sz</span>) //= {}<span class="id" title="var">E</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_ptr_sub_0" class="idref" href="#PTRS_MIXIN.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a> (<a id="p:165" class="idref" href="#p:165"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:166" class="idref" href="#ty:166"><span class="id" title="binder">ty</span></a> (<a id="Hsz:167" class="idref" href="#Hsz:167"><span class="id" title="binder">Hsz</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:166"><span class="id" title="variable">ty</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:165"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:166"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:165"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> // <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.offset_cong_equiv" class="idref" href="#PTRS_MIXIN.offset_cong_equiv"><span class="id" title="instance">offset_cong_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="instance">same_property_per</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_cong_partial_reflexive" class="idref" href="#PTRS_MIXIN.offset_cong_partial_reflexive"><span class="id" title="lemma">offset_cong_partial_reflexive</span></a> <a id="o:168" class="idref" href="#o:168"><span class="id" title="binder">o</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:168"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:168"><span class="id" title="variable">o</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:168"><span class="id" title="variable">o</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> /<span class="id" title="lemma">same_property_reflexive_equiv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_cong_offset2" class="idref" href="#PTRS_MIXIN.offset_cong_offset2"><span class="id" title="lemma">offset_cong_offset2</span></a> {<a id="o1:169" class="idref" href="#o1:169"><span class="id" title="binder">o1</span></a> <a id="o2:170" class="idref" href="#o2:170"><span class="id" title="binder">o2</span></a> <a id="o3:171" class="idref" href="#o3:171"><span class="id" title="binder">o3</span></a> <a id="o4:172" class="idref" href="#o4:172"><span class="id" title="binder">o4</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:169"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:170"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o3:171"><span class="id" title="variable">o3</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o4:172"><span class="id" title="variable">o4</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:169"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o3:171"><span class="id" title="variable">o3</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:170"><span class="id" title="variable">o2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o4:172"><span class="id" title="variable">o4</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> !<span class="id" title="lemma">same_property_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">z</span>] [<span class="id" title="var">Ho1</span> <span class="id" title="var">Ho2</span>] [<span class="id" title="var">z'</span>] [<span class="id" title="var">Ho3</span> <span class="id" title="var">Ho4</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset_dot"><span class="id" title="axiom">eval_offset_dot</span></a> (<span class="id" title="var">s1</span> := <span class="id" title="var">z</span>) (<span class="id" title="var">s2</span> := <span class="id" title="var">z'</span>)) //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_cong_offset" class="idref" href="#PTRS_MIXIN.offset_cong_offset"><span class="id" title="lemma">offset_cong_offset</span></a> {<a id="o1:173" class="idref" href="#o1:173"><span class="id" title="binder">o1</span></a> <a id="o2:174" class="idref" href="#o2:174"><span class="id" title="binder">o2</span></a> <a id="o:175" class="idref" href="#o:175"><span class="id" title="binder">o</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:175"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:173"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:174"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:173"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:175"><span class="id" title="variable">o</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:174"><span class="id" title="variable">o2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:175"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exact</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong_offset2"><span class="id" title="lemma">offset_cong_offset2</span></a> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong_partial_reflexive"><span class="id" title="lemma">offset_cong_partial_reflexive</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_cong_subs" class="idref" href="#PTRS_MIXIN.offset_cong_subs"><span class="id" title="lemma">offset_cong_subs</span></a> {<a id="ty1:176" class="idref" href="#ty1:176"><span class="id" title="binder">ty1</span></a> <a id="ty2:177" class="idref" href="#ty2:177"><span class="id" title="binder">ty2</span></a> : <a class="idref" href="bluerock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>} {<a id="n1:178" class="idref" href="#n1:178"><span class="id" title="binder">n1</span></a> <a id="n2:179" class="idref" href="#n2:179"><span class="id" title="binder">n2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>} (<a id="sz1:180" class="idref" href="#sz1:180"><span class="id" title="binder">sz1</span></a> <a id="sz2:181" class="idref" href="#sz2:181"><span class="id" title="binder">sz2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty1:176"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz1:180"><span class="id" title="variable">sz1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty2:177"><span class="id" title="variable">ty2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz2:181"><span class="id" title="variable">sz2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz1:180"><span class="id" title="variable">sz1</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:178"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz2:181"><span class="id" title="variable">sz2</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:179"><span class="id" title="variable">n2</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty1:176"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:178"><span class="id" title="variable">n1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty2:177"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:179"><span class="id" title="variable">n2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hsz1</span> <span class="id" title="var">Hsz2</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <span class="id" title="lemma">same_property_iff</span> !<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.eval_o_sub"><span class="id" title="lemma">eval_o_sub</span></a> //= <span class="id" title="var">Hsz1</span> <span class="id" title="var">Hsz2</span> /= <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_reflexive" class="idref" href="#PTRS_MIXIN.ptr_cong_reflexive"><span class="id" title="instance">ptr_cong_reflexive</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>, (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbyte"><span class="id" title="abbreviation">Tbyte</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0 <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>), (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.syntax.core.html#Tbyte"><span class="id" title="abbreviation">Tbyte</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">same_property_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.eval_o_sub"><span class="id" title="lemma">eval_o_sub</span></a> //= <span class="id" title="lemma">Z.mul_0_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_sym" class="idref" href="#PTRS_MIXIN.ptr_cong_sym"><span class="id" title="instance">ptr_cong_sym</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> [<span class="id" title="var">p''</span> [<span class="id" title="var">o1</span> [<span class="id" title="var">o2</span> [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hp'</span> <span class="id" title="var">Hcong</span>]]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p''</span>, <span class="id" title="var">o2</span>, <span class="id" title="var">o1</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;(JH):&nbsp;<span class="inlinecode"><span class="id" title="var">Transitive</span></span>&nbsp;isn't&nbsp;provable&nbsp;without&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_vaddr</span></span>&nbsp;side-condition&nbsp;because<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;intermediate&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>&nbsp;might&nbsp;not&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">Some</span></span>&nbsp;integral&nbsp;value.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;[global] Instance ptr_cong_trans : Transitive (ptr_cong σ). *)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_ptr_cong" class="idref" href="#PTRS_MIXIN.offset_ptr_cong"><span class="id" title="lemma">offset_ptr_cong</span></a> (<a id="p:182" class="idref" href="#p:182"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:183" class="idref" href="#o1:183"><span class="id" title="binder">o1</span></a> <a id="o2:184" class="idref" href="#o2:184"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:183"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:184"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:182"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:183"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:182"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:184"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_cong_offset2" class="idref" href="#PTRS_MIXIN.ptr_cong_offset2"><span class="id" title="lemma">ptr_cong_offset2</span></a> {<a id="p1:185" class="idref" href="#p1:185"><span class="id" title="binder">p1</span></a> <a id="p2:186" class="idref" href="#p2:186"><span class="id" title="binder">p2</span></a> <a id="o1:187" class="idref" href="#o1:187"><span class="id" title="binder">o1</span></a> <a id="o2:188" class="idref" href="#o2:188"><span class="id" title="binder">o2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:187"><span class="id" title="variable">o1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:188"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:185"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:186"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:185"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:187"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:186"><span class="id" title="variable">p2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:188"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Ho12</span> [<span class="id" title="var">p</span>] [<span class="id" title="var">o3</span>] [<span class="id" title="var">o4</span>] [-&gt;] [-&gt;] <span class="id" title="var">Ho34</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">split_and</span>! =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong_offset2"><span class="id" title="lemma">offset_cong_offset2</span></a> <span class="id" title="var">Ho34</span> <span class="id" title="var">Ho12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_cong_offset" class="idref" href="#PTRS_MIXIN.ptr_cong_offset"><span class="id" title="lemma">ptr_cong_offset</span></a> {<a id="p1:189" class="idref" href="#p1:189"><span class="id" title="binder">p1</span></a> <a id="p2:190" class="idref" href="#p2:190"><span class="id" title="binder">p2</span></a> <a id="o:191" class="idref" href="#o:191"><span class="id" title="binder">o</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:191"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:189"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:190"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:189"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:191"><span class="id" title="variable">o</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:190"><span class="id" title="variable">p2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:191"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong_offset2"><span class="id" title="lemma">ptr_cong_offset2</span></a> =&gt; //. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong_partial_reflexive"><span class="id" title="lemma">offset_cong_partial_reflexive</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_cong_o_sub" class="idref" href="#PTRS_MIXIN.ptr_cong_o_sub"><span class="id" title="lemma">ptr_cong_o_sub</span></a> {<a id="p1:192" class="idref" href="#p1:192"><span class="id" title="binder">p1</span></a> <a id="p2:193" class="idref" href="#p2:193"><span class="id" title="binder">p2</span></a> <a id="ty:194" class="idref" href="#ty:194"><span class="id" title="binder">ty</span></a> <a id="i:195" class="idref" href="#i:195"><span class="id" title="binder">i</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:194"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:192"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:193"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:192"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:194"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:195"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:193"><span class="id" title="variable">p2</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:194"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:195"><span class="id" title="variable">i</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">sz</span> <span class="id" title="var">Hsz</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong_offset"><span class="id" title="lemma">ptr_cong_offset</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.eval_o_sub"><span class="id" title="lemma">eval_o_sub</span></a> <span class="id" title="var">Hsz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab156"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_dec" class="idref" href="#PTRS_MIXIN.same_address_dec"><span class="id" title="instance">same_address_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_per" class="idref" href="#PTRS_MIXIN.same_address_per"><span class="id" title="instance">same_address_per</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_RewriteRelation" class="idref" href="#PTRS_MIXIN.same_address_RewriteRelation"><span class="id" title="instance">same_address_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_iff" class="idref" href="#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a> <a id="p1:196" class="idref" href="#p1:196"><span class="id" title="binder">p1</span></a> <a id="p2:197" class="idref" href="#p2:197"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:196"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:197"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="notation">∃</span> <a id="va:198" class="idref" href="#va:198"><span class="id" title="binder">va</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:196"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:198"><span class="id" title="variable">va</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:197"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:198"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <span class="id" title="lemma">same_property_iff</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_intro" class="idref" href="#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a> <a id="p1:199" class="idref" href="#p1:199"><span class="id" title="binder">p1</span></a> <a id="p2:200" class="idref" href="#p2:200"><span class="id" title="binder">p2</span></a> <a id="va:201" class="idref" href="#va:201"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:199"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:201"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:200"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:201"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:199"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:200"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>; <span class="id" title="tactic">exact</span>: <span class="id" title="lemma">same_property_intro</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_address_nullptr_nullptr"><span class="id" title="lemma">same_address_nullptr_nullptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_proper" class="idref" href="#PTRS_MIXIN.ptr_vaddr_proper"><span class="id" title="instance">ptr_vaddr_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> (<span class="id" title="var">va</span>&amp;-&gt;&amp;-&gt;)%<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_params" class="idref" href="#PTRS_MIXIN.ptr_vaddr_params"><span class="id" title="instance">ptr_vaddr_params</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> 1 := {}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab157"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a></span> lemmas</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.same_address_bool" class="idref" href="#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a id="p1:202" class="idref" href="#p1:202"><span class="id" title="binder">p1</span></a> <a id="p2:203" class="idref" href="#p2:203"><span class="id" title="binder">p2</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:202"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:203"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_bool_comm" class="idref" href="#PTRS_MIXIN.same_address_bool_comm"><span class="id" title="instance">same_address_bool_comm</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_eq" class="idref" href="#PTRS_MIXIN.same_address_bool_eq"><span class="id" title="lemma">same_address_bool_eq</span></a> {<a id="p1:204" class="idref" href="#p1:204"><span class="id" title="binder">p1</span></a> <a id="p2:205" class="idref" href="#p2:205"><span class="id" title="binder">p2</span></a> <a id="va1:206" class="idref" href="#va1:206"><span class="id" title="binder">va1</span></a> <a id="va2:207" class="idref" href="#va2:207"><span class="id" title="binder">va2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:204"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va1:206"><span class="id" title="variable">va1</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:205"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va2:207"><span class="id" title="variable">va2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:204"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:205"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va1:206"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va2:207"><span class="id" title="variable">va2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_ext"><span class="id" title="lemma">bool_decide_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <span class="id" title="lemma">same_property_iff</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_partial_reflexive" class="idref" href="#PTRS_MIXIN.same_address_bool_partial_reflexive"><span class="id" title="lemma">same_address_bool_partial_reflexive</span></a> <a id="p:208" class="idref" href="#p:208"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:208"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:208"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:208"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hsm</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_true"><span class="id" title="abbreviation">bool_decide_true</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> -<span class="id" title="lemma">same_property_reflexive_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab158"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED_MIXIN.same_alloc"><span class="id" title="definition">same_alloc</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_dec" class="idref" href="#PTRS_MIXIN.same_alloc_dec"><span class="id" title="instance">same_alloc_dec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RelDecision"><span class="id" title="class">RelDecision</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_per" class="idref" href="#PTRS_MIXIN.same_alloc_per"><span class="id" title="instance">same_alloc_per</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_iff" class="idref" href="#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a> <a id="p1:209" class="idref" href="#p1:209"><span class="id" title="binder">p1</span></a> <a id="p2:210" class="idref" href="#p2:210"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:209"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:210"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="notation">∃</span> <a id="aid:211" class="idref" href="#aid:211"><span class="id" title="binder">aid</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:209"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#aid:211"><span class="id" title="variable">aid</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:210"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#aid:211"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> <span class="id" title="lemma">same_property_iff</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_intro" class="idref" href="#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a> <a id="p1:212" class="idref" href="#p1:212"><span class="id" title="binder">p1</span></a> <a id="p2:213" class="idref" href="#p2:213"><span class="id" title="binder">p2</span></a> <a id="aid:214" class="idref" href="#aid:214"><span class="id" title="binder">aid</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:212"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#aid:214"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:213"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#aid:214"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:212"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:213"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>; <span class="id" title="tactic">exact</span>: <span class="id" title="lemma">same_property_intro</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_alloc_nullptr_nullptr"><span class="id" title="lemma">same_alloc_nullptr_nullptr</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_alloc_id_base" class="idref" href="#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <a id="p:215" class="idref" href="#p:215"><span class="id" title="binder">p</span></a> <a id="o:216" class="idref" href="#o:216"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:217" class="idref" href="#Hs:217"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:216"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:215"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset" class="idref" href="#PTRS_MIXIN.same_alloc_offset"><span class="id" title="lemma">same_alloc_offset</span></a> <a id="p:218" class="idref" href="#p:218"><span class="id" title="binder">p</span></a> <a id="o:219" class="idref" href="#o:219"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:220" class="idref" href="#Hs:220"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:218"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:219"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:218"><span class="id" title="variable">p</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:218"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:219"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">Hs</span>) =&gt; <span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_2" class="idref" href="#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <a id="p:221" class="idref" href="#p:221"><span class="id" title="binder">p</span></a> <a id="o1:222" class="idref" href="#o1:222"><span class="id" title="binder">o1</span></a> <a id="o2:223" class="idref" href="#o2:223"><span class="id" title="binder">o2</span></a> <a id="p1:224" class="idref" href="#p1:224"><span class="id" title="binder">p1</span></a> <a id="p2:225" class="idref" href="#p2:225"><span class="id" title="binder">p2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E1:226" class="idref" href="#E1:226"><span class="id" title="binder">E1</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:224"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:222"><span class="id" title="variable">o1</span></a>) (<a id="E2:227" class="idref" href="#E2:227"><span class="id" title="binder">E2</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:225"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:223"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs1:228" class="idref" href="#Hs1:228"><span class="id" title="binder">Hs1</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o1:222"><span class="id" title="variable">o1</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs2:229" class="idref" href="#Hs2:229"><span class="id" title="binder">Hs2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o2:223"><span class="id" title="variable">o2</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p1:224"><span class="id" title="variable">p1</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p2:225"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hs1</span>) =&gt; [<span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>; <span class="id" title="tactic">move</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs1</span>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_1" class="idref" href="#PTRS_MIXIN.same_alloc_offset_1"><span class="id" title="lemma">same_alloc_offset_1</span></a> <a id="p:230" class="idref" href="#p:230"><span class="id" title="binder">p</span></a> <a id="o:231" class="idref" href="#o:231"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:232" class="idref" href="#Hs:232"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:230"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:231"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:230"><span class="id" title="variable">p</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:230"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#o:231"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <span class="id" title="var">p</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> <span class="id" title="var">o</span>); <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
    Wrapper by <span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS.with_genv.ptr_vaddr_o_sub_eq"><span class="id" title="variable">ptr_vaddr_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_o_sub_eq" class="idref" href="#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a> <a id="p:233" class="idref" href="#p:233"><span class="id" title="binder">p</span></a> <a id="ty:234" class="idref" href="#ty:234"><span class="id" title="binder">ty</span></a> <a id="n1:235" class="idref" href="#n1:235"><span class="id" title="binder">n1</span></a> <a id="n2:236" class="idref" href="#n2:236"><span class="id" title="binder">n2</span></a> <a id="sz:237" class="idref" href="#sz:237"><span class="id" title="binder">sz</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:234"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:237"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#sz:237"><span class="id" title="variable">sz</span></a> <span class="id" title="notation">&gt;</span> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:233"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:234"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:235"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:233"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:234"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:236"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n1:235"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n2:236"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a></span> states that the pointer (if it exists in memory) has
    the given alignment.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr" class="idref" href="#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a id="align:238" class="idref" href="#align:238"><span class="id" title="binder">align</span></a> <a id="p:239" class="idref" href="#p:239"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="va:240" class="idref" href="#va:240"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:240"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">(</span><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#align:238"><span class="id" title="variable">align</span></a> <span class="id" title="notation">|</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:240"><span class="id" title="variable">va</span></a><span class="id" title="notation">)</span>%<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr_ty" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a id="ty:241" class="idref" href="#ty:241"><span class="id" title="binder">ty</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="align:243" class="idref" href="#align:243"><span class="id" title="binder">align</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:241"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#align:243"><span class="id" title="variable">align</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#align:243"><span class="id" title="variable">align</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:242"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_ty_erase_qualifiers" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_erase_qualifiers"><span class="id" title="lemma">aligned_ptr_ty_erase_qualifiers</span></a> <a id="p:244" class="idref" href="#p:244"><span class="id" title="binder">p</span></a> <a id="ty:245" class="idref" href="#ty:245"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:245"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:244"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> (<a class="idref" href="bluerock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:245"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:244"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bluerock.lang.cpp.semantics.types.html#align_of_erase_qualifiers"><span class="id" title="axiom">align_of_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_mono"><span class="id" title="instance">aligned_ptr_divide_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <span class="id" title="definition">N.divide</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">m</span> <span class="id" title="var">n</span> + <span class="id" title="var">_</span> <span class="id" title="var">p</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> =&gt; ? [[<span class="id" title="var">va</span> [<span class="id" title="var">P</span> <span class="id" title="var">D</span>]]|]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>=&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_flip_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_flip_mono"><span class="id" title="instance">aligned_ptr_divide_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="definition">N.divide</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.N_divide_RewriteRelation" class="idref" href="#PTRS_MIXIN.N_divide_RewriteRelation"><span class="id" title="instance">N_divide_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <span class="id" title="definition">N.divide</span> := {}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_divide_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a> <a id="m:246" class="idref" href="#m:246"><span class="id" title="binder">m</span></a> <a id="n:247" class="idref" href="#n:247"><span class="id" title="binder">n</span></a> <a id="p:248" class="idref" href="#p:248"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:247"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:246"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:248"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:247"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:248"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_l" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_l"><span class="id" title="lemma">aligned_ptr_mult_weaken_l</span></a> <a id="m:249" class="idref" href="#m:249"><span class="id" title="binder">m</span></a> <a id="n:250" class="idref" href="#n:250"><span class="id" title="binder">n</span></a> <a id="p:251" class="idref" href="#p:251"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:249"><span class="id" title="variable">m</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:250"><span class="id" title="variable">n</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:251"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:250"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:251"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <span class="id" title="definition">N.divide_mul_r</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_r" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_r"><span class="id" title="lemma">aligned_ptr_mult_weaken_r</span></a> <a id="m:252" class="idref" href="#m:252"><span class="id" title="binder">m</span></a> <a id="n:253" class="idref" href="#n:253"><span class="id" title="binder">n</span></a> <a id="p:254" class="idref" href="#p:254"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:252"><span class="id" title="variable">m</span></a> <span class="id" title="notation">*</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:253"><span class="id" title="variable">n</span></a>) <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:254"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:252"><span class="id" title="variable">m</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:254"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <span class="id" title="definition">N.divide_mul_l</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_min" class="idref" href="#PTRS_MIXIN.aligned_ptr_min"><span class="id" title="lemma">aligned_ptr_min</span></a> <a id="p:255" class="idref" href="#p:255"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> 1 <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:255"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>] =&gt; <span class="id" title="var">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <span class="id" title="definition">N.divide_1_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_ty_mult_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_mult_weaken"><span class="id" title="lemma">aligned_ptr_ty_mult_weaken</span></a> <a id="m:256" class="idref" href="#m:256"><span class="id" title="binder">m</span></a> <a id="n:257" class="idref" href="#n:257"><span class="id" title="binder">n</span></a> <a id="ty:258" class="idref" href="#ty:258"><span class="id" title="binder">ty</span></a> <a id="p:259" class="idref" href="#p:259"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:258"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:256"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:257"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#m:256"><span class="id" title="variable">m</span></a><span class="id" title="notation">)</span>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:258"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:259"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:257"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:259"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_aligned_divide" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_aligned_divide"><span class="id" title="lemma">pinned_ptr_pure_aligned_divide</span></a> <a id="va:260" class="idref" href="#va:260"><span class="id" title="binder">va</span></a> <a id="n:261" class="idref" href="#n:261"><span class="id" title="binder">n</span></a> <a id="p:262" class="idref" href="#p:262"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:262"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:260"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:261"><span class="id" title="variable">n</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:262"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:261"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:260"><span class="id" title="variable">va</span></a><span class="id" title="notation">)</span>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_divide_1" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_divide_1"><span class="id" title="lemma">pinned_ptr_pure_divide_1</span></a> <a id="va:263" class="idref" href="#va:263"><span class="id" title="binder">va</span></a> <a id="n:264" class="idref" href="#n:264"><span class="id" title="binder">n</span></a> <a id="p:265" class="idref" href="#p:265"><span class="id" title="binder">p</span></a> <a id="ty:266" class="idref" href="#ty:266"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:267" class="idref" href="#Hal:267"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:266"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:264"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:266"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:265"><span class="id" title="variable">p</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:265"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:263"><span class="id" title="variable">va</span></a> <span class="id" title="notation">→</span> <span class="id" title="notation">(</span><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#n:264"><span class="id" title="variable">n</span></a> <span class="id" title="notation">|</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#va:263"><span class="id" title="variable">va</span></a><span class="id" title="notation">)</span>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <span class="id" title="var">Hal</span> /<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_sub_sub" class="idref" href="#PTRS_MIXIN.o_sub_sub"><span class="id" title="lemma">o_sub_sub</span></a> (<a id="p:268" class="idref" href="#p:268"><span class="id" title="binder">p</span></a> : <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:269" class="idref" href="#ty:269"><span class="id" title="binder">ty</span></a> <a id="i:270" class="idref" href="#i:270"><span class="id" title="binder">i</span></a> <a id="j:271" class="idref" href="#j:271"><span class="id" title="binder">j</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:269"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:270"><span class="id" title="variable">i</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:269"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#j:271"><span class="id" title="variable">j</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#ty:269"><span class="id" title="variable">ty</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#i:270"><span class="id" title="variable">i</span></a> <span class="id" title="notation">+</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#j:271"><span class="id" title="variable">j</span></a><a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_base_derived_tu" class="idref" href="#PTRS_MIXIN.o_base_derived_tu"><span class="id" title="lemma">o_base_derived_tu</span></a> `{<a id="17f474a2d4e9f0df1ac1c81f41ecc145" class="idref" href="#17f474a2d4e9f0df1ac1c81f41ecc145"><span class="id" title="binder">H</span></a><a id="17f474a2d4e9f0df1ac1c81f41ecc145" class="idref" href="#17f474a2d4e9f0df1ac1c81f41ecc145"><span class="id" title="binder">σ</span></a> : !<a id="tu:272" class="idref" href="#tu:272"><span class="id" title="binder">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a>} <a id="p:274" class="idref" href="#p:274"><span class="id" title="binder">p</span></a> <a id="base:275" class="idref" href="#base:275"><span class="id" title="binder">base</span></a> <a id="derived:276" class="idref" href="#derived:276"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:272"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:276"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:275"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:274"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:276"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:275"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:275"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:276"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:274"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bluerock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_derived_base_tu" class="idref" href="#PTRS_MIXIN.o_derived_base_tu"><span class="id" title="lemma">o_derived_base_tu</span></a> `{<a id="5d6f3786a90789fab58c8136446631ba" class="idref" href="#5d6f3786a90789fab58c8136446631ba"><span class="id" title="binder">H</span></a><a id="5d6f3786a90789fab58c8136446631ba" class="idref" href="#5d6f3786a90789fab58c8136446631ba"><span class="id" title="binder">σ</span></a> : !<a id="tu:277" class="idref" href="#tu:277"><span class="id" title="binder">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a>} <a id="p:279" class="idref" href="#p:279"><span class="id" title="binder">p</span></a> <a id="base:280" class="idref" href="#base:280"><span class="id" title="binder">base</span></a> <a id="derived:281" class="idref" href="#derived:281"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#tu:277"><span class="id" title="variable">tu</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:281"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:280"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:279"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:280"><span class="id" title="variable">base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:281"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#21923de5bc02f8046e102e2372bca038"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#derived:281"><span class="id" title="variable">derived</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#base:280"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#p:279"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bluerock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#P.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF" class="idref" href="#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a> := <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> &lt;+ <a class="idref" href="bluerock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
