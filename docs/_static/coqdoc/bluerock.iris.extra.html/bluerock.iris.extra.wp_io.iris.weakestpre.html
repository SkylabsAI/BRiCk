<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.iris.extra.wp_io.iris.weakestpre</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2023&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
<br/>
&nbsp;*&nbsp;ALL&nbsp;of&nbsp;the&nbsp;following&nbsp;code&nbsp;is&nbsp;derived&nbsp;from&nbsp;code&nbsp;original&nbsp;to&nbsp;the<br/>
&nbsp;*&nbsp;Iris&nbsp;project.&nbsp;That&nbsp;original&nbsp;code&nbsp;is<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;Iris&nbsp;developers&nbsp;and&nbsp;contributors<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;and&nbsp;used&nbsp;according&nbsp;to&nbsp;the&nbsp;following&nbsp;license.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SPDX-License-Identifier:&nbsp;BSD-3-Clause<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;Original&nbsp;Iris&nbsp;License:<br/>
&nbsp;*&nbsp;https://gitlab.mpi-sws.org/iris/iris/-/blob/cb324b81f5b00a7cb8ae186d7aca5011350037cd/LICENSE-CODE<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab99"></a><h2 class="section">General WP for <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.wp_io.html#root_aux_1.root.wp_io.PROP"><span class="id" title="variable">PROP</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.only_provable.html#bi"><span class="id" title="section">bi</span></a></span></h2>


<div class="paragraph"> </div>

This generalizes <span class="inlinecode"><span class="id" title="var">iris.program_logic.weakestpre</span></span> to any PROP.

<div class="paragraph"> </div>

However, this is ignoring later credits (£) which, for now, are still tied
to iProp.

<div class="paragraph"> </div>

TODO : upstream.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.base.html#"><span class="id" title="library">iris.proofmode.base</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.proofmode.proofmode.html#"><span class="id" title="library">bluerock.iris.extra.proofmode.proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#"><span class="id" title="library">iris.proofmode.classes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#"><span class="id" title="library">bluerock.iris.extra.bi.only_provable</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.iris.ghost</span></a>.<br/>

<br/>
</div>

<div class="doc">
The predicate we take the fixpoint of in order to define the WP.  In the step case, we both provide <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode">(<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="projection">num_laters_per_step</span></a></span> <span class="inlinecode"><span class="id" title="var">ns</span>)</span>
  later credits, as well as an iterated update modality that allows
  stripping as many laters, where <span class="inlinecode"><span class="id" title="var">ns</span></span> is the number of steps already taken.
  We have both as each of these provides distinct advantages:
<ul class="doclist">
<li> Later credits do not have to be used right away, but can be kept to
    eliminate laters at a later point.

</li>
<li> The step-taking update composes well in parallel: we can independently
    compose two clients who want to eliminate their laters for the same
    physical step, which is not possible with later credits, as they
    can only be used by exactly one client.

</li>
<li> The step-taking update can even be used by clients that opt out of
    later credits, e.g. because they use <span class="inlinecode"><span class="id" title="var">BiFUpdPlainly</span></span>. 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="wp_pre" class="idref" href="#wp_pre"><span class="id" title="definition">wp_pre</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="aed330fafc52497700df4a17b24e754e" class="idref" href="#aed330fafc52497700df4a17b24e754e"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:2" class="idref" href="#PROP:2"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="FUpd0:3" class="idref" href="#FUpd0:3"><span class="id" title="binder">!</span></a><a id="FUpd0:3" class="idref" href="#FUpd0:3"><span class="id" title="binder">FUpd</span></a> <a id="FUpd0:3" class="idref" href="#FUpd0:3"><span class="id" title="binder">PROP</span></a>} `{<a id="irisGS_gen0:4" class="idref" href="#irisGS_gen0:4"><span class="id" title="binder">!</span></a><a id="irisGS_gen0:4" class="idref" href="#irisGS_gen0:4"><span class="id" title="binder">irisGS_gen</span></a> <a id="irisGS_gen0:4" class="idref" href="#irisGS_gen0:4"><span class="id" title="binder">Λ</span></a> <a id="irisGS_gen0:4" class="idref" href="#irisGS_gen0:4"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:5" class="idref" href="#s:5"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wp:6" class="idref" href="#wp:6"><span class="id" title="binder">wp</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aed330fafc52497700df4a17b24e754e"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aed330fafc52497700df4a17b24e754e"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:2"><span class="id" title="variable">PROP</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:2"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aed330fafc52497700df4a17b24e754e"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aed330fafc52497700df4a17b24e754e"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:2"><span class="id" title="variable">PROP</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:2"><span class="id" title="variable">PROP</span></a> := <span class="id" title="notation">λ</span> <a id="E:7" class="idref" href="#E:7"><span class="id" title="binder">E</span></a> <a id="e1:8" class="idref" href="#e1:8"><span class="id" title="binder">e1</span></a> <a id="a9416b11fdefd93ae0cbfacc7b087883" class="idref" href="#a9416b11fdefd93ae0cbfacc7b087883"><span class="id" title="binder">Φ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e1:8"><span class="id" title="variable">e1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:7"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a9416b11fdefd93ae0cbfacc7b087883"><span class="id" title="variable">Φ</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="c6f2e7c195dc4d8e1c0b53bc304f900b" class="idref" href="#c6f2e7c195dc4d8e1c0b53bc304f900b"><span class="id" title="binder">σ1</span></a> <a id="ns:11" class="idref" href="#ns:11"><span class="id" title="binder">ns</span></a> <a id="c6b95a6dd48b6e23091835e4053230ce" class="idref" href="#c6b95a6dd48b6e23091835e4053230ce"><span class="id" title="binder">κ</span></a> <a id="322b0dd25cef82dd24de4df6ad1a6bfa" class="idref" href="#322b0dd25cef82dd24de4df6ad1a6bfa"><span class="id" title="binder">κs</span></a> <a id="nt:14" class="idref" href="#nt:14"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c6f2e7c195dc4d8e1c0b53bc304f900b"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:11"><span class="id" title="variable">ns</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c6b95a6dd48b6e23091835e4053230ce"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#322b0dd25cef82dd24de4df6ad1a6bfa"><span class="id" title="variable">κs</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#nt:14"><span class="id" title="variable">nt</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:7"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:5"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e1:8"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c6f2e7c195dc4d8e1c0b53bc304f900b"><span class="id" title="variable">σ1</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="e2:16" class="idref" href="#e2:16"><span class="id" title="binder">e2</span></a> <a id="1d4ed66af5e6ad61f160673a374ce61f" class="idref" href="#1d4ed66af5e6ad61f160673a374ce61f"><span class="id" title="binder">σ2</span></a> <a id="efs:18" class="idref" href="#efs:18"><span class="id" title="binder">efs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e1:8"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c6f2e7c195dc4d8e1c0b53bc304f900b"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c6b95a6dd48b6e23091835e4053230ce"><span class="id" title="variable">κ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e2:16"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1d4ed66af5e6ad61f160673a374ce61f"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#efs:18"><span class="id" title="variable">efs</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;-∗&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;£&nbsp;(S&nbsp;(num_laters_per_step&nbsp;ns))&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#84714e0d74f3bea387eb405d9641021a"><span class="id" title="notation">={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#84714e0d74f3bea387eb405d9641021a"><span class="id" title="notation">}▷=∗^(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:11"><span class="id" title="variable">ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#84714e0d74f3bea387eb405d9641021a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:7"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1d4ed66af5e6ad61f160673a374ce61f"><span class="id" title="variable">σ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:11"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#322b0dd25cef82dd24de4df6ad1a6bfa"><span class="id" title="variable">κs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#efs:18"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#nt:14"><span class="id" title="variable">nt</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp:6"><span class="id" title="variable">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:7"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e2:16"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a9416b11fdefd93ae0cbfacc7b087883"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">]</span></a> <a id="i:19" class="idref" href="#i:19"><span class="id" title="binder"><span id="i:20" class="id">i</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">↦</span></a> <a id="ef:21" class="idref" href="#ef:21"><span class="id" title="binder"><span id="ef:22" class="id">ef</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">∈</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#efs:18"><span class="id" title="variable">efs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp:6"><span class="id" title="variable">wp</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ef:21"><span class="id" title="variable">ef</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#fork_post"><span class="id" title="method">fork_post</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Local Instance</span> <a id="wp_pre_contractive" class="idref" href="#wp_pre_contractive"><span class="id" title="instance">wp_pre_contractive</span></a><br/>
&nbsp;&nbsp;{<a id="e61abb9ff925d7c309f5a9e483118102" class="idref" href="#e61abb9ff925d7c309f5a9e483118102"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:24" class="idref" href="#PROP:24"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:25" class="idref" href="#BiFUpd0:25"><span class="id" title="binder">!</span></a><a id="BiFUpd0:25" class="idref" href="#BiFUpd0:25"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:25" class="idref" href="#BiFUpd0:25"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:26" class="idref" href="#BiLaterContractive0:26"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:26" class="idref" href="#BiLaterContractive0:26"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:26" class="idref" href="#BiLaterContractive0:26"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="irisGS_gen0:27" class="idref" href="#irisGS_gen0:27"><span class="id" title="binder">!</span></a><a id="irisGS_gen0:27" class="idref" href="#irisGS_gen0:27"><span class="id" title="binder">irisGS_gen</span></a> <a id="irisGS_gen0:27" class="idref" href="#irisGS_gen0:27"><span class="id" title="binder">Λ</span></a> <a id="irisGS_gen0:27" class="idref" href="#irisGS_gen0:27"><span class="id" title="binder">PROP</span></a>} <a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#Contractive"><span class="id" title="abbreviation">Contractive</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:28"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /= =&gt; <span class="id" title="var">n</span> <span class="id" title="var">wp</span> <span class="id" title="var">wp'</span> <span class="id" title="var">Hwp</span> <span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">Φ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 24 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>); <span class="id" title="tactic">apply</span> <span class="id" title="var">Hwp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Definition</span> <a id="wp_def" class="idref" href="#wp_def"><span class="id" title="definition">wp_def</span></a><br/>
&nbsp;&nbsp;{<a id="9825654ce50d91ca36b4d8b92b137ddf" class="idref" href="#9825654ce50d91ca36b4d8b92b137ddf"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:30" class="idref" href="#PROP:30"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:31" class="idref" href="#BiFUpd0:31"><span class="id" title="binder">!</span></a><a id="BiFUpd0:31" class="idref" href="#BiFUpd0:31"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:31" class="idref" href="#BiFUpd0:31"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:32" class="idref" href="#BiLaterContractive0:32"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:32" class="idref" href="#BiLaterContractive0:32"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:32" class="idref" href="#BiLaterContractive0:32"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="irisGS_gen0:33" class="idref" href="#irisGS_gen0:33"><span class="id" title="binder">!</span></a><a id="irisGS_gen0:33" class="idref" href="#irisGS_gen0:33"><span class="id" title="binder">irisGS_gen</span></a> <a id="irisGS_gen0:33" class="idref" href="#irisGS_gen0:33"><span class="id" title="binder">Λ</span></a> <a id="irisGS_gen0:33" class="idref" href="#irisGS_gen0:33"><span class="id" title="binder">PROP</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#Wp"><span class="id" title="class">Wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:30"><span class="id" title="variable">PROP</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#9825654ce50d91ca36b4d8b92b137ddf"><span class="id" title="variable">Λ</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#9825654ce50d91ca36b4d8b92b137ddf"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">λ</span> <a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#fixpoint"><span class="id" title="definition">fixpoint</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:34"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Local Definition</span> <a id="wp_aux" class="idref" href="#wp_aux"><span class="id" title="definition">wp_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_def"><span class="id" title="definition">wp_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="wp'" class="idref" href="#wp'"><span class="id" title="definition">wp'</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_aux"><span class="id" title="definition">wp_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a> {<span class="id" title="var">Λ</span> <span class="id" title="var">PROP</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Existing Instance</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a>.<br/>
<span class="id" title="keyword">Local Lemma</span> <a id="wp_unseal" class="idref" href="#wp_unseal"><span class="id" title="lemma">wp_unseal</span></a><br/>
&nbsp;&nbsp;{<a id="55f571e25200042d6c9b3034591160b4" class="idref" href="#55f571e25200042d6c9b3034591160b4"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:36" class="idref" href="#PROP:36"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:37" class="idref" href="#BiFUpd0:37"><span class="id" title="binder">!</span></a><a id="BiFUpd0:37" class="idref" href="#BiFUpd0:37"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:37" class="idref" href="#BiFUpd0:37"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:38" class="idref" href="#BiLaterContractive0:38"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:38" class="idref" href="#BiLaterContractive0:38"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:38" class="idref" href="#BiLaterContractive0:38"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="irisGS_gen0:39" class="idref" href="#irisGS_gen0:39"><span class="id" title="binder">!</span></a><a id="irisGS_gen0:39" class="idref" href="#irisGS_gen0:39"><span class="id" title="binder">irisGS_gen</span></a> <a id="irisGS_gen0:39" class="idref" href="#irisGS_gen0:39"><span class="id" title="binder">Λ</span></a> <a id="irisGS_gen0:39" class="idref" href="#irisGS_gen0:39"><span class="id" title="binder">PROP</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_def"><span class="id" title="definition">wp_def</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#55f571e25200042d6c9b3034591160b4"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:36"><span class="id" title="variable">PROP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_aux"><span class="id" title="definition">wp_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>) //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp" class="idref" href="#wp"><span class="id" title="section">wp</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="aaa17055334b59f7fd85cf2ac3982981" class="idref" href="#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>} {<a id="wp.PROP" class="idref" href="#wp.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:41"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:41"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#4ccd8b294ff860669d098ec04220ff83"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:41"><span class="id" title="variable">PROP</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">s</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Weakest&nbsp;pre&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_unfold" class="idref" href="#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> <a id="s:45" class="idref" href="#s:45"><span class="id" title="binder">s</span></a> <a id="E:46" class="idref" href="#E:46"><span class="id" title="binder">E</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> <a id="8c4eab9bc147c687bba13ead9cc56459" class="idref" href="#8c4eab9bc147c687bba13ead9cc56459"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:45"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:46"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8c4eab9bc147c687bba13ead9cc56459"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:45"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:45"><span class="id" title="variable">s</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:46"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:47"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8c4eab9bc147c687bba13ead9cc56459"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unseal"><span class="id" title="lemma">wp_unseal</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#fixpoint_unfold"><span class="id" title="lemma">fixpoint_unfold</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <span class="id" title="var">s</span>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_ne" class="idref" href="#wp_ne"><span class="id" title="instance">wp_ne</span></a> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> <a id="E:50" class="idref" href="#E:50"><span class="id" title="binder">E</span></a> <a id="e:51" class="idref" href="#e:51"><span class="id" title="binder">e</span></a> <a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:52"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:52"><span class="id" title="variable">n</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:50"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:51"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> (<span class="id" title="lemma">lt_wf</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>]=&gt; <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HΦ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;figure&nbsp;out&nbsp;a&nbsp;way&nbsp;to&nbsp;properly&nbsp;automate&nbsp;this&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;reflexivity,&nbsp;as&nbsp;being&nbsp;called&nbsp;many&nbsp;times&nbsp;by&nbsp;f_equiv&nbsp;and&nbsp;f_contractive<br/>
&nbsp;&nbsp;is&nbsp;very&nbsp;slow&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 24 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist_lt"><span class="id" title="lemma">dist_lt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_proper" class="idref" href="#wp_proper"><span class="id" title="instance">wp_proper</span></a> <a id="s:53" class="idref" href="#s:53"><span class="id" title="binder">s</span></a> <a id="E:54" class="idref" href="#E:54"><span class="id" title="binder">E</span></a> <a id="e:55" class="idref" href="#e:55"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:53"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:54"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:55"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>=&gt;<span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_ne"><span class="id" title="instance">wp_ne</span></a>=&gt;<span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_contractive" class="idref" href="#wp_contractive"><span class="id" title="instance">wp_contractive</span></a> <a id="s:56" class="idref" href="#s:56"><span class="id" title="binder">s</span></a> <a id="E:57" class="idref" href="#E:57"><span class="id" title="binder">E</span></a> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:58"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist_later"><span class="id" title="record">dist_later</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:59"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:59"><span class="id" title="variable">n</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:56"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:57"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:58"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">He</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HΦ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <span class="id" title="var">He</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 23 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 4 <span class="id" title="var">f_equiv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value_fupd'" class="idref" href="#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a> <a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> <a id="E:61" class="idref" href="#E:61"><span class="id" title="binder">E</span></a> <a id="071e8b4be4ab41d34ad0a9516fe03a12" class="idref" href="#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="binder">Φ</span></a> <a id="v:63" class="idref" href="#v:63"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:63"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:60"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:61"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:61"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#071e8b4be4ab41d34ad0a9516fe03a12"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:63"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_strong_mono" class="idref" href="#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a id="s1:64" class="idref" href="#s1:64"><span class="id" title="binder">s1</span></a> <a id="s2:65" class="idref" href="#s2:65"><span class="id" title="binder">s2</span></a> <a id="E1:66" class="idref" href="#E1:66"><span class="id" title="binder">E1</span></a> <a id="E2:67" class="idref" href="#E2:67"><span class="id" title="binder">E2</span></a> <a id="e:68" class="idref" href="#e:68"><span class="id" title="binder">e</span></a> <a id="69f172393263167da34f45cb2fc47c28" class="idref" href="#69f172393263167da34f45cb2fc47c28"><span class="id" title="binder">Φ</span></a> <a id="8f30cdd966636a858fab47941a3bd70e" class="idref" href="#8f30cdd966636a858fab47941a3bd70e"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s1:64"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s2:65"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:66"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:67"><span class="id" title="variable">E2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:68"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s1:64"><span class="id" title="variable">s1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:66"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#69f172393263167da34f45cb2fc47c28"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:71" class="idref" href="#v:71"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#69f172393263167da34f45cb2fc47c28"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:71"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:67"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8f30cdd966636a858fab47941a3bd70e"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:71"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:68"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s2:65"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:67"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8f30cdd966636a858fab47941a3bd70e"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? <span class="id" title="var">HE</span>) "H HΦ". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">HE</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"HΦ" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[&gt; -]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_mono"><span class="id" title="lemma">fupd_mask_mono</span></a> <span class="id" title="var">E1</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq"><span class="id" title="lemma">fupd_mask_subseteq</span></a> <span class="id" title="var">E1</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iSplit</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>|]. <span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) "Step".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Step"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H". <span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "&gt;($ &amp; H &amp; Hefs)". <span class="id" title="var">iMod</span> "Hclose" <span class="id" title="keyword">as</span> "_". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iSplitR</span> "Hefs".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//] H HΦ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hefs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fupd_wp" class="idref" href="#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> <a id="s:72" class="idref" href="#s:72"><span class="id" title="binder">s</span></a> <a id="E:73" class="idref" href="#E:73"><span class="id" title="binder">E</span></a> <a id="e:74" class="idref" href="#e:74"><span class="id" title="binder">e</span></a> <a id="55a363c26a6fcf2d71bcdfc5ad742b27" class="idref" href="#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:73"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:72"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:73"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:74"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:72"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:73"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#55a363c26a6fcf2d71bcdfc5ad742b27"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> "H". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ1". <span class="id" title="var">iMod</span> "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_fupd" class="idref" href="#wp_fupd"><span class="id" title="lemma">wp_fupd</span></a> <a id="s:76" class="idref" href="#s:76"><span class="id" title="binder">s</span></a> <a id="E:77" class="idref" href="#E:77"><span class="id" title="binder">E</span></a> <a id="e:78" class="idref" href="#e:78"><span class="id" title="binder">e</span></a> <a id="1887d6982e3ef1cea66f63594e9533fb" class="idref" href="#1887d6982e3ef1cea66f63594e9533fb"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:76"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:77"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:80" class="idref" href="#v:80"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:77"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1887d6982e3ef1cea66f63594e9533fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:80"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:78"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:76"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:77"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1887d6982e3ef1cea66f63594e9533fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_atomic" class="idref" href="#wp_atomic"><span class="id" title="lemma">wp_atomic</span></a> <a id="s:81" class="idref" href="#s:81"><span class="id" title="binder">s</span></a> <a id="E1:82" class="idref" href="#E1:82"><span class="id" title="binder">E1</span></a> <a id="E2:83" class="idref" href="#E2:83"><span class="id" title="binder">E2</span></a> <a id="e:84" class="idref" href="#e:84"><span class="id" title="binder">e</span></a> <a id="deb64f0df5d317150009f62d43c46aaa" class="idref" href="#deb64f0df5d317150009f62d43c46aaa"><span class="id" title="binder">Φ</span></a> `{<a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">!</span></a><a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">Atomic</span></a> <a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">(</span></a><a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">stuckness_to_atomicity</span></a> <a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">s</span></a><a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">)</span></a> <a id="Atomic0:86" class="idref" href="#Atomic0:86"><span class="id" title="binder">e</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:82"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:83"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:81"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:83"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:87" class="idref" href="#v:87"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:83"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:82"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#deb64f0df5d317150009f62d43c46aaa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:87"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:84"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:81"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:82"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#deb64f0df5d317150009f62d43c46aaa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "&gt;&gt;&gt; $". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> σ1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(H [//])"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "&gt;(Hσ &amp; H &amp; Hefs)". <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v2</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "&gt;&gt; $". <span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="notation">[]</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[H ?]". <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> %(? &amp; ? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">edestruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#atomic"><span class="id" title="definition">atomic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#atomic"><span class="id" title="definition">atomic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> &lt;-%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "&gt;H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hσ Hefs". <span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!&gt;".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemma gives us access to the later credits that are generated in each step,
  assuming that we have instantiated <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="projection">num_laters_per_step</span></a></span> with a non-trivial (e.g. linear)
  function.
  This lemma can be used to provide a "regeneration" mechanism for later credits.
  <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> will have to be defined in a way that involves the required regneration
  tokens. TODO: point to an example of how this is used.

<div class="paragraph"> </div>

  In detail, a client can use this lemma as follows:
<a id="lab100"></a><h1 class="section">the client obtains the state interpretation <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">ns</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>,</h1>

<a id="lab101"></a><h1 class="section">it uses some ghost state wired up to the interpretation to know that</h1>

    <span class="inlinecode"><span class="id" title="var">ns</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">m</span></span>, and update the state interpretation to <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>,
<a id="lab102"></a><h1 class="section">_after <span class="inlinecode"><span class="id" title="var">e</span></span> has finally stepped, we get <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="projection">num_laters_per_step</span></a></span> <span class="inlinecode"><span class="id" title="var">k</span></span> later credits</h1>

    that we can use to prove <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.contender_token.html#with_contender.P"><span class="id" title="variable">P</span></a></span> in the postcondition, and we have to update
    the state interpretation from <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span>)</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> to
    <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><span class="id" title="var">ns</span>)</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> again. 
</div>
<div class="code">
<span class="comment">(*<br/>
Lemma&nbsp;wp_credit_access&nbsp;s&nbsp;E&nbsp;e&nbsp;Φ&nbsp;P&nbsp;:<br/>
&nbsp;&nbsp;TCEq&nbsp;(to_val&nbsp;e)&nbsp;None&nbsp;→<br/>
&nbsp;&nbsp;(∀&nbsp;m&nbsp;k,&nbsp;num_laters_per_step&nbsp;m&nbsp;+&nbsp;num_laters_per_step&nbsp;k&nbsp;≤&nbsp;num_laters_per_step&nbsp;(m&nbsp;+&nbsp;k))&nbsp;→<br/>
&nbsp;&nbsp;(∀&nbsp;σ1&nbsp;ns&nbsp;κs&nbsp;nt,&nbsp;state_interp&nbsp;σ1&nbsp;ns&nbsp;κs&nbsp;nt&nbsp;={E}=∗<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃&nbsp;k&nbsp;m,&nbsp;state_interp&nbsp;σ1&nbsp;m&nbsp;κs&nbsp;nt&nbsp;∗&nbsp;⌜ns&nbsp;=&nbsp;(m&nbsp;+&nbsp;k)*)</span><br/>

<br/>
</div>

<div class="doc">
In this stronger version of <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span>, the masks in the
   step-taking fancy update are a bit weird and somewhat difficult to
   use in practice. Hence, we prove it for the sake of completeness,
   but <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span> is just a little bit weaker, suffices in
   practice and is easier to use.

<div class="paragraph"> </div>

   See the statement of <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span> below to understand the use of
   ordinary conjunction here. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupdN_strong" class="idref" href="#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="s:89" class="idref" href="#s:89"><span class="id" title="binder">s</span></a> <a id="E1:90" class="idref" href="#E1:90"><span class="id" title="binder">E1</span></a> <a id="E2:91" class="idref" href="#E2:91"><span class="id" title="binder">E2</span></a> <a id="e:92" class="idref" href="#e:92"><span class="id" title="binder">e</span></a> <a id="P:93" class="idref" href="#P:93"><span class="id" title="binder">P</span></a> <a id="f908ffe2db098dedb2a69c0b45970200" class="idref" href="#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:92"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:91"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="781cc6ac800ff5ee4132feeb1e847894" class="idref" href="#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="binder">σ</span></a> <a id="ns:96" class="idref" href="#ns:96"><span class="id" title="binder">ns</span></a> <a id="98569f307e8d596bf3a35a528d50f851" class="idref" href="#98569f307e8d596bf3a35a528d50f851"><span class="id" title="binder">κs</span></a> <a id="nt:98" class="idref" href="#nt:98"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#781cc6ac800ff5ee4132feeb1e847894"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:96"><span class="id" title="variable">ns</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#98569f307e8d596bf3a35a528d50f851"><span class="id" title="variable">κs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#nt:98"><span class="id" title="variable">nt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:88"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:96"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:91"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">}▷=&gt;^</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:91"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:93"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:92"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:89"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:91"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:99" class="idref" href="#v:99"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:99"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:92"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:89"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:90"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> (<span class="id" title="var">_</span> ?) "/= [_ [HP Hwp]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[&gt;HP]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iMod</span> "HP" <span class="id" title="keyword">as</span> "$". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=. <span class="id" title="var">iIntros</span> (-&gt; ?) "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">n</span> <span class="id" title="notation">≤</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="var">ns</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn</span>|<span class="id" title="var">Hn</span>]; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "[Hn _]". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hn" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "[_ [&gt;HP Hwp]]". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hwp" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ H]". <span class="id" title="var">iMod</span> "HP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>). <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[% //]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;!&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="var">ns</span>)=&gt;<span class="id" title="var">n0</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>] "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">n0</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "&gt;($ &amp; Hwp &amp; $)". <span class="id" title="var">iMod</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "HΦ". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"HΦ" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n0</span>]; [<span class="id" title="var">lia</span>|]=&gt;/=. <span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt; !&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] HP H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_bind" class="idref" href="#wp_bind"><span class="id" title="lemma">wp_bind</span></a> <a id="K:100" class="idref" href="#K:100"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:101" class="idref" href="#LanguageCtx0:101"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:101" class="idref" href="#LanguageCtx0:101"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:101" class="idref" href="#LanguageCtx0:101"><span class="id" title="binder">K</span></a>} <a id="s:102" class="idref" href="#s:102"><span class="id" title="binder">s</span></a> <a id="E:103" class="idref" href="#E:103"><span class="id" title="binder">E</span></a> <a id="e:104" class="idref" href="#e:104"><span class="id" title="binder">e</span></a> <a id="afc21fc892d6ae39f62da3d30987a9d8" class="idref" href="#afc21fc892d6ae39f62da3d30987a9d8"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:104"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:103"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:106" class="idref" href="#v:106"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#K:100"><span class="id" title="variable">K</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:106"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:103"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#afc21fc892d6ae39f62da3d30987a9d8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#K:100"><span class="id" title="variable">K</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:104"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:103"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#afc21fc892d6ae39f62da3d30987a9d8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> /=; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">step</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible_fill"><span class="id" title="lemma">reducible_fill</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_step_inv"><span class="id" title="method">fill_step_inv</span></a> <span class="id" title="var">e</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">e2'</span>&amp;-&gt;&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">e2'</span> σ2 <span class="id" title="var">efs</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[//]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H". <span class="id" title="var">iIntros</span> "!&gt;!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "($ &amp; H &amp; $)". <span class="id" title="var">iModIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_bind_inv" class="idref" href="#wp_bind_inv"><span class="id" title="lemma">wp_bind_inv</span></a> <a id="K:107" class="idref" href="#K:107"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:108" class="idref" href="#LanguageCtx0:108"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:108" class="idref" href="#LanguageCtx0:108"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:108" class="idref" href="#LanguageCtx0:108"><span class="id" title="binder">K</span></a>} <a id="s:109" class="idref" href="#s:109"><span class="id" title="binder">s</span></a> <a id="E:110" class="idref" href="#E:110"><span class="id" title="binder">E</span></a> <a id="e:111" class="idref" href="#e:111"><span class="id" title="binder">e</span></a> <a id="fba7ef62298e1c26cbc585b1f038c0fa" class="idref" href="#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#K:107"><span class="id" title="variable">K</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:111"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:109"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:110"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:111"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:109"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:110"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:113" class="idref" href="#v:113"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#K:107"><span class="id" title="variable">K</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:113"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:109"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:110"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fba7ef62298e1c26cbc585b1f038c0fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!&gt;". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible_fill_inv"><span class="id" title="lemma">reducible_fill_inv</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_step"><span class="id" title="method">fill_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "($ &amp; H &amp; $)". <span class="id" title="var">iModIntro</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab103"></a><h1 class="section">Derived rules</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_mono" class="idref" href="#wp_mono"><span class="id" title="lemma">wp_mono</span></a> <a id="s:114" class="idref" href="#s:114"><span class="id" title="binder">s</span></a> <a id="E:115" class="idref" href="#E:115"><span class="id" title="binder">E</span></a> <a id="e:116" class="idref" href="#e:116"><span class="id" title="binder">e</span></a> <a id="d1c633b016b6a7164472c11b8430a1a2" class="idref" href="#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="binder">Φ</span></a> <a id="955d335a5619da78458e99301017cdd0" class="idref" href="#955d335a5619da78458e99301017cdd0"><span class="id" title="binder">Ψ</span></a> : <span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="v:119" class="idref" href="#v:119"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:119"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#955d335a5619da78458e99301017cdd0"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:119"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:114"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:115"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:114"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:115"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#955d335a5619da78458e99301017cdd0"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">HΦ</span>) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">HΦ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_stuck_mono" class="idref" href="#wp_stuck_mono"><span class="id" title="lemma">wp_stuck_mono</span></a> <a id="s1:120" class="idref" href="#s1:120"><span class="id" title="binder">s1</span></a> <a id="s2:121" class="idref" href="#s2:121"><span class="id" title="binder">s2</span></a> <a id="E:122" class="idref" href="#E:122"><span class="id" title="binder">E</span></a> <a id="e:123" class="idref" href="#e:123"><span class="id" title="binder">e</span></a> <a id="e976f48df7f2030f7268696e7f9fc9cf" class="idref" href="#e976f48df7f2030f7268696e7f9fc9cf"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s1:120"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s2:121"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:123"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s1:120"><span class="id" title="variable">s1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:122"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e976f48df7f2030f7268696e7f9fc9cf"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:123"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s2:121"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:122"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e976f48df7f2030f7268696e7f9fc9cf"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_stuck_weaken" class="idref" href="#wp_stuck_weaken"><span class="id" title="lemma">wp_stuck_weaken</span></a> <a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> <a id="E:126" class="idref" href="#E:126"><span class="id" title="binder">E</span></a> <a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a> <a id="5e293e780c2f43456421c215a1622d87" class="idref" href="#5e293e780c2f43456421c215a1622d87"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:127"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:125"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:126"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#5e293e780c2f43456421c215a1622d87"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:127"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:126"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">?{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#5e293e780c2f43456421c215a1622d87"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_stuck_mono"><span class="id" title="lemma">wp_stuck_mono</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_mask_mono" class="idref" href="#wp_mask_mono"><span class="id" title="lemma">wp_mask_mono</span></a> <a id="s:129" class="idref" href="#s:129"><span class="id" title="binder">s</span></a> <a id="E1:130" class="idref" href="#E1:130"><span class="id" title="binder">E1</span></a> <a id="E2:131" class="idref" href="#E2:131"><span class="id" title="binder">E2</span></a> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> <a id="402f3b7b6282a173e2718dd58a111614" class="idref" href="#402f3b7b6282a173e2718dd58a111614"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:130"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:131"><span class="id" title="variable">E2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:129"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:130"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#402f3b7b6282a173e2718dd58a111614"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:129"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:131"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#402f3b7b6282a173e2718dd58a111614"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_mono'" class="idref" href="#wp_mono'"><span class="id" title="instance">wp_mono'</span></a> <a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> <a id="E:135" class="idref" href="#E:135"><span class="id" title="binder">E</span></a> <a id="e:136" class="idref" href="#e:136"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:134"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:135"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:136"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_flip_mono'" class="idref" href="#wp_flip_mono'"><span class="id" title="instance">wp_flip_mono'</span></a> <a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> <a id="E:138" class="idref" href="#E:138"><span class="id" title="binder">E</span></a> <a id="e:139" class="idref" href="#e:139"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:137"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:138"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:139"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value_fupd" class="idref" href="#wp_value_fupd"><span class="id" title="lemma">wp_value_fupd</span></a> <a id="s:140" class="idref" href="#s:140"><span class="id" title="binder">s</span></a> <a id="E:141" class="idref" href="#E:141"><span class="id" title="binder">E</span></a> <a id="c65bbcb07800102d051e8bb8db80de76" class="idref" href="#c65bbcb07800102d051e8bb8db80de76"><span class="id" title="binder">Φ</span></a> <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> <a id="v:144" class="idref" href="#v:144"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:144"><span class="id" title="variable">v</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:140"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:141"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c65bbcb07800102d051e8bb8db80de76"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:141"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c65bbcb07800102d051e8bb8db80de76"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:144"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value'" class="idref" href="#wp_value'"><span class="id" title="lemma">wp_value'</span></a> <a id="s:145" class="idref" href="#s:145"><span class="id" title="binder">s</span></a> <a id="E:146" class="idref" href="#E:146"><span class="id" title="binder">E</span></a> <a id="ac81a41ca66346345e6d19e8b3d7b2ce" class="idref" href="#ac81a41ca66346345e6d19e8b3d7b2ce"><span class="id" title="binder">Φ</span></a> <a id="v:148" class="idref" href="#v:148"><span class="id" title="binder">v</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ac81a41ca66346345e6d19e8b3d7b2ce"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:148"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:148"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:145"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:146"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ac81a41ca66346345e6d19e8b3d7b2ce"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value" class="idref" href="#wp_value"><span class="id" title="lemma">wp_value</span></a> <a id="s:149" class="idref" href="#s:149"><span class="id" title="binder">s</span></a> <a id="E:150" class="idref" href="#E:150"><span class="id" title="binder">E</span></a> <a id="d193d719534649c6b223bf6693bf926a" class="idref" href="#d193d719534649c6b223bf6693bf926a"><span class="id" title="binder">Φ</span></a> <a id="e:152" class="idref" href="#e:152"><span class="id" title="binder">e</span></a> <a id="v:153" class="idref" href="#v:153"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:152"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:153"><span class="id" title="variable">v</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d193d719534649c6b223bf6693bf926a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:153"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:152"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:149"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:150"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d193d719534649c6b223bf6693bf926a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_value'"><span class="id" title="lemma">wp_value'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_l" class="idref" href="#wp_frame_l"><span class="id" title="lemma">wp_frame_l</span></a> <a id="s:154" class="idref" href="#s:154"><span class="id" title="binder">s</span></a> <a id="E:155" class="idref" href="#E:155"><span class="id" title="binder">E</span></a> <a id="e:156" class="idref" href="#e:156"><span class="id" title="binder">e</span></a> <a id="4bfdfb160edf27668511f2b8266e9c0d" class="idref" href="#4bfdfb160edf27668511f2b8266e9c0d"><span class="id" title="binder">Φ</span></a> <a id="R:158" class="idref" href="#R:158"><span class="id" title="binder">R</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:158"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:156"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:154"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:155"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#4bfdfb160edf27668511f2b8266e9c0d"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:156"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:154"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:155"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:159" class="idref" href="#v:159"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:158"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#4bfdfb160edf27668511f2b8266e9c0d"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:159"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[? H]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_r" class="idref" href="#wp_frame_r"><span class="id" title="lemma">wp_frame_r</span></a> <a id="s:160" class="idref" href="#s:160"><span class="id" title="binder">s</span></a> <a id="E:161" class="idref" href="#E:161"><span class="id" title="binder">E</span></a> <a id="e:162" class="idref" href="#e:162"><span class="id" title="binder">e</span></a> <a id="ac56f537b27552e3b6d150e20ad697e1" class="idref" href="#ac56f537b27552e3b6d150e20ad697e1"><span class="id" title="binder">Φ</span></a> <a id="R:164" class="idref" href="#R:164"><span class="id" title="binder">R</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:162"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:160"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:161"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ac56f537b27552e3b6d150e20ad697e1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:164"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:162"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:160"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:161"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:165" class="idref" href="#v:165"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ac56f537b27552e3b6d150e20ad697e1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:165"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:164"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H ?]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemma states that if we can prove that <span class="inlinecode"><span class="id" title="var">n</span></span> laters are used in
   the current physical step, then one can perform an n-steps fancy
   update during that physical step. The resources needed to prove the
   bound on <span class="inlinecode"><span class="id" title="var">n</span></span> are not used up: they can be reused in the proof of
   the WP or in the proof of the n-steps fancy update. In order to
   describe this unusual resource flow, we use ordinary conjunction as
   a premise. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupdN" class="idref" href="#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a> <a id="n:166" class="idref" href="#n:166"><span class="id" title="binder">n</span></a> <a id="s:167" class="idref" href="#s:167"><span class="id" title="binder">s</span></a> <a id="E1:168" class="idref" href="#E1:168"><span class="id" title="binder">E1</span></a> <a id="E2:169" class="idref" href="#E2:169"><span class="id" title="binder">E2</span></a> <a id="e:170" class="idref" href="#e:170"><span class="id" title="binder">e</span></a> <a id="P:171" class="idref" href="#P:171"><span class="id" title="binder">P</span></a> <a id="a82532dffacf71463e22e4f53d72cc85" class="idref" href="#a82532dffacf71463e22e4f53d72cc85"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:170"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:169"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="b452ebea55ec83f54356ec5a65775a5b" class="idref" href="#b452ebea55ec83f54356ec5a65775a5b"><span class="id" title="binder">σ</span></a> <a id="ns:174" class="idref" href="#ns:174"><span class="id" title="binder">ns</span></a> <a id="e5a89af5b7c8909a3e9a0470196cff53" class="idref" href="#e5a89af5b7c8909a3e9a0470196cff53"><span class="id" title="binder">κs</span></a> <a id="nt:176" class="idref" href="#nt:176"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#b452ebea55ec83f54356ec5a65775a5b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:174"><span class="id" title="variable">ns</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e5a89af5b7c8909a3e9a0470196cff53"><span class="id" title="variable">κs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#nt:176"><span class="id" title="variable">nt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:166"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ns:174"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:169"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">}▷=&gt;^</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#n:166"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:169"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:171"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:170"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:167"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:169"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:177" class="idref" href="#v:177"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:171"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a82532dffacf71463e22e4f53d72cc85"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:177"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:170"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:167"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:168"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a82532dffacf71463e22e4f53d72cc85"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.and_mono_r"><span class="id" title="lemma">bi.and_mono_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.sep_mono_l"><span class="id" title="lemma">bi.sep_mono_l</span></a>. <span class="id" title="var">iIntros</span> "HP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq_emptyset_difference"><span class="id" title="lemma">fupd_mask_subseteq_emptyset_difference</span></a> <span class="id" title="keyword">as</span> "H"; [|<span class="id" title="var">iMod</span> "HP"]; [<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "_". <span class="id" title="tactic">replace</span> (<span class="id" title="var">E1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <span class="id" title="var">E2</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">E2</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">set_unfold</span>=&gt;<span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">x</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">E2</span>)); <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_frame"><span class="id" title="lemma">fupd_mask_frame</span></a>; [|<span class="id" title="var">iMod</span> "H"; <span class="id" title="var">iModIntro</span>]; [<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#difference_empty_L"><span class="id" title="lemma">difference_empty_L</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm_L"><span class="id" title="lemma">comm_L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>) -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupd" class="idref" href="#wp_step_fupd"><span class="id" title="lemma">wp_step_fupd</span></a> `{<a id="H:178" class="idref" href="#H:178"><span class="id" title="binder">BiAffine</span></a> <a id="H:178" class="idref" href="#H:178"><span class="id" title="binder">PROP</span></a>} <a id="s:179" class="idref" href="#s:179"><span class="id" title="binder">s</span></a> <a id="E1:180" class="idref" href="#E1:180"><span class="id" title="binder">E1</span></a> <a id="E2:181" class="idref" href="#E2:181"><span class="id" title="binder">E2</span></a> <a id="e:182" class="idref" href="#e:182"><span class="id" title="binder">e</span></a> <a id="P:183" class="idref" href="#P:183"><span class="id" title="binder">P</span></a> <a id="1a20c96aedc146aef698a2dc52ca2a05" class="idref" href="#1a20c96aedc146aef698a2dc52ca2a05"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:182"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:181"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:180"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:180"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:181"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:183"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:179"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:181"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:185" class="idref" href="#v:185"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:183"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:180"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1a20c96aedc146aef698a2dc52ca2a05"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:185"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:179"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:180"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#1a20c96aedc146aef698a2dc52ca2a05"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "HR H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> 1 <span class="id" title="var">_</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[-]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|..]. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (????) "?". <span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq"><span class="id" title="lemma">fupd_mask_subseteq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>) <span class="id" title="keyword">as</span> "?"; [<span class="id" title="var">set_solver</span>+|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iFrame</span> "H". <span class="id" title="var">iMod</span> "HR" <span class="id" title="keyword">as</span> "$". <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp.affine" class="idref" href="#wp.affine"><span class="id" title="section">affine</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiAffine"><span class="id" title="class">BiAffine</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "All".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_l" class="idref" href="#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a> <a id="s:187" class="idref" href="#s:187"><span class="id" title="binder">s</span></a> <a id="E1:188" class="idref" href="#E1:188"><span class="id" title="binder">E1</span></a> <a id="E2:189" class="idref" href="#E2:189"><span class="id" title="binder">E2</span></a> <a id="e:190" class="idref" href="#e:190"><span class="id" title="binder">e</span></a> <a id="a3455d5ac310553f5c35d59064e0c3f9" class="idref" href="#a3455d5ac310553f5c35d59064e0c3f9"><span class="id" title="binder">Φ</span></a> <a id="R:192" class="idref" href="#R:192"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:190"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:189"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:188"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:188"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:189"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:192"><span class="id" title="variable">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:190"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:187"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:189"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a3455d5ac310553f5c35d59064e0c3f9"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:190"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:187"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:188"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:193" class="idref" href="#v:193"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:192"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a3455d5ac310553f5c35d59064e0c3f9"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:193"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "[Hu Hwp]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupd"><span class="id" title="lemma">wp_step_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hu"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (?) "$$".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_r" class="idref" href="#wp_frame_step_r"><span class="id" title="lemma">wp_frame_step_r</span></a> <a id="s:194" class="idref" href="#s:194"><span class="id" title="binder">s</span></a> <a id="E1:195" class="idref" href="#E1:195"><span class="id" title="binder">E1</span></a> <a id="E2:196" class="idref" href="#E2:196"><span class="id" title="binder">E2</span></a> <a id="e:197" class="idref" href="#e:197"><span class="id" title="binder">e</span></a> <a id="808b076347e1d828efd153671a2cf17b" class="idref" href="#808b076347e1d828efd153671a2cf17b"><span class="id" title="binder">Φ</span></a> <a id="R:199" class="idref" href="#R:199"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:197"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:196"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:195"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:197"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:194"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:196"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#808b076347e1d828efd153671a2cf17b"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:195"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:196"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:199"><span class="id" title="variable">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:197"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:194"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:195"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:200" class="idref" href="#v:200"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#808b076347e1d828efd153671a2cf17b"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:200"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:199"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span>]<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a>; <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_l'" class="idref" href="#wp_frame_step_l'"><span class="id" title="lemma">wp_frame_step_l'</span></a> <a id="s:201" class="idref" href="#s:201"><span class="id" title="binder">s</span></a> <a id="E:202" class="idref" href="#E:202"><span class="id" title="binder">E</span></a> <a id="e:203" class="idref" href="#e:203"><span class="id" title="binder">e</span></a> <a id="2894efebf33281313f6a7ef2b6092c3a" class="idref" href="#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="binder">Φ</span></a> <a id="R:205" class="idref" href="#R:205"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:203"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:205"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:203"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:201"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:202"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:203"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:201"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:202"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:206" class="idref" href="#v:206"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:205"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:206"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "[??]". <span class="id" title="var">iApply</span> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_r'" class="idref" href="#wp_frame_step_r'"><span class="id" title="lemma">wp_frame_step_r'</span></a> <a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a> <a id="E:208" class="idref" href="#E:208"><span class="id" title="binder">E</span></a> <a id="e:209" class="idref" href="#e:209"><span class="id" title="binder">e</span></a> <a id="d189abaf7ef87bd3e320d1ae3e4817a4" class="idref" href="#d189abaf7ef87bd3e320d1ae3e4817a4"><span class="id" title="binder">Φ</span></a> <a id="R:211" class="idref" href="#R:211"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:209"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:209"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:207"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:208"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d189abaf7ef87bd3e320d1ae3e4817a4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:211"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:209"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:207"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:208"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:212" class="idref" href="#v:212"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d189abaf7ef87bd3e320d1ae3e4817a4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:212"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:211"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "[??]". <span class="id" title="var">iApply</span> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_frame_step_r"><span class="id" title="lemma">wp_frame_step_r</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp.affine"><span class="id" title="section">affine</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand" class="idref" href="#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a id="s:213" class="idref" href="#s:213"><span class="id" title="binder">s</span></a> <a id="E:214" class="idref" href="#E:214"><span class="id" title="binder">E</span></a> <a id="e:215" class="idref" href="#e:215"><span class="id" title="binder">e</span></a> <a id="b017625e40b46496937a457402fdb208" class="idref" href="#b017625e40b46496937a457402fdb208"><span class="id" title="binder">Φ</span></a> <a id="fb27d829dea534a289e246a4c84bdd1d" class="idref" href="#fb27d829dea534a289e246a4c84bdd1d"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:215"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:213"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:214"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#b017625e40b46496937a457402fdb208"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:218" class="idref" href="#v:218"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#b017625e40b46496937a457402fdb208"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:218"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fb27d829dea534a289e246a4c84bdd1d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:218"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:215"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:213"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:214"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fb27d829dea534a289e246a4c84bdd1d"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand_l" class="idref" href="#wp_wand_l"><span class="id" title="lemma">wp_wand_l</span></a> <a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> <a id="E:220" class="idref" href="#E:220"><span class="id" title="binder">E</span></a> <a id="e:221" class="idref" href="#e:221"><span class="id" title="binder">e</span></a> <a id="4568763f3069f0ba991a4a9e4ec841ad" class="idref" href="#4568763f3069f0ba991a4a9e4ec841ad"><span class="id" title="binder">Φ</span></a> <a id="87e13346da3911eb363ab7a065216545" class="idref" href="#87e13346da3911eb363ab7a065216545"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:224" class="idref" href="#v:224"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#4568763f3069f0ba991a4a9e4ec841ad"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:224"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#87e13346da3911eb363ab7a065216545"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:224"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:221"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:219"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:220"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#4568763f3069f0ba991a4a9e4ec841ad"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:221"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:219"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:220"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#87e13346da3911eb363ab7a065216545"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H Hwp]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand_r" class="idref" href="#wp_wand_r"><span class="id" title="lemma">wp_wand_r</span></a> <a id="s:225" class="idref" href="#s:225"><span class="id" title="binder">s</span></a> <a id="E:226" class="idref" href="#E:226"><span class="id" title="binder">E</span></a> <a id="e:227" class="idref" href="#e:227"><span class="id" title="binder">e</span></a> <a id="7dffb6e69ddd4f730b8d2ee2245506fa" class="idref" href="#7dffb6e69ddd4f730b8d2ee2245506fa"><span class="id" title="binder">Φ</span></a> <a id="d0e33a83074d25d627ec58e34d9458a7" class="idref" href="#d0e33a83074d25d627ec58e34d9458a7"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:227"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:225"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:226"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#7dffb6e69ddd4f730b8d2ee2245506fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:230" class="idref" href="#v:230"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#7dffb6e69ddd4f730b8d2ee2245506fa"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:230"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d0e33a83074d25d627ec58e34d9458a7"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:230"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:227"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:225"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:226"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d0e33a83074d25d627ec58e34d9458a7"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[Hwp H]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_wand" class="idref" href="#wp_frame_wand"><span class="id" title="lemma">wp_frame_wand</span></a> <a id="s:231" class="idref" href="#s:231"><span class="id" title="binder">s</span></a> <a id="E:232" class="idref" href="#E:232"><span class="id" title="binder">E</span></a> <a id="e:233" class="idref" href="#e:233"><span class="id" title="binder">e</span></a> <a id="c90d4f6fe980b8532ecdfc5ca0bccc13" class="idref" href="#c90d4f6fe980b8532ecdfc5ca0bccc13"><span class="id" title="binder">Φ</span></a> <a id="R:235" class="idref" href="#R:235"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:235"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:233"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:231"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:232"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:236" class="idref" href="#v:236"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:235"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c90d4f6fe980b8532ecdfc5ca0bccc13"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:236"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:233"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:231"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:232"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#c90d4f6fe980b8532ecdfc5ca0bccc13"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HR HWP". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HWP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp"><span class="id" title="section">wp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proofmode class instances 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="proofmode_classes" class="idref" href="#proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="a29255f0f79b75b79795a2ff13da17e8" class="idref" href="#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>} {<a id="proofmode_classes.PROP" class="idref" href="#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:238"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:238"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e8ff07824532c9342ee3d0d045111ddf"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#PROP:238"><span class="id" title="variable">PROP</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="frame_wp" class="idref" href="#frame_wp"><span class="id" title="instance">frame_wp</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> <a id="s:243" class="idref" href="#s:243"><span class="id" title="binder">s</span></a> <a id="E:244" class="idref" href="#E:244"><span class="id" title="binder">E</span></a> <a id="e:245" class="idref" href="#e:245"><span class="id" title="binder">e</span></a> <a id="R:246" class="idref" href="#R:246"><span class="id" title="binder">R</span></a> <a id="db381e87d40b5398d5a53f92fd0ca6a1" class="idref" href="#db381e87d40b5398d5a53f92fd0ca6a1"><span class="id" title="binder">Φ</span></a> <a id="d0f5099c2c022d3d2fa76a3bec943220" class="idref" href="#d0f5099c2c022d3d2fa76a3bec943220"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="v:249" class="idref" href="#v:249"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#p:242"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:246"><span class="id" title="variable">R</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#db381e87d40b5398d5a53f92fd0ca6a1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:249"><span class="id" title="variable">v</span></a>) (<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d0f5099c2c022d3d2fa76a3bec943220"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:249"><span class="id" title="variable">v</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#p:242"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#R:246"><span class="id" title="variable">R</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:245"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:243"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:244"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#db381e87d40b5398d5a53f92fd0ca6a1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:245"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:243"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:244"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d0f5099c2c022d3d2fa76a3bec943220"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) | 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a>=&gt; <span class="id" title="var">HR</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_frame_l"><span class="id" title="lemma">wp_frame_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>, <span class="id" title="var">HR</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="is_except_0_wp" class="idref" href="#is_except_0_wp"><span class="id" title="instance">is_except_0_wp</span></a> <a id="s:250" class="idref" href="#s:250"><span class="id" title="binder">s</span></a> <a id="E:251" class="idref" href="#E:251"><span class="id" title="binder">E</span></a> <a id="e:252" class="idref" href="#e:252"><span class="id" title="binder">e</span></a> <a id="5cd7ba04431e7edfc44dded59a54ea99" class="idref" href="#5cd7ba04431e7edfc44dded59a54ea99"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:252"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:250"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:251"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#5cd7ba04431e7edfc44dded59a54ea99"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> -{2}<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#except_0_fupd"><span class="id" title="lemma">except_0_fupd</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_bupd_wp" class="idref" href="#elim_modal_bupd_wp"><span class="id" title="instance">elim_modal_bupd_wp</span></a> `{<a id="BiBUpd0:254" class="idref" href="#BiBUpd0:254"><span class="id" title="binder">!</span></a><a id="BiBUpd0:254" class="idref" href="#BiBUpd0:254"><span class="id" title="binder">BiBUpd</span></a> <a id="BiBUpd0:254" class="idref" href="#BiBUpd0:254"><span class="id" title="binder">PROP</span></a>} `{<a id="BiBUpdFUpd0:255" class="idref" href="#BiBUpdFUpd0:255"><span class="id" title="binder">!</span></a><a id="BiBUpdFUpd0:255" class="idref" href="#BiBUpdFUpd0:255"><span class="id" title="binder">BiBUpdFUpd</span></a> <a id="BiBUpdFUpd0:255" class="idref" href="#BiBUpdFUpd0:255"><span class="id" title="binder">PROP</span></a>} <a id="p:256" class="idref" href="#p:256"><span class="id" title="binder">p</span></a> <a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a> <a id="E:258" class="idref" href="#E:258"><span class="id" title="binder">E</span></a> <a id="e:259" class="idref" href="#e:259"><span class="id" title="binder">e</span></a> <a id="P:260" class="idref" href="#P:260"><span class="id" title="binder">P</span></a> <a id="2d0c40f6ebc5e70ddf70dd142b721274" class="idref" href="#2d0c40f6ebc5e70ddf70dd142b721274"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#p:256"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:260"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:260"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:257"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:258"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#2d0c40f6ebc5e70ddf70dd142b721274"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:257"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:258"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#2d0c40f6ebc5e70ddf70dd142b721274"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <span class="id" title="var">E</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_fupd_wp" class="idref" href="#elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a> <a id="p:262" class="idref" href="#p:262"><span class="id" title="binder">p</span></a> <a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a> <a id="E:264" class="idref" href="#E:264"><span class="id" title="binder">E</span></a> <a id="e:265" class="idref" href="#e:265"><span class="id" title="binder">e</span></a> <a id="P:266" class="idref" href="#P:266"><span class="id" title="binder">P</span></a> <a id="83ce9beafa56dc6fe05aa10837c55fc9" class="idref" href="#83ce9beafa56dc6fe05aa10837c55fc9"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#p:262"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:264"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:266"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:266"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:265"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:263"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:264"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#83ce9beafa56dc6fe05aa10837c55fc9"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:265"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:263"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:264"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#83ce9beafa56dc6fe05aa10837c55fc9"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_fupd_wp_atomic" class="idref" href="#elim_modal_fupd_wp_atomic"><span class="id" title="instance">elim_modal_fupd_wp_atomic</span></a> <a id="p:268" class="idref" href="#p:268"><span class="id" title="binder">p</span></a> <a id="s:269" class="idref" href="#s:269"><span class="id" title="binder">s</span></a> <a id="E1:270" class="idref" href="#E1:270"><span class="id" title="binder">E1</span></a> <a id="E2:271" class="idref" href="#E2:271"><span class="id" title="binder">E2</span></a> <a id="e:272" class="idref" href="#e:272"><span class="id" title="binder">e</span></a> <a id="P:273" class="idref" href="#P:273"><span class="id" title="binder">P</span></a> <a id="38dcc6f3f904a7cccecbb9115245c77e" class="idref" href="#38dcc6f3f904a7cccecbb9115245c77e"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#stuckness_to_atomicity"><span class="id" title="definition">stuckness_to_atomicity</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:269"><span class="id" title="variable">s</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:272"><span class="id" title="variable">e</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:270"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:271"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:273"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:273"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:269"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:270"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#38dcc6f3f904a7cccecbb9115245c77e"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:269"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:271"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:275" class="idref" href="#v:275"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:271"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:270"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#38dcc6f3f904a7cccecbb9115245c77e"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span> | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_atomic"><span class="id" title="lemma">wp_atomic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="add_modal_fupd_wp" class="idref" href="#add_modal_fupd_wp"><span class="id" title="instance">add_modal_fupd_wp</span></a> <a id="s:276" class="idref" href="#s:276"><span class="id" title="binder">s</span></a> <a id="E:277" class="idref" href="#E:277"><span class="id" title="binder">E</span></a> <a id="e:278" class="idref" href="#e:278"><span class="id" title="binder">e</span></a> <a id="P:279" class="idref" href="#P:279"><span class="id" title="binder">P</span></a> <a id="6078f7adda50ee7ed4e5749983e073d6" class="idref" href="#6078f7adda50ee7ed4e5749983e073d6"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:277"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:279"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#P:279"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:278"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:276"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:277"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#6078f7adda50ee7ed4e5749983e073d6"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_acc_wp_atomic" class="idref" href="#elim_acc_wp_atomic"><span class="id" title="instance">elim_acc_wp_atomic</span></a> {<a id="X:281" class="idref" href="#X:281"><span class="id" title="binder">X</span></a>} <a id="E1:282" class="idref" href="#E1:282"><span class="id" title="binder">E1</span></a> <a id="E2:283" class="idref" href="#E2:283"><span class="id" title="binder">E2</span></a> <a id="d4f7928e7735f95a5ad835cf0a09a88a" class="idref" href="#d4f7928e7735f95a5ad835cf0a09a88a"><span class="id" title="binder">α</span></a> <a id="7b1f4762b4c0bfeb20864b93aad09379" class="idref" href="#7b1f4762b4c0bfeb20864b93aad09379"><span class="id" title="binder">β</span></a> <a id="ffd1aaa33b6d043326c7183b4eb281e2" class="idref" href="#ffd1aaa33b6d043326c7183b4eb281e2"><span class="id" title="binder">γ</span></a> <a id="e:287" class="idref" href="#e:287"><span class="id" title="binder">e</span></a> <a id="s:288" class="idref" href="#s:288"><span class="id" title="binder">s</span></a> <a id="3defae5dd3bcb55e8aaf8a9ac1424f75" class="idref" href="#3defae5dd3bcb55e8aaf8a9ac1424f75"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimAcc"><span class="id" title="class">ElimAcc</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#X:281"><span class="id" title="variable">X</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#stuckness_to_atomicity"><span class="id" title="definition">stuckness_to_atomicity</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:288"><span class="id" title="variable">s</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:287"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:282"><span class="id" title="variable">E1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:283"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:283"><span class="id" title="variable">E2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:282"><span class="id" title="variable">E1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#d4f7928e7735f95a5ad835cf0a09a88a"><span class="id" title="variable">α</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#7b1f4762b4c0bfeb20864b93aad09379"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ffd1aaa33b6d043326c7183b4eb281e2"><span class="id" title="variable">γ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:287"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:288"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E1:282"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#3defae5dd3bcb55e8aaf8a9ac1424f75"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">λ</span> <a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:287"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:288"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:283"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:291" class="idref" href="#v:291"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E2:283"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#7b1f4762b4c0bfeb20864b93aad09379"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#ffd1aaa33b6d043326c7183b4eb281e2"><span class="id" title="variable">γ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#a4bab51f23023547d58ca4ced3825cc1"><span class="id" title="notation">-∗?</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#3defae5dd3bcb55e8aaf8a9ac1424f75"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:291"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span> | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "Hinner &gt;Hacc". <span class="id" title="var">iDestruct</span> "Hacc" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[Hα Hclose]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(Hinner Hα)"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&gt;[Hβ HΦ]". <span class="id" title="var">iApply</span> "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Hclose".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_acc_wp_nonatomic" class="idref" href="#elim_acc_wp_nonatomic"><span class="id" title="instance">elim_acc_wp_nonatomic</span></a> {<a id="X:292" class="idref" href="#X:292"><span class="id" title="binder">X</span></a>} <a id="E:293" class="idref" href="#E:293"><span class="id" title="binder">E</span></a> <a id="5517551dbada584a55b43dd654ff7031" class="idref" href="#5517551dbada584a55b43dd654ff7031"><span class="id" title="binder">α</span></a> <a id="e47f2b9ec9daf565d44168f0e16fa1cf" class="idref" href="#e47f2b9ec9daf565d44168f0e16fa1cf"><span class="id" title="binder">β</span></a> <a id="8666b16a13d3c593e8c47686b363ba7e" class="idref" href="#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="binder">γ</span></a> <a id="e:297" class="idref" href="#e:297"><span class="id" title="binder">e</span></a> <a id="s:298" class="idref" href="#s:298"><span class="id" title="binder">s</span></a> <a id="b716ee01a469714fa92abb59e555e0c3" class="idref" href="#b716ee01a469714fa92abb59e555e0c3"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimAcc"><span class="id" title="class">ElimAcc</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#X:292"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#5517551dbada584a55b43dd654ff7031"><span class="id" title="variable">α</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e47f2b9ec9daf565d44168f0e16fa1cf"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="variable">γ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:297"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:298"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#b716ee01a469714fa92abb59e555e0c3"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">λ</span> <a id="x:300" class="idref" href="#x:300"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e:297"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#s:298"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:301" class="idref" href="#v:301"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#E:293"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#e47f2b9ec9daf565d44168f0e16fa1cf"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#x:300"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="variable">γ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#x:300"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#a4bab51f23023547d58ca4ced3825cc1"><span class="id" title="notation">-∗?</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#b716ee01a469714fa92abb59e555e0c3"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#v:301"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">_</span>) "Hinner &gt;Hacc". <span class="id" title="var">iDestruct</span> "Hacc" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[Hα Hclose]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_fupd"><span class="id" title="lemma">wp_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(Hinner Hα)"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&gt;[Hβ HΦ]". <span class="id" title="var">iApply</span> "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Hclose".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
