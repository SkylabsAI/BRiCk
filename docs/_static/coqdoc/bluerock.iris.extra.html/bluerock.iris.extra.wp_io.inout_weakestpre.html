<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.iris.extra.wp_io.inout_weakestpre</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2023&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
A variant of WP that has input assumptions / output obligations.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.base.html#"><span class="id" title="library">iris.proofmode.base</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.proofmode.proofmode.html#"><span class="id" title="library">bluerock.iris.extra.proofmode.proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#"><span class="id" title="library">iris.proofmode.classes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#"><span class="id" title="library">bluerock.iris.extra.bi.only_provable</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.iris.ghost</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="PrePost" class="idref" href="#PrePost"><span class="id" title="record">PrePost</span></a> {<a id="PROP:1" class="idref" href="#PROP:1"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} := {<br/>
&nbsp;&nbsp;<a id="tele_pre" class="idref" href="#tele_pre"><span class="id" title="projection">tele_pre</span></a>  : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#tele"><span class="id" title="inductive">tele</span></a> ;<br/>
&nbsp;&nbsp;<a id="tele_post" class="idref" href="#tele_post"><span class="id" title="projection">tele_post</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_pre:3"><span class="id" title="method">tele_pre</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#tele"><span class="id" title="inductive">tele</span></a> ;<br/>
&nbsp;&nbsp;<a id="pre" class="idref" href="#pre"><span class="id" title="projection">pre</span></a>       : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_pre:3"><span class="id" title="method">tele_pre</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:1"><span class="id" title="variable">PROP</span></a> ;<br/>
&nbsp;&nbsp;<a id="post" class="idref" href="#post"><span class="id" title="projection">post</span></a>      : <span class="id" title="notation">∀</span> <a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_post:4"><span class="id" title="method">tele_post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x:6"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:1"><span class="id" title="variable">PROP</span></a><br/>
}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="trivial_spec" class="idref" href="#trivial_spec"><span class="id" title="definition">trivial_spec</span></a> {<a id="PROP:8" class="idref" href="#PROP:8"><span class="id" title="binder">PROP</span></a>} : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:8"><span class="id" title="variable">PROP</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_pre"><span class="id" title="projection">tele_pre</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">tele</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">]</span></a> ;<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_post"><span class="id" title="projection">tele_post</span></a> <span class="id" title="var">_</span> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">[</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">tele</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.telescopes.html#d80354fa0e02aee56d24df6294b9ea48"><span class="id" title="notation">]</span></a> ;<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> :=  <span class="id" title="notation">λ</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a>%<span class="id" title="var">I</span> ;<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> := <span class="id" title="notation">λ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a>%<span class="id" title="var">I</span> ;<br/>
|}.<br/>

<br/>
</div>

<div class="doc">
This property connects two specs in a callee-caller fashion :
<ul class="doclist">
<li> the caller picks <span class="inlinecode"><span class="id" title="var">x_o</span></span> and show the caller spec's pre-cond <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a></span> <span class="inlinecode"><span class="id" title="var">caller</span></span> <span class="inlinecode"><span class="id" title="var">x_o</span></span>;

</li>
<li> from the caller's pre-cond, we can produce the callee's pre-cond with <span class="inlinecode"><span class="id" title="var">x_i</span></span>;

</li>
<li> the callee picks <span class="inlinecode"><span class="id" title="var">y_i</span></span> and return the callee spec's post-cond
  <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a></span> <span class="inlinecode"><span class="id" title="var">callee</span></span> <span class="inlinecode"><span class="id" title="var">x_i</span></span> <span class="inlinecode"><span class="id" title="var">y_i</span></span>;

</li>
<li> we can produce the caller's post-cond with <span class="inlinecode"><span class="id" title="var">y_o</span></span>.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="callee_caller_specs_pair" class="idref" href="#callee_caller_specs_pair"><span class="id" title="definition">callee_caller_specs_pair</span></a> {<a id="PROP:9" class="idref" href="#PROP:9"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="callee:10" class="idref" href="#callee:10"><span class="id" title="binder">callee</span></a> <a id="caller:11" class="idref" href="#caller:11"><span class="id" title="binder">caller</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:9"><span class="id" title="variable">PROP</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">∀</span> <a id="x_o:12" class="idref" href="#x_o:12"><span class="id" title="binder">x_o</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_pre"><span class="id" title="projection">tele_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#caller:11"><span class="id" title="variable">caller</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#caller:11"><span class="id" title="variable">caller</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o:12"><span class="id" title="variable">x_o</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="x_i:13" class="idref" href="#x_i:13"><span class="id" title="binder">x_i</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_pre"><span class="id" title="projection">tele_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#callee:10"><span class="id" title="variable">callee</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#callee:10"><span class="id" title="variable">callee</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i:13"><span class="id" title="variable">x_i</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="y_i:14" class="idref" href="#y_i:14"><span class="id" title="binder">y_i</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_post"><span class="id" title="projection">tele_post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#callee:10"><span class="id" title="variable">callee</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i:13"><span class="id" title="variable">x_i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#callee:10"><span class="id" title="variable">callee</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i:13"><span class="id" title="variable">x_i</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_i:14"><span class="id" title="variable">y_i</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="y_o:15" class="idref" href="#y_o:15"><span class="id" title="binder">y_o</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#tele_post"><span class="id" title="projection">tele_post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#caller:11"><span class="id" title="variable">caller</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o:12"><span class="id" title="variable">x_o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#caller:11"><span class="id" title="variable">caller</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o:12"><span class="id" title="variable">x_o</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_o:15"><span class="id" title="variable">y_o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Beyond the standard WP, this packages additional input and output
relys and guarantees that the input-output WP must prove (and get to assume)
when it interacts with the environment.

<div class="paragraph"> </div>

TODO: this fixes the specs (obligations and assumptions) for input-output WP
up front. We’d want to generalize it to store the specs in ghost state.
Then we can allow changing the protocols on the fly, for example, we'd need to
enable/disable inputs at certain time (imagin enabling/disabling interrupts).

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="inout_irisGS_gen" class="idref" href="#inout_irisGS_gen"><span class="id" title="record">inout_irisGS_gen</span></a> (<a id="7335d15d594e824cb70f22daceb62b15" class="idref" href="#7335d15d594e824cb70f22daceb62b15"><span class="id" title="binder">Λ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#language"><span class="id" title="record">language</span></a>) (<a id="PROP:17" class="idref" href="#PROP:17"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>) `{<a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">FUpd</span></a> <a id="H:18" class="idref" href="#H:18"><span class="id" title="binder">PROP</span></a>} := <span class="id" title="var">InOutIrisG</span> {<br/>
&nbsp;&nbsp;<a id="ctx_irisGS_gen" class="idref" href="#ctx_irisGS_gen"><span class="id" title="projection">ctx_irisGS_gen</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7335d15d594e824cb70f22daceb62b15"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:17"><span class="id" title="variable">PROP</span></a>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;spec&nbsp;for&nbsp;output&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="ctx_out_spec" class="idref" href="#ctx_out_spec"><span class="id" title="projection">ctx_out_spec</span></a> (<a id="8e76f40abd6ccf5c0ebfac1f9b39c65a" class="idref" href="#8e76f40abd6ccf5c0ebfac1f9b39c65a"><span class="id" title="binder">κ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7335d15d594e824cb70f22daceb62b15"><span class="id" title="variable">Λ</span></a>)) : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:17"><span class="id" title="variable">PROP</span></a> ;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;spec&nbsp;for&nbsp;input&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="ctx_in_spec" class="idref" href="#ctx_in_spec"><span class="id" title="projection">ctx_in_spec</span></a> (<a id="69a3f2771662c0c5aee9730bf52aaa65" class="idref" href="#69a3f2771662c0c5aee9730bf52aaa65"><span class="id" title="binder">κ</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7335d15d594e824cb70f22daceb62b15"><span class="id" title="variable">Λ</span></a>)) : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:17"><span class="id" title="variable">PROP</span></a> ;<br/>
}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#InOutIrisG"><span class="id" title="constructor">InOutIrisG</span></a> {<span class="id" title="var">Λ</span> <span class="id" title="var">PROP</span> <span class="id" title="var">_</span>}.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ctx_irisGS_gen"><span class="id" title="method">ctx_irisGS_gen</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="wp_pre" class="idref" href="#wp_pre"><span class="id" title="definition">wp_pre</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="53a0fb6185d79a69c3f0d1584487ac3a" class="idref" href="#53a0fb6185d79a69c3f0d1584487ac3a"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:26" class="idref" href="#PROP:26"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="FUpd0:27" class="idref" href="#FUpd0:27"><span class="id" title="binder">!</span></a><a id="FUpd0:27" class="idref" href="#FUpd0:27"><span class="id" title="binder">FUpd</span></a> <a id="FUpd0:27" class="idref" href="#FUpd0:27"><span class="id" title="binder">PROP</span></a>} `{<a id="inout_irisGS_gen0:28" class="idref" href="#inout_irisGS_gen0:28"><span class="id" title="binder">!</span></a><a id="inout_irisGS_gen0:28" class="idref" href="#inout_irisGS_gen0:28"><span class="id" title="binder">inout_irisGS_gen</span></a> <a id="inout_irisGS_gen0:28" class="idref" href="#inout_irisGS_gen0:28"><span class="id" title="binder">Λ</span></a> <a id="inout_irisGS_gen0:28" class="idref" href="#inout_irisGS_gen0:28"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:29" class="idref" href="#s:29"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="wp:30" class="idref" href="#wp:30"><span class="id" title="binder">wp</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#53a0fb6185d79a69c3f0d1584487ac3a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#53a0fb6185d79a69c3f0d1584487ac3a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:26"><span class="id" title="variable">PROP</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:26"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#53a0fb6185d79a69c3f0d1584487ac3a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#53a0fb6185d79a69c3f0d1584487ac3a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:26"><span class="id" title="variable">PROP</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">-</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">d</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#:::x_'-d&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:26"><span class="id" title="variable">PROP</span></a> := <span class="id" title="notation">λ</span> <a id="E:31" class="idref" href="#E:31"><span class="id" title="binder">E</span></a> <a id="e1:32" class="idref" href="#e1:32"><span class="id" title="binder">e1</span></a> <a id="3d0db6eb58d9d9f901ac0308b2414dfe" class="idref" href="#3d0db6eb58d9d9f901ac0308b2414dfe"><span class="id" title="binder">Φ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e1:32"><span class="id" title="variable">e1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:31"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3d0db6eb58d9d9f901ac0308b2414dfe"><span class="id" title="variable">Φ</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="222fb251cce959dab88f33bf767b73ee" class="idref" href="#222fb251cce959dab88f33bf767b73ee"><span class="id" title="binder">σ1</span></a> <a id="ns:35" class="idref" href="#ns:35"><span class="id" title="binder">ns</span></a> <a id="d929bd8ea60be4c362500f306c6cfee5" class="idref" href="#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="binder">κ</span></a> <a id="6ab3c5b95450ee84b9b7088c26c1f2f2" class="idref" href="#6ab3c5b95450ee84b9b7088c26c1f2f2"><span class="id" title="binder">κs</span></a> <a id="nt:38" class="idref" href="#nt:38"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="69e5fbb5f68aff3a6f647f6ef5f3d291" class="idref" href="#69e5fbb5f68aff3a6f647f6ef5f3d291"><span class="id" title="binder">α_in</span></a> := (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ctx_in_spec"><span class="id" title="method">ctx_in_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="e53708e8efa779f3f25f13fe0477e5cc" class="idref" href="#e53708e8efa779f3f25f13fe0477e5cc"><span class="id" title="binder">β_in</span></a> := (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ctx_in_spec"><span class="id" title="method">ctx_in_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ff7a144dce6c0c0b15047e69bd7e00ec" class="idref" href="#ff7a144dce6c0c0b15047e69bd7e00ec"><span class="id" title="binder">α_out</span></a> := (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ctx_out_spec"><span class="id" title="method">ctx_out_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="5734acb3106ffc11a99430eea0716369" class="idref" href="#5734acb3106ffc11a99430eea0716369"><span class="id" title="binder">β_out</span></a> := (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ctx_out_spec"><span class="id" title="method">ctx_out_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#222fb251cce959dab88f33bf767b73ee"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:35"><span class="id" title="variable">ns</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6ab3c5b95450ee84b9b7088c26c1f2f2"><span class="id" title="variable">κs</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#nt:38"><span class="id" title="variable">nt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:31"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="x_in:43" class="idref" href="#x_in:43"><span class="id" title="binder">x_in</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#69e5fbb5f68aff3a6f647f6ef5f3d291"><span class="id" title="variable">α_in</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_in:43"><span class="id" title="variable">x_in</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:29"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e1:32"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#222fb251cce959dab88f33bf767b73ee"><span class="id" title="variable">σ1</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="e2:45" class="idref" href="#e2:45"><span class="id" title="binder">e2</span></a> <a id="84147c818f37a76c5d562263512fd2dd" class="idref" href="#84147c818f37a76c5d562263512fd2dd"><span class="id" title="binder">σ2</span></a> <a id="efs:47" class="idref" href="#efs:47"><span class="id" title="binder">efs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e1:32"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#222fb251cce959dab88f33bf767b73ee"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d929bd8ea60be4c362500f306c6cfee5"><span class="id" title="variable">κ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e2:45"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#84147c818f37a76c5d562263512fd2dd"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efs:47"><span class="id" title="variable">efs</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#582fb100e1dea1bf1e4df6d3954fb356"><span class="id" title="notation">∃</span></a>.. <a id="x_out:48" class="idref" href="#x_out:48"><span class="id" title="binder">x_out</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#582fb100e1dea1bf1e4df6d3954fb356"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ff7a144dce6c0c0b15047e69bd7e00ec"><span class="id" title="variable">α_out</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_out:48"><span class="id" title="variable">x_out</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;£&nbsp;(S&nbsp;(num_laters_per_step&nbsp;ns))&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">}▷=&gt;^(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:35"><span class="id" title="variable">ns</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#6578d2f54738e018cf9d968d25a4ae3f"><span class="id" title="notation">∀</span></a>.. <a id="y_out:49" class="idref" href="#y_out:49"><span class="id" title="binder">y_out</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#6578d2f54738e018cf9d968d25a4ae3f"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#5734acb3106ffc11a99430eea0716369"><span class="id" title="variable">β_out</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_out:48"><span class="id" title="variable">x_out</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_out:49"><span class="id" title="variable">y_out</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:31"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#582fb100e1dea1bf1e4df6d3954fb356"><span class="id" title="notation">∃</span></a>.. <a id="y_in:50" class="idref" href="#y_in:50"><span class="id" title="binder">y_in</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.telescopes.html#582fb100e1dea1bf1e4df6d3954fb356"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e53708e8efa779f3f25f13fe0477e5cc"><span class="id" title="variable">β_in</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_in:43"><span class="id" title="variable">x_in</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_in:50"><span class="id" title="variable">y_in</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#84147c818f37a76c5d562263512fd2dd"><span class="id" title="variable">σ2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:35"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6ab3c5b95450ee84b9b7088c26c1f2f2"><span class="id" title="variable">κs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efs:47"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#nt:38"><span class="id" title="variable">nt</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp:30"><span class="id" title="variable">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:31"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e2:45"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3d0db6eb58d9d9f901ac0308b2414dfe"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">]</span></a> <a id="i:51" class="idref" href="#i:51"><span class="id" title="binder"><span id="i:52" class="id">i</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">↦</span></a> <a id="ef:53" class="idref" href="#ef:53"><span class="id" title="binder"><span id="ef:54" class="id">ef</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">∈</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efs:47"><span class="id" title="variable">efs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp:30"><span class="id" title="variable">wp</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ef:53"><span class="id" title="variable">ef</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#fork_post"><span class="id" title="method">fork_post</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="wp_pre_contractive" class="idref" href="#wp_pre_contractive"><span class="id" title="instance">wp_pre_contractive</span></a><br/>
&nbsp;&nbsp;{<a id="be1baaf493801fc2e3e7737fda4fd249" class="idref" href="#be1baaf493801fc2e3e7737fda4fd249"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:56" class="idref" href="#PROP:56"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:57" class="idref" href="#BiFUpd0:57"><span class="id" title="binder">!</span></a><a id="BiFUpd0:57" class="idref" href="#BiFUpd0:57"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:57" class="idref" href="#BiFUpd0:57"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:58" class="idref" href="#BiLaterContractive0:58"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:58" class="idref" href="#BiLaterContractive0:58"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:58" class="idref" href="#BiLaterContractive0:58"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="inout_irisGS_gen0:59" class="idref" href="#inout_irisGS_gen0:59"><span class="id" title="binder">!</span></a><a id="inout_irisGS_gen0:59" class="idref" href="#inout_irisGS_gen0:59"><span class="id" title="binder">inout_irisGS_gen</span></a> <a id="inout_irisGS_gen0:59" class="idref" href="#inout_irisGS_gen0:59"><span class="id" title="binder">Λ</span></a> <a id="inout_irisGS_gen0:59" class="idref" href="#inout_irisGS_gen0:59"><span class="id" title="binder">PROP</span></a>} <a id="s:60" class="idref" href="#s:60"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#Contractive"><span class="id" title="abbreviation">Contractive</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:60"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /= =&gt; <span class="id" title="var">n</span> <span class="id" title="var">wp</span> <span class="id" title="var">wp'</span> <span class="id" title="var">Hwp</span> <span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">Φ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 30 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>); <span class="id" title="tactic">apply</span> <span class="id" title="var">Hwp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="wp_def" class="idref" href="#wp_def"><span class="id" title="definition">wp_def</span></a><br/>
&nbsp;&nbsp;{<a id="0483ed38668b0a00f5d68c3404c54c7f" class="idref" href="#0483ed38668b0a00f5d68c3404c54c7f"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:62" class="idref" href="#PROP:62"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:63" class="idref" href="#BiFUpd0:63"><span class="id" title="binder">!</span></a><a id="BiFUpd0:63" class="idref" href="#BiFUpd0:63"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:63" class="idref" href="#BiFUpd0:63"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:64" class="idref" href="#BiLaterContractive0:64"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:64" class="idref" href="#BiLaterContractive0:64"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:64" class="idref" href="#BiLaterContractive0:64"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="inout_irisGS_gen0:65" class="idref" href="#inout_irisGS_gen0:65"><span class="id" title="binder">!</span></a><a id="inout_irisGS_gen0:65" class="idref" href="#inout_irisGS_gen0:65"><span class="id" title="binder">inout_irisGS_gen</span></a> <a id="inout_irisGS_gen0:65" class="idref" href="#inout_irisGS_gen0:65"><span class="id" title="binder">Λ</span></a> <a id="inout_irisGS_gen0:65" class="idref" href="#inout_irisGS_gen0:65"><span class="id" title="binder">PROP</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#Wp"><span class="id" title="class">Wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:62"><span class="id" title="variable">PROP</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#0483ed38668b0a00f5d68c3404c54c7f"><span class="id" title="variable">Λ</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#0483ed38668b0a00f5d68c3404c54c7f"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">λ</span> <a id="s:66" class="idref" href="#s:66"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#fixpoint"><span class="id" title="definition">fixpoint</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:66"><span class="id" title="variable">s</span></a>).<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="wp_aux" class="idref" href="#wp_aux"><span class="id" title="definition">wp_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_def"><span class="id" title="definition">wp_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="wp'" class="idref" href="#wp'"><span class="id" title="definition">wp'</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_aux"><span class="id" title="definition">wp_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
<span class="id" title="keyword">Global Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a> {<span class="id" title="var">Λ</span> <span class="id" title="var">PROP</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Global Existing Instance</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="wp_unseal" class="idref" href="#wp_unseal"><span class="id" title="lemma">wp_unseal</span></a><br/>
&nbsp;&nbsp;{<a id="ef7641b4cc255704496611d3b4db78b7" class="idref" href="#ef7641b4cc255704496611d3b4db78b7"><span class="id" title="binder">Λ</span></a>} {<a id="PROP:68" class="idref" href="#PROP:68"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a id="BiFUpd0:69" class="idref" href="#BiFUpd0:69"><span class="id" title="binder">!</span></a><a id="BiFUpd0:69" class="idref" href="#BiFUpd0:69"><span class="id" title="binder">BiFUpd</span></a> <a id="BiFUpd0:69" class="idref" href="#BiFUpd0:69"><span class="id" title="binder">PROP</span></a>} `{<a id="BiLaterContractive0:70" class="idref" href="#BiLaterContractive0:70"><span class="id" title="binder">!</span></a><a id="BiLaterContractive0:70" class="idref" href="#BiLaterContractive0:70"><span class="id" title="binder">BiLaterContractive</span></a> <a id="BiLaterContractive0:70" class="idref" href="#BiLaterContractive0:70"><span class="id" title="binder">PROP</span></a>}<br/>
&nbsp;&nbsp;`{<a id="inout_irisGS_gen0:71" class="idref" href="#inout_irisGS_gen0:71"><span class="id" title="binder">!</span></a><a id="inout_irisGS_gen0:71" class="idref" href="#inout_irisGS_gen0:71"><span class="id" title="binder">inout_irisGS_gen</span></a> <a id="inout_irisGS_gen0:71" class="idref" href="#inout_irisGS_gen0:71"><span class="id" title="binder">Λ</span></a> <a id="inout_irisGS_gen0:71" class="idref" href="#inout_irisGS_gen0:71"><span class="id" title="binder">PROP</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_def"><span class="id" title="definition">wp_def</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ef7641b4cc255704496611d3b4db78b7"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:68"><span class="id" title="variable">PROP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_aux"><span class="id" title="definition">wp_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>) //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp" class="idref" href="#wp"><span class="id" title="section">wp</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="aaa17055334b59f7fd85cf2ac3982981" class="idref" href="#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>} {<a id="wp.PROP" class="idref" href="#wp.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:73"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:73"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#inout_irisGS_gen"><span class="id" title="class">inout_irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ffebf150f87cc6df24d09c22069c5308"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:73"><span class="id" title="variable">PROP</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">s</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aaa17055334b59f7fd85cf2ac3982981"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Weakest&nbsp;pre&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_unfold" class="idref" href="#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> <a id="s:77" class="idref" href="#s:77"><span class="id" title="binder">s</span></a> <a id="E:78" class="idref" href="#E:78"><span class="id" title="binder">E</span></a> <a id="e:79" class="idref" href="#e:79"><span class="id" title="binder">e</span></a> <a id="efbda7adfd0eb3fbdfb6dad4ab59b902" class="idref" href="#efbda7adfd0eb3fbdfb6dad4ab59b902"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:77"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:78"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efbda7adfd0eb3fbdfb6dad4ab59b902"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:77"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:77"><span class="id" title="variable">s</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:78"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:79"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efbda7adfd0eb3fbdfb6dad4ab59b902"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unseal"><span class="id" title="lemma">wp_unseal</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#fixpoint_unfold"><span class="id" title="lemma">fixpoint_unfold</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <span class="id" title="var">s</span>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_ne" class="idref" href="#wp_ne"><span class="id" title="instance">wp_ne</span></a> <a id="s:81" class="idref" href="#s:81"><span class="id" title="binder">s</span></a> <a id="E:82" class="idref" href="#E:82"><span class="id" title="binder">E</span></a> <a id="e:83" class="idref" href="#e:83"><span class="id" title="binder">e</span></a> <a id="n:84" class="idref" href="#n:84"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:84"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:84"><span class="id" title="variable">n</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:81"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:82"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:83"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> (<span class="id" title="lemma">lt_wf</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span>]=&gt; <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HΦ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;figure&nbsp;out&nbsp;a&nbsp;way&nbsp;to&nbsp;properly&nbsp;automate&nbsp;this&nbsp;proof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME:&nbsp;reflexivity,&nbsp;as&nbsp;being&nbsp;called&nbsp;many&nbsp;times&nbsp;by&nbsp;f_equiv&nbsp;and&nbsp;f_contractive<br/>
&nbsp;&nbsp;is&nbsp;very&nbsp;slow&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 30 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; [<span class="id" title="var">done</span>|<span class="id" title="var">lia</span>|]. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist_lt"><span class="id" title="lemma">dist_lt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_proper" class="idref" href="#wp_proper"><span class="id" title="instance">wp_proper</span></a> <a id="s:85" class="idref" href="#s:85"><span class="id" title="binder">s</span></a> <a id="E:86" class="idref" href="#E:86"><span class="id" title="binder">E</span></a> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:85"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:86"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:87"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>=&gt;<span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_ne"><span class="id" title="instance">wp_ne</span></a>=&gt;<span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_contractive" class="idref" href="#wp_contractive"><span class="id" title="instance">wp_contractive</span></a> <a id="s:88" class="idref" href="#s:88"><span class="id" title="binder">s</span></a> <a id="E:89" class="idref" href="#E:89"><span class="id" title="binder">E</span></a> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> <a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:90"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist_later"><span class="id" title="record">dist_later</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:91"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:91"><span class="id" title="variable">n</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:88"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:89"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:90"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">He</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HΦ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <span class="id" title="var">He</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 29 (<span class="id" title="var">f_contractive</span> || <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;:&nbsp;simplify&nbsp;this&nbsp;proof&nbsp;once&nbsp;we&nbsp;have&nbsp;a&nbsp;good&nbsp;definition&nbsp;and&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proper&nbsp;instance&nbsp;for&nbsp;step_fupdN.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 10 <span class="id" title="var">f_equiv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value_fupd'" class="idref" href="#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a> <a id="s:92" class="idref" href="#s:92"><span class="id" title="binder">s</span></a> <a id="E:93" class="idref" href="#E:93"><span class="id" title="binder">E</span></a> <a id="f908ffe2db098dedb2a69c0b45970200" class="idref" href="#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="binder">Φ</span></a> <a id="v:95" class="idref" href="#v:95"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:95"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:92"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:93"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:93"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#f908ffe2db098dedb2a69c0b45970200"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:95"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_strong_mono" class="idref" href="#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a id="s1:96" class="idref" href="#s1:96"><span class="id" title="binder">s1</span></a> <a id="s2:97" class="idref" href="#s2:97"><span class="id" title="binder">s2</span></a> <a id="E1:98" class="idref" href="#E1:98"><span class="id" title="binder">E1</span></a> <a id="E2:99" class="idref" href="#E2:99"><span class="id" title="binder">E2</span></a> <a id="e:100" class="idref" href="#e:100"><span class="id" title="binder">e</span></a> <a id="6138a8b5f68a31f0fdeef314552b73c5" class="idref" href="#6138a8b5f68a31f0fdeef314552b73c5"><span class="id" title="binder">Φ</span></a> <a id="ff4e8fd4df4ac18927a82eeec0098ffb" class="idref" href="#ff4e8fd4df4ac18927a82eeec0098ffb"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s1:96"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s2:97"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:98"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:99"><span class="id" title="variable">E2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s1:96"><span class="id" title="variable">s1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:98"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6138a8b5f68a31f0fdeef314552b73c5"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:103" class="idref" href="#v:103"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6138a8b5f68a31f0fdeef314552b73c5"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:103"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:99"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ff4e8fd4df4ac18927a82eeec0098ffb"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:103"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:100"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s2:97"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:99"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ff4e8fd4df4ac18927a82eeec0098ffb"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? <span class="id" title="var">HE</span>) "H HΦ". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">HE</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"HΦ" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[&gt; -]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_mono"><span class="id" title="lemma">fupd_mask_mono</span></a> <span class="id" title="var">E1</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq"><span class="id" title="lemma">fupd_mask_subseteq</span></a> <span class="id" title="var">E1</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i</span>) "Hαi".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) "Step".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Step"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "(Hαo &amp; H)". <span class="id" title="var">iExists</span> <span class="id" title="var">x_o</span>. <span class="id" title="var">iFrame</span> "Hαo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">y_o</span>) "Hβ". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; $ &amp; H &amp; Hefs)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose" <span class="id" title="keyword">as</span> "_". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i</span>. <span class="id" title="var">iFrame</span> "Hβi". <span class="id" title="var">iSplitR</span> "Hefs".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//] H HΦ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hefs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fupd_wp" class="idref" href="#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> <a id="s:104" class="idref" href="#s:104"><span class="id" title="binder">s</span></a> <a id="E:105" class="idref" href="#E:105"><span class="id" title="binder">E</span></a> <a id="e:106" class="idref" href="#e:106"><span class="id" title="binder">e</span></a> <a id="8e8a7418049e67934eac83ae0ccecb41" class="idref" href="#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:105"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:106"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:104"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:105"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:106"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:104"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:105"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#8e8a7418049e67934eac83ae0ccecb41"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> "H". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ1". <span class="id" title="var">iMod</span> "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_fupd" class="idref" href="#wp_fupd"><span class="id" title="lemma">wp_fupd</span></a> <a id="s:108" class="idref" href="#s:108"><span class="id" title="binder">s</span></a> <a id="E:109" class="idref" href="#E:109"><span class="id" title="binder">E</span></a> <a id="e:110" class="idref" href="#e:110"><span class="id" title="binder">e</span></a> <a id="7a386e0893b5329dfe01e84c3ae5cf8e" class="idref" href="#7a386e0893b5329dfe01e84c3ae5cf8e"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:110"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:108"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:109"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:112" class="idref" href="#v:112"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:109"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7a386e0893b5329dfe01e84c3ae5cf8e"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:112"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:110"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:108"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:109"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7a386e0893b5329dfe01e84c3ae5cf8e"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_atomic" class="idref" href="#wp_atomic"><span class="id" title="lemma">wp_atomic</span></a> <a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a> <a id="E1:114" class="idref" href="#E1:114"><span class="id" title="binder">E1</span></a> <a id="E2:115" class="idref" href="#E2:115"><span class="id" title="binder">E2</span></a> <a id="e:116" class="idref" href="#e:116"><span class="id" title="binder">e</span></a> <a id="d1c633b016b6a7164472c11b8430a1a2" class="idref" href="#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="binder">Φ</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;only&nbsp;support&nbsp;strongly&nbsp;atomic&nbsp;*)</span> <span class="comment">(*&nbsp;`{!Atomic&nbsp;s&nbsp;e}&nbsp;*)</span><br/>
&nbsp;&nbsp;`{<a id="Atomic0:118" class="idref" href="#Atomic0:118"><span class="id" title="binder">!</span></a><a id="Atomic0:118" class="idref" href="#Atomic0:118"><span class="id" title="binder">Atomic</span></a> <a id="Atomic0:118" class="idref" href="#Atomic0:118"><span class="id" title="binder">StronglyAtomic</span></a> <a id="Atomic0:118" class="idref" href="#Atomic0:118"><span class="id" title="binder">e</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:114"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:115"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:113"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:115"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:119" class="idref" href="#v:119"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:115"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:114"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:119"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:116"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:113"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:114"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d1c633b016b6a7164472c11b8430a1a2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "&gt;&gt;&gt; $". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ". <span class="id" title="var">iMod</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> σ1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i</span>) "Hαi". <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "(Hαo &amp; H)". <span class="id" title="var">iExists</span> <span class="id" title="var">x_o</span>. <span class="id" title="var">iFrame</span> "Hαo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">y_o</span>) "Hβo". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; Hσ &amp; H &amp; Hefs)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i</span>. <span class="id" title="var">iFrame</span> "Hβi".<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;destruct&nbsp;s.<br/>
&nbsp;&nbsp;-&nbsp;rewrite&nbsp;!wp_unfold&nbsp;/wp_pre.&nbsp;destruct&nbsp;(to_val&nbsp;e2)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">v2</span>|</span>&nbsp;eqn:He2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;iDestruct&nbsp;"H"&nbsp;as&nbsp;"&gt;&gt;&nbsp;!&nbsp;_&nbsp;_&nbsp;<span class="inlinecode"></span>&nbsp;with&nbsp;"<span class="inlinecode">$</span>")&nbsp;as&nbsp;"<span class="inlinecode"><span class="id" title="var">H</span></span> <span class="inlinecode">?</span>".&nbsp;iDestruct&nbsp;"H"&nbsp;as&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#atomic"><span class="id" title="definition">atomic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> &lt;-%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "&gt;H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hσ Hefs". <span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!&gt;".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemma gives us access to the later credits that are generated in each step,
  assuming that we have instantiated <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="projection">num_laters_per_step</span></a></span> with a non-trivial (e.g. linear)
  function.
  This lemma can be used to provide a "regeneration" mechanism for later credits.
  <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> will have to be defined in a way that involves the required regneration
  tokens. TODO: point to an example of how this is used.

<div class="paragraph"> </div>

  In detail, a client can use this lemma as follows:
<a id="lab92"></a><h1 class="section">the client obtains the state interpretation <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">ns</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>,</h1>

<a id="lab93"></a><h1 class="section">it uses some ghost state wired up to the interpretation to know that</h1>

    <span class="inlinecode"><span class="id" title="var">ns</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">k</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">m</span></span>, and update the state interpretation to <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span>,
<a id="lab94"></a><h1 class="section">_after <span class="inlinecode"><span class="id" title="var">e</span></span> has finally stepped, we get <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="projection">num_laters_per_step</span></a></span> <span class="inlinecode"><span class="id" title="var">k</span></span> later credits</h1>

    that we can use to prove <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.contender_token.html#with_contender.P"><span class="id" title="variable">P</span></a></span> in the postcondition, and we have to update
    the state interpretation from <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><span class="id" title="var">m</span>)</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> to
    <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="projection">state_interp</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span> <span class="inlinecode"><span class="id" title="var">ns</span>)</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> again. 
</div>
<div class="code">
<span class="comment">(*<br/>
Lemma&nbsp;wp_credit_access&nbsp;s&nbsp;E&nbsp;e&nbsp;Φ&nbsp;P&nbsp;:<br/>
&nbsp;&nbsp;TCEq&nbsp;(to_val&nbsp;e)&nbsp;None&nbsp;→<br/>
&nbsp;&nbsp;(∀&nbsp;m&nbsp;k,&nbsp;num_laters_per_step&nbsp;m&nbsp;+&nbsp;num_laters_per_step&nbsp;k&nbsp;≤&nbsp;num_laters_per_step&nbsp;(m&nbsp;+&nbsp;k))&nbsp;→<br/>
&nbsp;&nbsp;(∀&nbsp;σ1&nbsp;ns&nbsp;κs&nbsp;nt,&nbsp;state_interp&nbsp;σ1&nbsp;ns&nbsp;κs&nbsp;nt&nbsp;={E}=∗<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃&nbsp;k&nbsp;m,&nbsp;state_interp&nbsp;σ1&nbsp;m&nbsp;κs&nbsp;nt&nbsp;∗&nbsp;⌜ns&nbsp;=&nbsp;(m&nbsp;+&nbsp;k)*)</span><br/>

<br/>
</div>

<div class="doc">
In this stronger version of <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span>, the masks in the
   step-taking fancy update are a bit weird and somewhat difficult to
   use in practice. Hence, we prove it for the sake of completeness,
   but <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span> is just a little bit weaker, suffices in
   practice and is easier to use.

<div class="paragraph"> </div>

   See the statement of <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a></span> below to understand the use of
   ordinary conjunction here. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupdN_strong" class="idref" href="#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> <a id="n:120" class="idref" href="#n:120"><span class="id" title="binder">n</span></a> <a id="s:121" class="idref" href="#s:121"><span class="id" title="binder">s</span></a> <a id="E1:122" class="idref" href="#E1:122"><span class="id" title="binder">E1</span></a> <a id="E2:123" class="idref" href="#E2:123"><span class="id" title="binder">E2</span></a> <a id="e:124" class="idref" href="#e:124"><span class="id" title="binder">e</span></a> <a id="P:125" class="idref" href="#P:125"><span class="id" title="binder">P</span></a> <a id="59b01455388855e72eb2fe1d499d2c45" class="idref" href="#59b01455388855e72eb2fe1d499d2c45"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:124"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:123"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="f887727adfc781e6aae727f3f8c4ea6f" class="idref" href="#f887727adfc781e6aae727f3f8c4ea6f"><span class="id" title="binder">σ</span></a> <a id="ns:128" class="idref" href="#ns:128"><span class="id" title="binder">ns</span></a> <a id="81e31e9edf7d22da5cd4f015f6773e1a" class="idref" href="#81e31e9edf7d22da5cd4f015f6773e1a"><span class="id" title="binder">κs</span></a> <a id="nt:130" class="idref" href="#nt:130"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#f887727adfc781e6aae727f3f8c4ea6f"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:128"><span class="id" title="variable">ns</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#81e31e9edf7d22da5cd4f015f6773e1a"><span class="id" title="variable">κs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#nt:130"><span class="id" title="variable">nt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:120"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:128"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:123"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">}▷=&gt;^</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:120"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:123"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:125"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:124"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:121"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:123"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:131" class="idref" href="#v:131"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:125"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#59b01455388855e72eb2fe1d499d2c45"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:131"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:124"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:121"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:122"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#59b01455388855e72eb2fe1d499d2c45"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> (<span class="id" title="var">_</span> ?) "/= [_ [HP Hwp]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[&gt;HP]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iMod</span> "HP" <span class="id" title="keyword">as</span> "$". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=. <span class="id" title="var">iIntros</span> (-&gt; ?) "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">n</span> <span class="id" title="notation">≤</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="var">ns</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn</span>|<span class="id" title="var">Hn</span>]; <span class="id" title="tactic">first</span> <span class="id" title="var">last</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "[Hn _]". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hn" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "[_ [&gt;HP Hwp]]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hwp" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i</span>) "Hαi".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[% //]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "[Hαo H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x_o</span>. <span class="id" title="var">iFrame</span> "Hαo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt;!&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <span class="id" title="var">ns</span>)=&gt;<span class="id" title="var">n0</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iInduction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span>] "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">n0</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">y_o</span>) "Hβo".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; $ &amp; Hwp &amp; $)". <span class="id" title="var">iMod</span> "HP".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i</span>. <span class="id" title="var">iFrame</span> "Hβi".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "HΦ". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"HΦ" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n0</span>]; [<span class="id" title="var">lia</span>|]=&gt;/=. <span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt; !&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> "HP". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] HP H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_bind" class="idref" href="#wp_bind"><span class="id" title="lemma">wp_bind</span></a> <a id="K:132" class="idref" href="#K:132"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:133" class="idref" href="#LanguageCtx0:133"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:133" class="idref" href="#LanguageCtx0:133"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:133" class="idref" href="#LanguageCtx0:133"><span class="id" title="binder">K</span></a>} <a id="s:134" class="idref" href="#s:134"><span class="id" title="binder">s</span></a> <a id="E:135" class="idref" href="#E:135"><span class="id" title="binder">E</span></a> <a id="e:136" class="idref" href="#e:136"><span class="id" title="binder">e</span></a> <a id="b2d41de12b6e82bc1c6669ac8bee252a" class="idref" href="#b2d41de12b6e82bc1c6669ac8bee252a"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:134"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:135"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:138" class="idref" href="#v:138"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#K:132"><span class="id" title="variable">K</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:138"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:134"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:135"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#b2d41de12b6e82bc1c6669ac8bee252a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#K:132"><span class="id" title="variable">K</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:134"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:135"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#b2d41de12b6e82bc1c6669ac8bee252a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> /=; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">step</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i</span>) "Hαi". <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible_fill"><span class="id" title="lemma">reducible_fill</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_step_inv"><span class="id" title="method">fill_step_inv</span></a> <span class="id" title="var">e</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">e2'</span>&amp;-&gt;&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">e2'</span> σ2 <span class="id" title="var">efs</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[//]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "[Hαo H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x_o</span>. <span class="id" title="var">iFrame</span> "Hαo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt;!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">y_o</span>) "Hβo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; $ &amp; H &amp; $)". <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i</span>. <span class="id" title="var">iFrame</span> "Hβi". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_bind_inv" class="idref" href="#wp_bind_inv"><span class="id" title="lemma">wp_bind_inv</span></a> <a id="K:139" class="idref" href="#K:139"><span class="id" title="binder">K</span></a> `{<a id="LanguageCtx0:140" class="idref" href="#LanguageCtx0:140"><span class="id" title="binder">!</span></a><a id="LanguageCtx0:140" class="idref" href="#LanguageCtx0:140"><span class="id" title="binder">LanguageCtx</span></a> <a id="LanguageCtx0:140" class="idref" href="#LanguageCtx0:140"><span class="id" title="binder">K</span></a>} <a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> <a id="E:142" class="idref" href="#E:142"><span class="id" title="binder">E</span></a> <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> <a id="50f99e1691b946e85d2a163c96eb6102" class="idref" href="#50f99e1691b946e85d2a163c96eb6102"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#K:139"><span class="id" title="variable">K</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:141"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#50f99e1691b946e85d2a163c96eb6102"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:141"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:145" class="idref" href="#v:145"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#K:139"><span class="id" title="variable">K</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:145"><span class="id" title="variable">v</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:141"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:142"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#50f99e1691b946e85d2a163c96eb6102"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!&gt;". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i</span>) "Hαi". <span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#reducible_fill_inv"><span class="id" title="lemma">reducible_fill_inv</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[%]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "[Hαo H]"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#fill_step"><span class="id" title="method">fill_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x_o</span>. <span class="id" title="var">iFrame</span> "Hαo".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H". <span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">y_o</span>) "Hβo". <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; $ &amp; H &amp; $)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i</span>. <span class="id" title="var">iFrame</span> "Hβi". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab95"></a><h1 class="section">Derived rules</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_mono" class="idref" href="#wp_mono"><span class="id" title="lemma">wp_mono</span></a> <a id="s:146" class="idref" href="#s:146"><span class="id" title="binder">s</span></a> <a id="E:147" class="idref" href="#E:147"><span class="id" title="binder">E</span></a> <a id="e:148" class="idref" href="#e:148"><span class="id" title="binder">e</span></a> <a id="6e2a28c23cc3867c00dce1007c99b76f" class="idref" href="#6e2a28c23cc3867c00dce1007c99b76f"><span class="id" title="binder">Φ</span></a> <a id="3f246e8f4b499cfb203fa6283f1fc34c" class="idref" href="#3f246e8f4b499cfb203fa6283f1fc34c"><span class="id" title="binder">Ψ</span></a> : <span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="v:151" class="idref" href="#v:151"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6e2a28c23cc3867c00dce1007c99b76f"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:151"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3f246e8f4b499cfb203fa6283f1fc34c"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:151"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:148"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:147"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6e2a28c23cc3867c00dce1007c99b76f"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:148"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:147"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3f246e8f4b499cfb203fa6283f1fc34c"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">HΦ</span>) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">HΦ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_stuck_mono" class="idref" href="#wp_stuck_mono"><span class="id" title="lemma">wp_stuck_mono</span></a> <a id="s1:152" class="idref" href="#s1:152"><span class="id" title="binder">s1</span></a> <a id="s2:153" class="idref" href="#s2:153"><span class="id" title="binder">s2</span></a> <a id="E:154" class="idref" href="#E:154"><span class="id" title="binder">E</span></a> <a id="e:155" class="idref" href="#e:155"><span class="id" title="binder">e</span></a> <a id="aafb602b12e0476402abb140084a9810" class="idref" href="#aafb602b12e0476402abb140084a9810"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s1:152"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s2:153"><span class="id" title="variable">s2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s1:152"><span class="id" title="variable">s1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:154"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aafb602b12e0476402abb140084a9810"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s2:153"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:154"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aafb602b12e0476402abb140084a9810"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_stuck_weaken" class="idref" href="#wp_stuck_weaken"><span class="id" title="lemma">wp_stuck_weaken</span></a> <a id="s:157" class="idref" href="#s:157"><span class="id" title="binder">s</span></a> <a id="E:158" class="idref" href="#E:158"><span class="id" title="binder">E</span></a> <a id="e:159" class="idref" href="#e:159"><span class="id" title="binder">e</span></a> <a id="7cc7252e39c00d6d3d512ae490a933fe" class="idref" href="#7cc7252e39c00d6d3d512ae490a933fe"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:159"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:157"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:158"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7cc7252e39c00d6d3d512ae490a933fe"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:159"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:158"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">?{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7cc7252e39c00d6d3d512ae490a933fe"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#12cb0527cdc73347de0350ab32e71fd0"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_stuck_mono"><span class="id" title="lemma">wp_stuck_mono</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_mask_mono" class="idref" href="#wp_mask_mono"><span class="id" title="lemma">wp_mask_mono</span></a> <a id="s:161" class="idref" href="#s:161"><span class="id" title="binder">s</span></a> <a id="E1:162" class="idref" href="#E1:162"><span class="id" title="binder">E1</span></a> <a id="E2:163" class="idref" href="#E2:163"><span class="id" title="binder">E2</span></a> <a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a> <a id="6a6fca4d8c8265041b362970d4fd5918" class="idref" href="#6a6fca4d8c8265041b362970d4fd5918"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:162"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:163"><span class="id" title="variable">E2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:161"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:162"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6a6fca4d8c8265041b362970d4fd5918"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:161"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:163"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6a6fca4d8c8265041b362970d4fd5918"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_mono'" class="idref" href="#wp_mono'"><span class="id" title="instance">wp_mono'</span></a> <a id="s:166" class="idref" href="#s:166"><span class="id" title="binder">s</span></a> <a id="E:167" class="idref" href="#E:167"><span class="id" title="binder">E</span></a> <a id="e:168" class="idref" href="#e:168"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:166"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:167"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:168"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a id="wp_flip_mono'" class="idref" href="#wp_flip_mono'"><span class="id" title="instance">wp_flip_mono'</span></a> <a id="s:169" class="idref" href="#s:169"><span class="id" title="binder">s</span></a> <a id="E:170" class="idref" href="#E:170"><span class="id" title="binder">E</span></a> <a id="e:171" class="idref" href="#e:171"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:169"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:170"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:171"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value_fupd" class="idref" href="#wp_value_fupd"><span class="id" title="lemma">wp_value_fupd</span></a> <a id="s:172" class="idref" href="#s:172"><span class="id" title="binder">s</span></a> <a id="E:173" class="idref" href="#E:173"><span class="id" title="binder">E</span></a> <a id="7159925407459948ca5fdf39e7450a72" class="idref" href="#7159925407459948ca5fdf39e7450a72"><span class="id" title="binder">Φ</span></a> <a id="e:175" class="idref" href="#e:175"><span class="id" title="binder">e</span></a> <a id="v:176" class="idref" href="#v:176"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:175"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:176"><span class="id" title="variable">v</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:175"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:172"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:173"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7159925407459948ca5fdf39e7450a72"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:173"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7159925407459948ca5fdf39e7450a72"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:176"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value'" class="idref" href="#wp_value'"><span class="id" title="lemma">wp_value'</span></a> <a id="s:177" class="idref" href="#s:177"><span class="id" title="binder">s</span></a> <a id="E:178" class="idref" href="#E:178"><span class="id" title="binder">E</span></a> <a id="89bae35ccbcd6269b422baff9abbe779" class="idref" href="#89bae35ccbcd6269b422baff9abbe779"><span class="id" title="binder">Φ</span></a> <a id="v:180" class="idref" href="#v:180"><span class="id" title="binder">v</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#89bae35ccbcd6269b422baff9abbe779"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:180"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:180"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:177"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:178"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#89bae35ccbcd6269b422baff9abbe779"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_value_fupd'"><span class="id" title="lemma">wp_value_fupd'</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_value" class="idref" href="#wp_value"><span class="id" title="lemma">wp_value</span></a> <a id="s:181" class="idref" href="#s:181"><span class="id" title="binder">s</span></a> <a id="E:182" class="idref" href="#E:182"><span class="id" title="binder">E</span></a> <a id="161c2b3279b3671d800605113ee355e1" class="idref" href="#161c2b3279b3671d800605113ee355e1"><span class="id" title="binder">Φ</span></a> <a id="e:184" class="idref" href="#e:184"><span class="id" title="binder">e</span></a> <a id="v:185" class="idref" href="#v:185"><span class="id" title="binder">v</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:185"><span class="id" title="variable">v</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#161c2b3279b3671d800605113ee355e1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:185"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:184"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:181"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:182"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#161c2b3279b3671d800605113ee355e1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_value'"><span class="id" title="lemma">wp_value'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_l" class="idref" href="#wp_frame_l"><span class="id" title="lemma">wp_frame_l</span></a> <a id="s:186" class="idref" href="#s:186"><span class="id" title="binder">s</span></a> <a id="E:187" class="idref" href="#E:187"><span class="id" title="binder">E</span></a> <a id="e:188" class="idref" href="#e:188"><span class="id" title="binder">e</span></a> <a id="7bfafac7dfe23de2dbb1360973b70c51" class="idref" href="#7bfafac7dfe23de2dbb1360973b70c51"><span class="id" title="binder">Φ</span></a> <a id="R:190" class="idref" href="#R:190"><span class="id" title="binder">R</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:190"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:186"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:187"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7bfafac7dfe23de2dbb1360973b70c51"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:186"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:187"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:191" class="idref" href="#v:191"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:190"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7bfafac7dfe23de2dbb1360973b70c51"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:191"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[? H]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_r" class="idref" href="#wp_frame_r"><span class="id" title="lemma">wp_frame_r</span></a> <a id="s:192" class="idref" href="#s:192"><span class="id" title="binder">s</span></a> <a id="E:193" class="idref" href="#E:193"><span class="id" title="binder">E</span></a> <a id="e:194" class="idref" href="#e:194"><span class="id" title="binder">e</span></a> <a id="02db6a29595bef0eda653067a410ab85" class="idref" href="#02db6a29595bef0eda653067a410ab85"><span class="id" title="binder">Φ</span></a> <a id="R:196" class="idref" href="#R:196"><span class="id" title="binder">R</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:194"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:192"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:193"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#02db6a29595bef0eda653067a410ab85"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:196"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:194"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:192"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:193"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:197" class="idref" href="#v:197"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#02db6a29595bef0eda653067a410ab85"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:197"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:196"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H ?]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemma states that if we can prove that <span class="inlinecode"><span class="id" title="var">n</span></span> laters are used in
   the current physical step, then one can perform an n-steps fancy
   update during that physical step. The resources needed to prove the
   bound on <span class="inlinecode"><span class="id" title="var">n</span></span> are not used up: they can be reused in the proof of
   the WP or in the proof of the n-steps fancy update. In order to
   describe this unusual resource flow, we use ordinary conjunction as
   a premise. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupdN" class="idref" href="#wp_step_fupdN"><span class="id" title="lemma">wp_step_fupdN</span></a> <a id="n:198" class="idref" href="#n:198"><span class="id" title="binder">n</span></a> <a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> <a id="E1:200" class="idref" href="#E1:200"><span class="id" title="binder">E1</span></a> <a id="E2:201" class="idref" href="#E2:201"><span class="id" title="binder">E2</span></a> <a id="e:202" class="idref" href="#e:202"><span class="id" title="binder">e</span></a> <a id="P:203" class="idref" href="#P:203"><span class="id" title="binder">P</span></a> <a id="2894efebf33281313f6a7ef2b6092c3a" class="idref" href="#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:202"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:201"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="0b61b54e044009e37fbbedc4d00cfb3b" class="idref" href="#0b61b54e044009e37fbbedc4d00cfb3b"><span class="id" title="binder">σ</span></a> <a id="ns:206" class="idref" href="#ns:206"><span class="id" title="binder">ns</span></a> <a id="d49409d0b1d2e756dd5c433f8953fdfc" class="idref" href="#d49409d0b1d2e756dd5c433f8953fdfc"><span class="id" title="binder">κs</span></a> <a id="nt:208" class="idref" href="#nt:208"><span class="id" title="binder">nt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#0b61b54e044009e37fbbedc4d00cfb3b"><span class="id" title="variable">σ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:206"><span class="id" title="variable">ns</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d49409d0b1d2e756dd5c433f8953fdfc"><span class="id" title="variable">κs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#nt:208"><span class="id" title="variable">nt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:198"><span class="id" title="variable">n</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#num_laters_per_step"><span class="id" title="method">num_laters_per_step</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ns:206"><span class="id" title="variable">ns</span></a>) <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:201"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#a435ff18956eb8117c8db3cebdde7f9f"><span class="id" title="notation">}▷=&gt;^</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:201"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:203"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:202"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:199"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:201"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:209" class="idref" href="#v:209"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:203"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:209"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:202"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:199"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:200"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#2894efebf33281313f6a7ef2b6092c3a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[H]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.and_mono_r"><span class="id" title="lemma">bi.and_mono_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.sep_mono_l"><span class="id" title="lemma">bi.sep_mono_l</span></a>. <span class="id" title="var">iIntros</span> "HP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq_emptyset_difference"><span class="id" title="lemma">fupd_mask_subseteq_emptyset_difference</span></a> <span class="id" title="keyword">as</span> "H"; [|<span class="id" title="var">iMod</span> "HP"]; [<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "H" <span class="id" title="keyword">as</span> "_". <span class="id" title="tactic">replace</span> (<span class="id" title="var">E1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <span class="id" title="var">E2</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">E2</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">set_unfold</span>=&gt;<span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">x</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">E2</span>)); <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_frame"><span class="id" title="lemma">fupd_mask_frame</span></a>; [|<span class="id" title="var">iMod</span> "H"; <span class="id" title="var">iModIntro</span>]; [<span class="id" title="var">set_solver</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#difference_empty_L"><span class="id" title="lemma">difference_empty_L</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm_L"><span class="id" title="lemma">comm_L</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>) -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_step_fupd" class="idref" href="#wp_step_fupd"><span class="id" title="lemma">wp_step_fupd</span></a> `{<a id="H:210" class="idref" href="#H:210"><span class="id" title="binder">BiAffine</span></a> <a id="H:210" class="idref" href="#H:210"><span class="id" title="binder">PROP</span></a>} <a id="s:211" class="idref" href="#s:211"><span class="id" title="binder">s</span></a> <a id="E1:212" class="idref" href="#E1:212"><span class="id" title="binder">E1</span></a> <a id="E2:213" class="idref" href="#E2:213"><span class="id" title="binder">E2</span></a> <a id="e:214" class="idref" href="#e:214"><span class="id" title="binder">e</span></a> <a id="P:215" class="idref" href="#P:215"><span class="id" title="binder">P</span></a> <a id="b017625e40b46496937a457402fdb208" class="idref" href="#b017625e40b46496937a457402fdb208"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:214"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:213"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:212"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:212"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:213"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:215"><span class="id" title="variable">P</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:211"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:213"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:217" class="idref" href="#v:217"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:215"><span class="id" title="variable">P</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:212"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#b017625e40b46496937a457402fdb208"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:217"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:211"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:212"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#b017625e40b46496937a457402fdb208"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "HR H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_step_fupdN_strong"><span class="id" title="lemma">wp_step_fupdN_strong</span></a> 1 <span class="id" title="var">_</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[-]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|..]. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (????) "?". <span class="id" title="var">iMod</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_mask_subseteq"><span class="id" title="lemma">fupd_mask_subseteq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>) <span class="id" title="keyword">as</span> "?"; [<span class="id" title="var">set_solver</span>+|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iFrame</span> "H". <span class="id" title="var">iMod</span> "HR" <span class="id" title="keyword">as</span> "$". <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp.affine" class="idref" href="#wp.affine"><span class="id" title="section">affine</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiAffine"><span class="id" title="class">BiAffine</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.PROP"><span class="id" title="variable">PROP</span></a>}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "All".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_l" class="idref" href="#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a> <a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> <a id="E1:220" class="idref" href="#E1:220"><span class="id" title="binder">E1</span></a> <a id="E2:221" class="idref" href="#E2:221"><span class="id" title="binder">E2</span></a> <a id="e:222" class="idref" href="#e:222"><span class="id" title="binder">e</span></a> <a id="d53f1ccad5499fcaf79713854ba44192" class="idref" href="#d53f1ccad5499fcaf79713854ba44192"><span class="id" title="binder">Φ</span></a> <a id="R:224" class="idref" href="#R:224"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:222"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:221"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:220"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:220"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:221"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:224"><span class="id" title="variable">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:219"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:221"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d53f1ccad5499fcaf79713854ba44192"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:219"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:220"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:225" class="idref" href="#v:225"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:224"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#d53f1ccad5499fcaf79713854ba44192"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:225"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "[Hu Hwp]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_step_fupd"><span class="id" title="lemma">wp_step_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hu"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (?) "$$".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_r" class="idref" href="#wp_frame_step_r"><span class="id" title="lemma">wp_frame_step_r</span></a> <a id="s:226" class="idref" href="#s:226"><span class="id" title="binder">s</span></a> <a id="E1:227" class="idref" href="#E1:227"><span class="id" title="binder">E1</span></a> <a id="E2:228" class="idref" href="#E2:228"><span class="id" title="binder">E2</span></a> <a id="e:229" class="idref" href="#e:229"><span class="id" title="binder">e</span></a> <a id="04dca69056a639caece73a5932e26ee4" class="idref" href="#04dca69056a639caece73a5932e26ee4"><span class="id" title="binder">Φ</span></a> <a id="R:231" class="idref" href="#R:231"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:229"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:228"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:227"><span class="id" title="variable">E1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:229"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:226"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:228"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#04dca69056a639caece73a5932e26ee4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:227"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">}[</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:228"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#9f13a5f81784ca8d30a9f62e7525c832"><span class="id" title="notation">]▷=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:231"><span class="id" title="variable">R</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:229"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:226"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:227"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:232" class="idref" href="#v:232"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#04dca69056a639caece73a5932e26ee4"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:232"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:231"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <span class="id" title="var">_</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span>]<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a>; <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_l'" class="idref" href="#wp_frame_step_l'"><span class="id" title="lemma">wp_frame_step_l'</span></a> <a id="s:233" class="idref" href="#s:233"><span class="id" title="binder">s</span></a> <a id="E:234" class="idref" href="#E:234"><span class="id" title="binder">E</span></a> <a id="e:235" class="idref" href="#e:235"><span class="id" title="binder">e</span></a> <a id="26b2bd3936bdf0fedf30ebb77ce0e2ec" class="idref" href="#26b2bd3936bdf0fedf30ebb77ce0e2ec"><span class="id" title="binder">Φ</span></a> <a id="R:237" class="idref" href="#R:237"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:235"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:237"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:233"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:234"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#26b2bd3936bdf0fedf30ebb77ce0e2ec"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:233"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:234"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:238" class="idref" href="#v:238"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:237"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#26b2bd3936bdf0fedf30ebb77ce0e2ec"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:238"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "[??]". <span class="id" title="var">iApply</span> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_frame_step_l"><span class="id" title="lemma">wp_frame_step_l</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_step_r'" class="idref" href="#wp_frame_step_r'"><span class="id" title="lemma">wp_frame_step_r'</span></a> <a id="s:239" class="idref" href="#s:239"><span class="id" title="binder">s</span></a> <a id="E:240" class="idref" href="#E:240"><span class="id" title="binder">E</span></a> <a id="e:241" class="idref" href="#e:241"><span class="id" title="binder">e</span></a> <a id="282a9c2dff10c4b0acd0d33523a00e21" class="idref" href="#282a9c2dff10c4b0acd0d33523a00e21"><span class="id" title="binder">Φ</span></a> <a id="R:243" class="idref" href="#R:243"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:241"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:241"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:239"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:240"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#282a9c2dff10c4b0acd0d33523a00e21"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:243"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:241"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:239"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:240"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:244" class="idref" href="#v:244"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#282a9c2dff10c4b0acd0d33523a00e21"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:244"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:243"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "[??]". <span class="id" title="var">iApply</span> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_frame_step_r"><span class="id" title="lemma">wp_frame_step_r</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp.affine"><span class="id" title="section">affine</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand" class="idref" href="#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a id="s:245" class="idref" href="#s:245"><span class="id" title="binder">s</span></a> <a id="E:246" class="idref" href="#E:246"><span class="id" title="binder">E</span></a> <a id="e:247" class="idref" href="#e:247"><span class="id" title="binder">e</span></a> <a id="f16dde97ba55d1543813f4da79f60bb2" class="idref" href="#f16dde97ba55d1543813f4da79f60bb2"><span class="id" title="binder">Φ</span></a> <a id="32bd75ffe40a1c97bc6f845e76336c08" class="idref" href="#32bd75ffe40a1c97bc6f845e76336c08"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:247"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:245"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:246"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#f16dde97ba55d1543813f4da79f60bb2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:250" class="idref" href="#v:250"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#f16dde97ba55d1543813f4da79f60bb2"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:250"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#32bd75ffe40a1c97bc6f845e76336c08"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:250"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:247"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:245"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:246"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#32bd75ffe40a1c97bc6f845e76336c08"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp H". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_strong_mono"><span class="id" title="lemma">wp_strong_mono</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand_l" class="idref" href="#wp_wand_l"><span class="id" title="lemma">wp_wand_l</span></a> <a id="s:251" class="idref" href="#s:251"><span class="id" title="binder">s</span></a> <a id="E:252" class="idref" href="#E:252"><span class="id" title="binder">E</span></a> <a id="e:253" class="idref" href="#e:253"><span class="id" title="binder">e</span></a> <a id="cb101d67af2c744aa4d6e094b493cbd6" class="idref" href="#cb101d67af2c744aa4d6e094b493cbd6"><span class="id" title="binder">Φ</span></a> <a id="426192a0f7e6d61d971796e55382eec1" class="idref" href="#426192a0f7e6d61d971796e55382eec1"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:256" class="idref" href="#v:256"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#cb101d67af2c744aa4d6e094b493cbd6"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:256"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#426192a0f7e6d61d971796e55382eec1"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:256"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:253"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:251"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:252"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#cb101d67af2c744aa4d6e094b493cbd6"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:253"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:251"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:252"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#426192a0f7e6d61d971796e55382eec1"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H Hwp]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_wand_r" class="idref" href="#wp_wand_r"><span class="id" title="lemma">wp_wand_r</span></a> <a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a> <a id="E:258" class="idref" href="#E:258"><span class="id" title="binder">E</span></a> <a id="e:259" class="idref" href="#e:259"><span class="id" title="binder">e</span></a> <a id="aa91231708d54275995756bd57186461" class="idref" href="#aa91231708d54275995756bd57186461"><span class="id" title="binder">Φ</span></a> <a id="82dd1a55abc0cb4bf64be3f543b612df" class="idref" href="#82dd1a55abc0cb4bf64be3f543b612df"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:257"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:258"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aa91231708d54275995756bd57186461"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:262" class="idref" href="#v:262"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#aa91231708d54275995756bd57186461"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:262"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#82dd1a55abc0cb4bf64be3f543b612df"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:262"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:257"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:258"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#82dd1a55abc0cb4bf64be3f543b612df"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[Hwp H]". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_frame_wand" class="idref" href="#wp_frame_wand"><span class="id" title="lemma">wp_frame_wand</span></a> <a id="s:263" class="idref" href="#s:263"><span class="id" title="binder">s</span></a> <a id="E:264" class="idref" href="#E:264"><span class="id" title="binder">E</span></a> <a id="e:265" class="idref" href="#e:265"><span class="id" title="binder">e</span></a> <a id="3562ccaad09ddda6485388d723c921f0" class="idref" href="#3562ccaad09ddda6485388d723c921f0"><span class="id" title="binder">Φ</span></a> <a id="R:267" class="idref" href="#R:267"><span class="id" title="binder">R</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:267"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:265"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:263"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:264"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:268" class="idref" href="#v:268"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:267"><span class="id" title="variable">R</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3562ccaad09ddda6485388d723c921f0"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:268"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:265"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:263"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:264"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#3562ccaad09ddda6485388d723c921f0"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HR HWP". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HWP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp"><span class="id" title="section">wp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp_io_mono" class="idref" href="#wp_io_mono"><span class="id" title="section">wp_io_mono</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="651ca22790e8ffd5d17f3caf0ac4a514" class="idref" href="#651ca22790e8ffd5d17f3caf0ac4a514"><span class="id" title="variable">Λ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#language"><span class="id" title="record">language</span></a>} {<a id="wp_io_mono.PROP" class="idref" href="#wp_io_mono.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:270"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:270"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#73661da3250840bf37a82e0b133b641d"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:270"><span class="id" title="variable">PROP</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="wp_io_mono.in1" class="idref" href="#wp_io_mono.in1"><span class="id" title="variable">in1</span></a> <a id="wp_io_mono.out1" class="idref" href="#wp_io_mono.out1"><span class="id" title="variable">out1</span></a> <a id="wp_io_mono.in2" class="idref" href="#wp_io_mono.in2"><span class="id" title="variable">in2</span></a> <a id="wp_io_mono.out2" class="idref" href="#wp_io_mono.out2"><span class="id" title="variable">out2</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#651ca22790e8ffd5d17f3caf0ac4a514"><span class="id" title="variable">Λ</span></a>) <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.PROP"><span class="id" title="variable">PROP</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_io_mono" class="idref" href="#wp_io_mono"><span class="id" title="lemma">wp_io_mono</span></a> (<a id="s:278" class="idref" href="#s:278"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>) <a id="E:279" class="idref" href="#E:279"><span class="id" title="binder">E</span></a> (<a id="e:280" class="idref" href="#e:280"><span class="id" title="binder">e</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#651ca22790e8ffd5d17f3caf0ac4a514"><span class="id" title="variable">Λ</span></a>) (<a id="fba4ced98472efbbc2ba5a72be6a9e15" class="idref" href="#fba4ced98472efbbc2ba5a72be6a9e15"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#651ca22790e8ffd5d17f3caf0ac4a514"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ioGS1:282" class="idref" href="#ioGS1:282"><span class="id" title="binder">ioGS1</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#InOutIrisG"><span class="id" title="constructor">InOutIrisG</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out1"><span class="id" title="variable">out1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in1"><span class="id" title="variable">in1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ioGS2:283" class="idref" href="#ioGS2:283"><span class="id" title="binder">ioGS2</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#InOutIrisG"><span class="id" title="constructor">InOutIrisG</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out2"><span class="id" title="variable">out2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in2"><span class="id" title="variable">in2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">Wp</span>:=@<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ioGS1:282"><span class="id" title="variable">ioGS1</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:279"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:280"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fba4ced98472efbbc2ba5a72be6a9e15"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="4bc70b3867cc7f5736b21306fb84f9ab" class="idref" href="#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="binder">κ</span></a> <a id="x_i2:285" class="idref" href="#x_i2:285"><span class="id" title="binder">x_i2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in2"><span class="id" title="variable">in2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i2:285"><span class="id" title="variable">x_i2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="x_i1:286" class="idref" href="#x_i1:286"><span class="id" title="binder">x_i1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in1"><span class="id" title="variable">in1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i1:286"><span class="id" title="variable">x_i1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="e1:287" class="idref" href="#e1:287"><span class="id" title="binder">e1</span></a> <a id="784bf32b40cf509270f2a5ce7548f2bf" class="idref" href="#784bf32b40cf509270f2a5ce7548f2bf"><span class="id" title="binder">σ1</span></a> <a id="e2:289" class="idref" href="#e2:289"><span class="id" title="binder">e2</span></a> <a id="8ab4b2ee1fd241dfa166a513dd6da49d" class="idref" href="#8ab4b2ee1fd241dfa166a513dd6da49d"><span class="id" title="binder">σ2</span></a> <a id="efs:291" class="idref" href="#efs:291"><span class="id" title="binder">efs</span></a> <a id="x_o1:292" class="idref" href="#x_o1:292"><span class="id" title="binder">x_o1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<span class="id" title="var">l</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#651ca22790e8ffd5d17f3caf0ac4a514"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e1:287"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#784bf32b40cf509270f2a5ce7548f2bf"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e2:289"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#8ab4b2ee1fd241dfa166a513dd6da49d"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efs:291"><span class="id" title="variable">efs</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out1"><span class="id" title="variable">out1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o1:292"><span class="id" title="variable">x_o1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="x_o2:293" class="idref" href="#x_o2:293"><span class="id" title="binder">x_o2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out2"><span class="id" title="variable">out2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o2:293"><span class="id" title="variable">x_o2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="y_o2:294" class="idref" href="#y_o2:294"><span class="id" title="binder">y_o2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out2"><span class="id" title="variable">out2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o2:293"><span class="id" title="variable">x_o2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_o2:294"><span class="id" title="variable">y_o2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="y_o1:295" class="idref" href="#y_o1:295"><span class="id" title="binder">y_o1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.out1"><span class="id" title="variable">out1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o1:292"><span class="id" title="variable">x_o1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_o1:295"><span class="id" title="variable">y_o1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="y_i1:296" class="idref" href="#y_i1:296"><span class="id" title="binder">y_i1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in1"><span class="id" title="variable">in1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i1:286"><span class="id" title="variable">x_i1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_i1:296"><span class="id" title="variable">y_i1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="y_i2:297" class="idref" href="#y_i2:297"><span class="id" title="binder">y_i2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono.in2"><span class="id" title="variable">in2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4bc70b3867cc7f5736b21306fb84f9ab"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i2:285"><span class="id" title="variable">x_i2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_i2:297"><span class="id" title="variable">y_i2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">Wp</span>:=@<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ioGS2:283"><span class="id" title="variable">ioGS2</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:278"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:279"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:280"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fba4ced98472efbbc2ba5a72be6a9e15"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">ioGS1</span> <span class="id" title="var">ioGS2</span>) "WP #MONO".<br/>
&nbsp;&nbsp;<span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a>. <span class="id" title="var">case_match</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "SI".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "SI"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">x_i2</span>) "Hαi2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"MONO" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_i1</span>) "[Hαi1 MP]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">RED</span>) "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">STEP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o1</span>) "(Hαo1 &amp; WP)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"MP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//] Hαo1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o2</span>) "[Hαo2 MP]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">x_o2</span>. <span class="id" title="var">iFrame</span> "Hαo2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "WP". <span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "WP". <span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">y_o2</span>) "Hβo2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"MP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_o1</span>) "[Hβo1 MP]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i1</span>) "(Hβi1 &amp; $ &amp; WP &amp; WPs)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"MP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβi1"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i2</span>) "Hβi2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">y_i2</span>. <span class="id" title="var">iFrame</span> "Hβi2". <span class="id" title="var">iSplitL</span> "WP".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WPs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!#" (???). <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_mono"><span class="id" title="section">wp_io_mono</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proofmode class instances 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="proofmode_classes" class="idref" href="#proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="a29255f0f79b75b79795a2ff13da17e8" class="idref" href="#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>} {<a id="proofmode_classes.PROP" class="idref" href="#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:299"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:299"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#inout_irisGS_gen"><span class="id" title="class">inout_irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#63a6a38ea4665c8794fda875a93cd4c1"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:299"><span class="id" title="variable">PROP</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#proofmode_classes.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="frame_wp" class="idref" href="#frame_wp"><span class="id" title="instance">frame_wp</span></a> <a id="p:303" class="idref" href="#p:303"><span class="id" title="binder">p</span></a> <a id="s:304" class="idref" href="#s:304"><span class="id" title="binder">s</span></a> <a id="E:305" class="idref" href="#E:305"><span class="id" title="binder">E</span></a> <a id="e:306" class="idref" href="#e:306"><span class="id" title="binder">e</span></a> <a id="R:307" class="idref" href="#R:307"><span class="id" title="binder">R</span></a> <a id="1d1cb6fdfc929ff824b13be8884ec8fb" class="idref" href="#1d1cb6fdfc929ff824b13be8884ec8fb"><span class="id" title="binder">Φ</span></a> <a id="c9e61443766b482d81836f032fae67e2" class="idref" href="#c9e61443766b482d81836f032fae67e2"><span class="id" title="binder">Ψ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <a id="v:310" class="idref" href="#v:310"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#p:303"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:307"><span class="id" title="variable">R</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#1d1cb6fdfc929ff824b13be8884ec8fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:310"><span class="id" title="variable">v</span></a>) (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#c9e61443766b482d81836f032fae67e2"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:310"><span class="id" title="variable">v</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#p:303"><span class="id" title="variable">p</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#R:307"><span class="id" title="variable">R</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:306"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:304"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:305"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#1d1cb6fdfc929ff824b13be8884ec8fb"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:306"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:304"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:305"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#c9e61443766b482d81836f032fae67e2"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) | 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a>=&gt; <span class="id" title="var">HR</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_frame_l"><span class="id" title="lemma">wp_frame_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_mono"><span class="id" title="lemma">wp_mono</span></a>, <span class="id" title="var">HR</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="is_except_0_wp" class="idref" href="#is_except_0_wp"><span class="id" title="instance">is_except_0_wp</span></a> <a id="s:311" class="idref" href="#s:311"><span class="id" title="binder">s</span></a> <a id="E:312" class="idref" href="#E:312"><span class="id" title="binder">E</span></a> <a id="e:313" class="idref" href="#e:313"><span class="id" title="binder">e</span></a> <a id="fbb3a66f2fbe4e75e43094fe5672be02" class="idref" href="#fbb3a66f2fbe4e75e43094fe5672be02"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:313"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:311"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:312"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fbb3a66f2fbe4e75e43094fe5672be02"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> -{2}<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#except_0_fupd"><span class="id" title="lemma">except_0_fupd</span></a> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_bupd_wp" class="idref" href="#elim_modal_bupd_wp"><span class="id" title="instance">elim_modal_bupd_wp</span></a> `{<a id="BiBUpd0:315" class="idref" href="#BiBUpd0:315"><span class="id" title="binder">!</span></a><a id="BiBUpd0:315" class="idref" href="#BiBUpd0:315"><span class="id" title="binder">BiBUpd</span></a> <a id="BiBUpd0:315" class="idref" href="#BiBUpd0:315"><span class="id" title="binder">PROP</span></a>} `{<a id="BiBUpdFUpd0:316" class="idref" href="#BiBUpdFUpd0:316"><span class="id" title="binder">!</span></a><a id="BiBUpdFUpd0:316" class="idref" href="#BiBUpdFUpd0:316"><span class="id" title="binder">BiBUpdFUpd</span></a> <a id="BiBUpdFUpd0:316" class="idref" href="#BiBUpdFUpd0:316"><span class="id" title="binder">PROP</span></a>} <a id="p:317" class="idref" href="#p:317"><span class="id" title="binder">p</span></a> <a id="s:318" class="idref" href="#s:318"><span class="id" title="binder">s</span></a> <a id="E:319" class="idref" href="#E:319"><span class="id" title="binder">E</span></a> <a id="e:320" class="idref" href="#e:320"><span class="id" title="binder">e</span></a> <a id="P:321" class="idref" href="#P:321"><span class="id" title="binder">P</span></a> <a id="65cf93d21f2e0b33c17b9e0656c06607" class="idref" href="#65cf93d21f2e0b33c17b9e0656c06607"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#p:317"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:321"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:321"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:320"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:318"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:319"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#65cf93d21f2e0b33c17b9e0656c06607"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:320"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:318"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:319"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#65cf93d21f2e0b33c17b9e0656c06607"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <span class="id" title="var">E</span>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_fupd_wp" class="idref" href="#elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a> <a id="p:323" class="idref" href="#p:323"><span class="id" title="binder">p</span></a> <a id="s:324" class="idref" href="#s:324"><span class="id" title="binder">s</span></a> <a id="E:325" class="idref" href="#E:325"><span class="id" title="binder">E</span></a> <a id="e:326" class="idref" href="#e:326"><span class="id" title="binder">e</span></a> <a id="P:327" class="idref" href="#P:327"><span class="id" title="binder">P</span></a> <a id="5a1969db1301a501d99cbe1eaf6bb879" class="idref" href="#5a1969db1301a501d99cbe1eaf6bb879"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#p:323"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:325"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:327"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:327"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:326"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:324"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:325"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#5a1969db1301a501d99cbe1eaf6bb879"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:326"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:324"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:325"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#5a1969db1301a501d99cbe1eaf6bb879"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;only&nbsp;support&nbsp;strongly&nbsp;atomic&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_modal_fupd_wp_atomic" class="idref" href="#elim_modal_fupd_wp_atomic"><span class="id" title="instance">elim_modal_fupd_wp_atomic</span></a> <a id="p:329" class="idref" href="#p:329"><span class="id" title="binder">p</span></a> <a id="s:330" class="idref" href="#s:330"><span class="id" title="binder">s</span></a> <a id="E1:331" class="idref" href="#E1:331"><span class="id" title="binder">E1</span></a> <a id="E2:332" class="idref" href="#E2:332"><span class="id" title="binder">E2</span></a> <a id="e:333" class="idref" href="#e:333"><span class="id" title="binder">e</span></a> <a id="P:334" class="idref" href="#P:334"><span class="id" title="binder">P</span></a> <a id="806702b40693176c3bff7ba738aae737" class="idref" href="#806702b40693176c3bff7ba738aae737"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#StronglyAtomic"><span class="id" title="constructor">StronglyAtomic</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:333"><span class="id" title="variable">e</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#p:329"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:331"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:332"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:334"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:334"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:333"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:330"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:331"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#806702b40693176c3bff7ba738aae737"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:333"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:330"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:332"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:336" class="idref" href="#v:336"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:332"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:331"><span class="id" title="variable">E1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#806702b40693176c3bff7ba738aae737"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:336"><span class="id" title="variable">v</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span> | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_atomic"><span class="id" title="lemma">wp_atomic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="add_modal_fupd_wp" class="idref" href="#add_modal_fupd_wp"><span class="id" title="instance">add_modal_fupd_wp</span></a> <a id="s:337" class="idref" href="#s:337"><span class="id" title="binder">s</span></a> <a id="E:338" class="idref" href="#E:338"><span class="id" title="binder">E</span></a> <a id="e:339" class="idref" href="#e:339"><span class="id" title="binder">e</span></a> <a id="P:340" class="idref" href="#P:340"><span class="id" title="binder">P</span></a> <a id="a542c1296ecea5dda5be293d7a55934f" class="idref" href="#a542c1296ecea5dda5be293d7a55934f"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:338"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:340"><span class="id" title="variable">P</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#P:340"><span class="id" title="variable">P</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:339"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:337"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:338"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#a542c1296ecea5dda5be293d7a55934f"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;only&nbsp;support&nbsp;strongly&nbsp;atomic&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_acc_wp_atomic" class="idref" href="#elim_acc_wp_atomic"><span class="id" title="instance">elim_acc_wp_atomic</span></a> {<a id="X:342" class="idref" href="#X:342"><span class="id" title="binder">X</span></a>} <a id="E1:343" class="idref" href="#E1:343"><span class="id" title="binder">E1</span></a> <a id="E2:344" class="idref" href="#E2:344"><span class="id" title="binder">E2</span></a> <a id="c819aa7f83ed574601e0c76133cfeb90" class="idref" href="#c819aa7f83ed574601e0c76133cfeb90"><span class="id" title="binder">α</span></a> <a id="08f4fe3e5f11bc3c70c37de59ca36edf" class="idref" href="#08f4fe3e5f11bc3c70c37de59ca36edf"><span class="id" title="binder">β</span></a> <a id="9d664cc8f1cdff78c531c7ab1cc592fb" class="idref" href="#9d664cc8f1cdff78c531c7ab1cc592fb"><span class="id" title="binder">γ</span></a> <a id="e:348" class="idref" href="#e:348"><span class="id" title="binder">e</span></a> <a id="s:349" class="idref" href="#s:349"><span class="id" title="binder">s</span></a> <a id="37ed71a463e8bb954df1e624dc01165a" class="idref" href="#37ed71a463e8bb954df1e624dc01165a"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimAcc"><span class="id" title="class">ElimAcc</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#X:342"><span class="id" title="variable">X</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#StronglyAtomic"><span class="id" title="constructor">StronglyAtomic</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:348"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:343"><span class="id" title="variable">E1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:344"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:344"><span class="id" title="variable">E2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:343"><span class="id" title="variable">E1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#c819aa7f83ed574601e0c76133cfeb90"><span class="id" title="variable">α</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#08f4fe3e5f11bc3c70c37de59ca36edf"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#9d664cc8f1cdff78c531c7ab1cc592fb"><span class="id" title="variable">γ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:348"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:349"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E1:343"><span class="id" title="variable">E1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#37ed71a463e8bb954df1e624dc01165a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">λ</span> <a id="x:351" class="idref" href="#x:351"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:348"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:349"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:344"><span class="id" title="variable">E2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:352" class="idref" href="#v:352"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E2:344"><span class="id" title="variable">E2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#08f4fe3e5f11bc3c70c37de59ca36edf"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#9d664cc8f1cdff78c531c7ab1cc592fb"><span class="id" title="variable">γ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#a4bab51f23023547d58ca4ced3825cc1"><span class="id" title="notation">-∗?</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#37ed71a463e8bb954df1e624dc01165a"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:352"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span> | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "Hinner &gt;Hacc". <span class="id" title="var">iDestruct</span> "Hacc" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[Hα Hclose]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(Hinner Hα)"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&gt;[Hβ HΦ]". <span class="id" title="var">iApply</span> "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Hclose".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="elim_acc_wp_nonatomic" class="idref" href="#elim_acc_wp_nonatomic"><span class="id" title="instance">elim_acc_wp_nonatomic</span></a> {<a id="X:353" class="idref" href="#X:353"><span class="id" title="binder">X</span></a>} <a id="E:354" class="idref" href="#E:354"><span class="id" title="binder">E</span></a> <a id="ab0fcc6018d608e81f51e85223a75ef9" class="idref" href="#ab0fcc6018d608e81f51e85223a75ef9"><span class="id" title="binder">α</span></a> <a id="e449b4855cb26900c5ff8df21b195c62" class="idref" href="#e449b4855cb26900c5ff8df21b195c62"><span class="id" title="binder">β</span></a> <a id="582aab67c73bb24416222791237b4bb1" class="idref" href="#582aab67c73bb24416222791237b4bb1"><span class="id" title="binder">γ</span></a> <a id="e:358" class="idref" href="#e:358"><span class="id" title="binder">e</span></a> <a id="s:359" class="idref" href="#s:359"><span class="id" title="binder">s</span></a> <a id="9081ac610bb3790e56f77236cd446f23" class="idref" href="#9081ac610bb3790e56f77236cd446f23"><span class="id" title="binder">Φ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimAcc"><span class="id" title="class">ElimAcc</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#X:353"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a>) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd"><span class="id" title="definition">fupd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#ab0fcc6018d608e81f51e85223a75ef9"><span class="id" title="variable">α</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e449b4855cb26900c5ff8df21b195c62"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#582aab67c73bb24416222791237b4bb1"><span class="id" title="variable">γ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:358"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:359"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#9081ac610bb3790e56f77236cd446f23"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">λ</span> <a id="x:361" class="idref" href="#x:361"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:358"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:359"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">{{</span></a> <a id="v:362" class="idref" href="#v:362"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:354"><span class="id" title="variable">E</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e449b4855cb26900c5ff8df21b195c62"><span class="id" title="variable">β</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#582aab67c73bb24416222791237b4bb1"><span class="id" title="variable">γ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#a4bab51f23023547d58ca4ced3825cc1"><span class="id" title="notation">-∗?</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#9081ac610bb3790e56f77236cd446f23"><span class="id" title="variable">Φ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#v:362"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#eee60bb71eb20943eabf98b71ebd06b9"><span class="id" title="notation">}}</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">_</span>) "Hinner &gt;Hacc". <span class="id" title="var">iDestruct</span> "Hacc" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[Hα Hclose]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_fupd"><span class="id" title="lemma">wp_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(Hinner Hα)"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "&gt;[Hβ HΦ]". <span class="id" title="var">iApply</span> "HΦ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "Hclose".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.iris.weakestpre</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="wp_io_elim" class="idref" href="#wp_io_elim"><span class="id" title="section">wp_io_elim</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<a id="7b5489f817b3362954c41ea6260da551" class="idref" href="#7b5489f817b3362954c41ea6260da551"><span class="id" title="variable">Λ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#language"><span class="id" title="record">language</span></a>} {<a id="wp_io_elim.PROP" class="idref" href="#wp_io_elim.PROP"><span class="id" title="variable">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#BiFUpd"><span class="id" title="class">BiFUpd</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:364"><span class="id" title="variable">PROP</span></a>} `{!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.extensions.html#BiLaterContractive"><span class="id" title="class">BiLaterContractive</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:364"><span class="id" title="variable">PROP</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#796a01ecaba7e2728be3c0e8dea4fb21"><span class="id" title="variable">Λ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PROP:364"><span class="id" title="variable">PROP</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<a id="wp_io_elim.in_spec" class="idref" href="#wp_io_elim.in_spec"><span class="id" title="variable">in_spec</span></a> <a id="wp_io_elim.out_spec" class="idref" href="#wp_io_elim.out_spec"><span class="id" title="variable">out_spec</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7b5489f817b3362954c41ea6260da551"><span class="id" title="variable">Λ</span></a>) <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#PrePost"><span class="id" title="record">PrePost</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.PROP"><span class="id" title="variable">PROP</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="wp_io_elim" class="idref" href="#wp_io_elim"><span class="id" title="lemma">wp_io_elim</span></a> (<a id="s:370" class="idref" href="#s:370"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>) <a id="E:371" class="idref" href="#E:371"><span class="id" title="binder">E</span></a> (<a id="e:372" class="idref" href="#e:372"><span class="id" title="binder">e</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7b5489f817b3362954c41ea6260da551"><span class="id" title="variable">Λ</span></a>) (<a id="05fe1b92acec6aeab6c84a3eacdb586d" class="idref" href="#05fe1b92acec6aeab6c84a3eacdb586d"><span class="id" title="binder">Φ</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7b5489f817b3362954c41ea6260da551"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ioGS:374" class="idref" href="#ioGS:374"><span class="id" title="binder">ioGS</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#InOutIrisG"><span class="id" title="constructor">InOutIrisG</span></a> <span class="id" title="var">_</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.out_spec"><span class="id" title="variable">out_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.in_spec"><span class="id" title="variable">in_spec</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">Wp</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp'"><span class="id" title="definition">wp'</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:370"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:371"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:372"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#05fe1b92acec6aeab6c84a3eacdb586d"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="6c329e0cc03f4187dd82a273606ddc26" class="idref" href="#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="binder">κ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="x_i:376" class="idref" href="#x_i:376"><span class="id" title="binder">x_i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.in_spec"><span class="id" title="variable">in_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i:376"><span class="id" title="variable">x_i</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="e1:377" class="idref" href="#e1:377"><span class="id" title="binder">e1</span></a> <a id="4faf6bb984bcf07c72dd8e5b2e10fc7f" class="idref" href="#4faf6bb984bcf07c72dd8e5b2e10fc7f"><span class="id" title="binder">σ1</span></a> <a id="e2:379" class="idref" href="#e2:379"><span class="id" title="binder">e2</span></a> <a id="2348a19cf01659ba0a421ec737de031a" class="idref" href="#2348a19cf01659ba0a421ec737de031a"><span class="id" title="binder">σ2</span></a> <a id="efs:381" class="idref" href="#efs:381"><span class="id" title="binder">efs</span></a> <a id="x_o:382" class="idref" href="#x_o:382"><span class="id" title="binder">x_o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> (<span class="id" title="var">l</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#7b5489f817b3362954c41ea6260da551"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e1:377"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#4faf6bb984bcf07c72dd8e5b2e10fc7f"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="variable">κ</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e2:379"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#2348a19cf01659ba0a421ec737de031a"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#efs:381"><span class="id" title="variable">efs</span></a> <a class="idref" href="bluerock.iris.extra.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.out_spec"><span class="id" title="variable">out_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o:382"><span class="id" title="variable">x_o</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="y_o:383" class="idref" href="#y_o:383"><span class="id" title="binder">y_o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.out_spec"><span class="id" title="variable">out_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_o:382"><span class="id" title="variable">x_o</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_o:383"><span class="id" title="variable">y_o</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="y_i:384" class="idref" href="#y_i:384"><span class="id" title="binder">y_i</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim.in_spec"><span class="id" title="variable">in_spec</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#6c329e0cc03f4187dd82a273606ddc26"><span class="id" title="variable">κ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#x_i:376"><span class="id" title="variable">x_i</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#y_i:384"><span class="id" title="variable">y_i</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#wp"><span class="id" title="definition">wp</span></a> (<span class="id" title="var">Wp</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp'"><span class="id" title="definition">iris.weakestpre.wp'</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#s:370"><span class="id" title="variable">s</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#E:371"><span class="id" title="variable">E</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#e:372"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#05fe1b92acec6aeab6c84a3eacdb586d"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">ioGS</span>) "WP #ELIM".<br/>
&nbsp;&nbsp;<span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_unfold"><span class="id" title="lemma">iris.weakestpre.wp_unfold</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#wp_pre"><span class="id" title="definition">iris.weakestpre.wp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_match</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">ns</span> <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">nt</span>) "SI".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "SI"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"ELIM" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">κ</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_i</span>) "-#[Hαi EL]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hαi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">RED</span>) "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">STEP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">x_o</span>) "(Hαo &amp; WP)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"EL" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//] Hαo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_o</span>) "[Hβo EL]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "WP". <span class="id" title="var">iIntros</span> "!&gt; !&gt;". <span class="id" title="var">iMod</span> "WP". <span class="id" title="var">iIntros</span> "!&gt;".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#step_fupdN_wand"><span class="id" title="lemma">step_fupdN_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">iIntros</span> "WP".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"WP" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβo"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">y_i</span>) "(Hβi &amp; $ &amp; WP &amp; WPs)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"EL" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hβi"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "_".<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;". <span class="id" title="var">iSplitL</span> "WP".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WP"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "WPs"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!#" (???). <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.inout_weakestpre.html#wp_io_elim"><span class="id" title="section">wp_io_elim</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
