<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.iris.extra.wp_io.trace_adequacy</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2023&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.tactics.html#"><span class="id" title="library">iris.proofmode.tactics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.weakestpre.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.iris.weakestpre</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.wp_io.iris.adequacy.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.iris.adequacy</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#"><span class="id" title="library">bluerock.iris.extra.wp_io.lang</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab96"></a><h1 class="section">Demonstrating adequacy for a trace property.</h1>

<ul class="doclist">
<li> The trace property is <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.inv.html#root_aux_1.root.stateI"><span class="id" title="section">stateI</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#state"><span class="id" title="projection">state</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.wp_io.html#744fefb7a196503db6b4b830834a34c2"><span class="id" title="variable">Λ</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.base_logic.lib.spectra_iprop.html#71c70b7af451fb4df6504dcb5162cf9d"><span class="id" title="variable">Σ</span></a></span> where
  <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#state"><span class="id" title="projection">state</span></a></span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.wp_io.html#744fefb7a196503db6b4b830834a34c2"><span class="id" title="variable">Λ</span></a></span> <span class="inlinecode">:=</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.frac_splittable.html#frac_9.C"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Trace"><span class="id" title="definition">Trace</span></a>)</span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.frac_splittable.html#frac_9.C"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a>)</span>.

</li>
<li> The statement is as follows:
  + Assume we have an execution (es,σ1) →* (t2,σ2) where
    <span class="inlinecode"><span class="id" title="var">es</span></span> and <span class="inlinecode">σ1</span> are the initial threadpool and state, and
    <span class="inlinecode"><span class="id" title="var">t2</span></span> and <span class="inlinecode">σ2</span> are the resulting threadpool and state.
  + We assume <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.inv.html#root_aux_1.root.stateI"><span class="id" title="section">stateI</span></a></span> holds for <span class="inlinecode">σ1</span>, and we have proven <span class="inlinecode"><span class="id" title="var">WP</span></span>s for <span class="inlinecode"><span class="id" title="var">es</span></span>
  + Then we have
    * <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.inv.html#root_aux_1.root.stateI"><span class="id" title="section">stateI</span></a></span> holds for <span class="inlinecode">σ2</span>
    * the post-condition of every thread in the resulting threadpool <span class="inlinecode"><span class="id" title="var">t2</span></span>
      that has evaluated to a value.
    * all other threads are not stuck if we care about stuckness.
  + We can use all of that resources as well as all invariants
    (thanks to |={⊤,∅}=&gt;) to extract a meta property <span class="inlinecode">φ</span>.

</li>
</ul>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

More graphically as a Hoare triple:

<div class="paragraph"> </div>

{ stateI σ1 ∗ <span class="inlinecode">∗</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.big_op.html#big_op.list"><span class="id" title="section">list</span></a></span> e;Φ ∈ es;Φs, WP e @ s; ⊤ <a href=" Φ "> Φ </a> }     // pre-cond

<div class="paragraph"> </div>

  (es,σ1) →* (t2,σ2)

<div class="paragraph"> </div>

{ ∃ es' t2', ⌜ t2 = es' ++ t2' ⌝ ∗ ⌜ length es' = length es ⌝ ∗
  ⌜ ∀ e2, s = NotStuck → e2 ∈ t2 → not_stuck e2 σ2 ⌝ ∗
  stateI σ2 ∗
  (<span class="inlinecode">∗</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.big_op.html#big_op.list"><span class="id" title="section">list</span></a></span> e;Φ ∈ es';Φs, from_option Φ True (to_val e)) ∗
  (<span class="inlinecode">∗</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.big_op.html#big_op.list"><span class="id" title="section">list</span></a></span> v ∈ omap to_val t2', fork_post v) }               // post-cond

<div class="paragraph"> </div>

{ |={⊤,∅}=&gt; ⌜ φ ⌝ }                                           // consequence

<div class="paragraph"> </div>

Note that the instantiation
<span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#IrisG"><span class="id" title="constructor">IrisG</span></a></span> <span class="inlinecode">(<span class="id" title="var">λ</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span>,</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.inv.html#root_aux_1.root.stateI"><span class="id" title="section">stateI</span></a></span> <span class="inlinecode">σ)</span> <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#fork_post"><span class="id" title="projection">fork_post</span></a></span> <span class="inlinecode">(<span class="id" title="var">λ</span></span> <span class="inlinecode"><span class="id" title="var">_</span>,</span> <span class="inlinecode">0)</span> <span class="inlinecode">(<span class="id" title="var">λ</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span>,</span> <span class="inlinecode"><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>
means that <span class="inlinecode"><span class="id" title="var">WP</span></span> has to show that every step maintains <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.refinement.inv.html#root_aux_1.root.stateI"><span class="id" title="section">stateI</span></a></span>,
and all newly forked threads have the post-condition <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#fork_post"><span class="id" title="projection">fork_post</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="wp_trace_invariance" class="idref" href="#wp_trace_invariance"><span class="id" title="lemma">wp_trace_invariance</span></a> (<a id="C:1" class="idref" href="#C:1"><span class="id" title="binder">C</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.t"><span class="id" title="record">Component.t</span></a>) <a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> `{<a id="invGpreS0:3" class="idref" href="#invGpreS0:3"><span class="id" title="binder">!</span></a><a id="invGpreS0:3" class="idref" href="#invGpreS0:3"><span class="id" title="binder">invGpreS</span></a> <a id="invGpreS0:3" class="idref" href="#invGpreS0:3"><span class="id" title="binder">Σ</span></a>} <a id="s:4" class="idref" href="#s:4"><span class="id" title="binder">s</span></a> <a id="es:5" class="idref" href="#es:5"><span class="id" title="binder">es</span></a> <a id="d372c6d841c7bf43de8391c69e53bbc3" class="idref" href="#d372c6d841c7bf43de8391c69e53bbc3"><span class="id" title="binder">σ1</span></a> <a id="t2:7" class="idref" href="#t2:7"><span class="id" title="binder">t2</span></a> <a id="25d2ce89a2d2244ba62c3f6b99f9f0a4" class="idref" href="#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="binder">σ2</span></a> <a id="d0ef999d5cf1ae64cfccc412cd27a7cb" class="idref" href="#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="binder">φ</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="953b7ffa792d0b2d859702583ce97b86" class="idref" href="#953b7ffa792d0b2d859702583ce97b86"><span class="id" title="binder">Λ</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.lts_lang"><span class="id" title="definition">Component.lts_lang</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#C:1"><span class="id" title="variable">C</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∀</span> <span class="id" title="notation">`{</span><a id="Hinv:11" class="idref" href="#Hinv:11"><span class="id" title="binder">Hinv</span></a> : !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#invGS_gen"><span class="id" title="class">invGS_gen</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.fancy_updates.html#HasNoLc"><span class="id" title="constructor">HasNoLc</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a><span class="id" title="notation">},</span>    <span class="comment">(*&nbsp;HasNoLc&nbsp;:&nbsp;no&nbsp;later&nbsp;credits&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><a id="stateI:12" class="idref" href="#stateI:12"><span class="id" title="binder">stateI</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#953b7ffa792d0b2d859702583ce97b86"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="8889b2b1c5f5c9801b117c4e4a0969ea" class="idref" href="#8889b2b1c5f5c9801b117c4e4a0969ea"><span class="id" title="binder">Φs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#953b7ffa792d0b2d859702583ce97b86"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="fork_post:14" class="idref" href="#fork_post:14"><span class="id" title="binder">fork_post</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#953b7ffa792d0b2d859702583ce97b86"><span class="id" title="variable">Λ</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> : <a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#irisGS_gen"><span class="id" title="class">irisGS_gen</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#953b7ffa792d0b2d859702583ce97b86"><span class="id" title="variable">Λ</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="variable">Σ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.iris.ghost.html#IrisG"><span class="id" title="constructor">IrisG</span></a> (<span class="id" title="notation">λ</span> <a id="1a6277b3cb02065474aec3d40044f5ee" class="idref" href="#1a6277b3cb02065474aec3d40044f5ee"><span class="id" title="binder">σ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#stateI:12"><span class="id" title="variable">stateI</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#1a6277b3cb02065474aec3d40044f5ee"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#fork_post:14"><span class="id" title="variable">fork_post</span></a> (<span class="id" title="notation">λ</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> 0) (<span class="id" title="notation">λ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#stateI:12"><span class="id" title="variable">stateI</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#d372c6d841c7bf43de8391c69e53bbc3"><span class="id" title="variable">σ1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;WPs&nbsp;of&nbsp;all&nbsp;threads&nbsp;in&nbsp;the&nbsp;initial&nbsp;threadpool&nbsp;<span class="inlinecode"><span class="id" title="var">es</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">]</span></a> <a id="e:16" class="idref" href="#e:16"><span class="id" title="binder"><span id="e:17" class="id">e</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">;</span></a><a id="652bd9465001e3533fc08d9e71bdc2f1" class="idref" href="#652bd9465001e3533fc08d9e71bdc2f1"><span class="id" title="binder"><span id="2b0062503a03b13c8021ea9cb8025386" class="id">Φ</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">∈</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es:5"><span class="id" title="variable">es</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">;</span></a><a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#8889b2b1c5f5c9801b117c4e4a0969ea"><span class="id" title="variable">Φs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#s:4"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#652bd9465001e3533fc08d9e71bdc2f1"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="es':20" class="idref" href="#es':20"><span class="id" title="binder">es'</span></a> <a id="t2':21" class="idref" href="#t2':21"><span class="id" title="binder">t2'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;es'&nbsp;is&nbsp;the&nbsp;final&nbsp;state&nbsp;of&nbsp;the&nbsp;initial&nbsp;threads,&nbsp;t2'&nbsp;the&nbsp;rest&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#t2:7"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es':20"><span class="id" title="variable">es'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#t2':21"><span class="id" title="variable">t2'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;es'&nbsp;corresponds&nbsp;to&nbsp;the&nbsp;initial&nbsp;threads&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es':20"><span class="id" title="variable">es'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es:5"><span class="id" title="variable">es</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;this&nbsp;is&nbsp;a&nbsp;stuck-free&nbsp;triple&nbsp;(i.e.&nbsp;<span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">NotStuck</span></span>),&nbsp;then&nbsp;all<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;threads&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">t2</span></span>&nbsp;are&nbsp;not&nbsp;stuck&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <span class="id" title="notation">∀</span> <a id="e2:22" class="idref" href="#e2:22"><span class="id" title="binder">e2</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#s:4"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#e2:22"><span class="id" title="variable">e2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#t2:7"><span class="id" title="variable">t2</span></a> <span class="id" title="notation">→</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#e2:22"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="variable">σ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;state&nbsp;interpretation&nbsp;holds&nbsp;for&nbsp;<span class="inlinecode">σ2</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#stateI:12"><span class="id" title="variable">stateI</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="variable">σ2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;the&nbsp;initial&nbsp;threads&nbsp;are&nbsp;done,&nbsp;their&nbsp;post-condition&nbsp;<span class="inlinecode"><span class="id" title="var">Φ</span></span>&nbsp;holds&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">]</span></a> <a id="e:23" class="idref" href="#e:23"><span class="id" title="binder"><span id="e:24" class="id">e</span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">;</span></a><a id="a8c195e929f4ff97cb882bcf83eb9509" class="idref" href="#a8c195e929f4ff97cb882bcf83eb9509"><span class="id" title="binder"><span id="2666893b5692abf87e830dd699b32b4c" class="id">Φ</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">∈</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es':20"><span class="id" title="variable">es'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">;</span></a><a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#8889b2b1c5f5c9801b117c4e4a0969ea"><span class="id" title="variable">Φs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#6be5f9c6601d6c7f57ad52228a87ebe3"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#from_option"><span class="id" title="definition">from_option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#a8c195e929f4ff97cb882bcf83eb9509"><span class="id" title="variable">Φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#e:23"><span class="id" title="variable">e</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;all&nbsp;forked-off&nbsp;threads&nbsp;that&nbsp;are&nbsp;done,&nbsp;their&nbsp;postcondition<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">fork_post</span></span>&nbsp;holds.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="v:27" class="idref" href="#v:27"><span class="id" title="binder"><span id="v:28" class="id">v</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#t2':21"><span class="id" title="variable">t2'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#fork_post:14"><span class="id" title="variable">fork_post</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#v:27"><span class="id" title="variable">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Under&nbsp;all&nbsp;these&nbsp;assumptions,&nbsp;and&nbsp;while&nbsp;opening&nbsp;all&nbsp;invariants,&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;conclude&nbsp;<span class="inlinecode">φ</span>&nbsp;in&nbsp;the&nbsp;logic.&nbsp;After&nbsp;opening&nbsp;all&nbsp;required&nbsp;invariants,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;can&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">fupd_mask_subseteq</span></span>&nbsp;to&nbsp;introduce&nbsp;the&nbsp;fancy&nbsp;update.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="variable">φ</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.relations.html#rtc"><span class="id" title="inductive">rtc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#es:5"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#d372c6d841c7bf43de8391c69e53bbc3"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#t2:7"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#25d2ce89a2d2244ba62c3f6b99f9f0a4"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#d0ef999d5cf1ae64cfccc412cd27a7cb"><span class="id" title="variable">φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Λ</span> <span class="id" title="var">Hwp</span> [<span class="id" title="var">n</span> [<span class="id" title="var">κs</span> ?]]%<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#erased_steps_nsteps"><span class="id" title="lemma">erased_steps_nsteps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="bluerock.iris.extra.wp_io.iris.adequacy.html#wp_strong_adequacy_gen"><span class="id" title="lemma">wp_strong_adequacy_gen</span></a> <span class="id" title="var">Σ</span>); [<span class="id" title="var">done</span>| |<span class="id" title="var">done</span>]=&gt; ?.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="var">Hwp</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">stateI</span> <span class="id" title="var">Φs</span> <span class="id" title="var">fork_post</span>) "(Hσ &amp; Hwp &amp; Hφ)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<span class="id" title="notation">λ</span> <a id="41fad5ed30e0ddd6aae2f148cb138a09" class="idref" href="#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="binder"><span id="c3ce5c4004a9652c410f50daf35ade0f" class="id">σ</span></span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><span class="id" title="notation">,</span> <span class="id" title="var">stateI</span> <a class="idref" href="bluerock.iris.extra.wp_io.trace_adequacy.html#41fad5ed30e0ddd6aae2f148cb138a09"><span class="id" title="variable">σ</span></a>), <span class="id" title="var">Φs</span>, <span class="id" title="var">fork_post</span>, <span class="id" title="var">_</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "{$Hσ $Hwp} !&gt;" (<span class="id" title="var">e2</span> <span class="id" title="var">t2'</span> -&gt; ??) "Hσ Hes Ht2 /=".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hφ" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%//] [%//] [%//] Hσ Hes Ht2"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
