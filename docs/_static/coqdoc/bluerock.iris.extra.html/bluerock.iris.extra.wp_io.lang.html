<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bluerock.iris.extra.wp_io.lang</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2023&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#"><span class="id" title="library">iris.program_logic.language</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#"><span class="id" title="library">iris.algebra.cmra</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.base</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bluerock.prelude.option</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">bluerock.prelude.name</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">bluerock.prelude.finite_prod</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">bluerock.prelude.sts</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Component" class="idref" href="#Component"><span class="id" title="module">Component</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="Component.t" class="idref" href="#Component.t"><span class="id" title="record">t</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mkComponent</span> {<br/>
&nbsp;&nbsp;<a id="Component.LTS" class="idref" href="#Component.LTS"><span class="id" title="projection">LTS</span></a> : <span class="id" title="record">Sts.t</span>;<br/>
&nbsp;&nbsp;<a id="Component.State" class="idref" href="#Component.State"><span class="id" title="projection">State</span></a> := (<span class="id" title="definition">Sts.State</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#LTS:2"><span class="id" title="method">LTS</span></a>);<br/>
&nbsp;&nbsp;<a id="Component.Event" class="idref" href="#Component.Event"><span class="id" title="projection">Event</span></a> := (<span class="id" title="projection">Sts.Label</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#LTS:2"><span class="id" title="method">LTS</span></a>);<br/>
&nbsp;&nbsp;<a id="Component.Trace" class="idref" href="#Component.Trace"><span class="id" title="projection">Trace</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Event:4"><span class="id" title="method">Event</span></a>) ;<br/>
&nbsp;&nbsp;<a id="Component.step" class="idref" href="#Component.step"><span class="id" title="projection">step</span></a>  := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#LTS:2"><span class="id" title="method">LTS</span></a>.(<span class="id" title="projection">Sts._sts</span>).(<span class="id" title="projection">Sts._step</span>);<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;a&nbsp;visible&nbsp;event&nbsp;is&nbsp;either&nbsp;input&nbsp;(initiated&nbsp;by&nbsp;someone&nbsp;else)&nbsp;or<br/>
&nbsp;&nbsp;output&nbsp;(initiated&nbsp;by&nbsp;this&nbsp;component)<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="Component.is_input" class="idref" href="#Component.is_input"><span class="id" title="projection">is_input</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Event:4"><span class="id" title="method">Event</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Expression&nbsp;language&nbsp;attached&nbsp;to&nbsp;the&nbsp;LTS&nbsp;*)</span><br/>
&nbsp;&nbsp;<a id="Component.Expr" class="idref" href="#Component.Expr"><span class="id" title="projection">Expr</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="Component.Val" class="idref" href="#Component.Val"><span class="id" title="projection">Val</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a id="Component.of_val" class="idref" href="#Component.of_val"><span class="id" title="projection">of_val</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Val:9"><span class="id" title="method">Val</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Expr:8"><span class="id" title="method">Expr</span></a>;<br/>
&nbsp;&nbsp;<a id="Component.to_val" class="idref" href="#Component.to_val"><span class="id" title="projection">to_val</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Expr:8"><span class="id" title="method">Expr</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Val:9"><span class="id" title="method">Val</span></a>;<br/>
&nbsp;&nbsp;<a id="Component.prim_step" class="idref" href="#Component.prim_step"><span class="id" title="projection">prim_step</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Expr:8"><span class="id" title="method">Expr</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#State:3"><span class="id" title="method">State</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Event:4"><span class="id" title="method">Event</span></a>) <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Expr:8"><span class="id" title="method">Expr</span></a> <span class="id" title="notation">→</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#State:3"><span class="id" title="method">State</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Expr:8"><span class="id" title="method">Expr</span></a> <span class="id" title="notation">→</span> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;<a id="Component.language_mixin" class="idref" href="#Component.language_mixin"><span class="id" title="projection">language_mixin</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#LanguageMixin"><span class="id" title="record">LanguageMixin</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#of_val:10"><span class="id" title="method">of_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#to_val:11"><span class="id" title="method">to_val</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#prim_step:12"><span class="id" title="method">prim_step</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
An Iris language for an LTS with an attached expression language.
<ul class="doclist">
<li> Delaying picking an expression language avoids fixing the expression/value

</li>
</ul>
types which can restrict behaviors.
<ul class="doclist">
<li> For example, if the language is never meant to terminate, the value type

</li>
</ul>
can be empty, and post-conditions are always False.
 
</div>
<div class="code">
<span class="id" title="keyword">Program Definition</span> <a id="Component.lts_lang" class="idref" href="#Component.lts_lang"><span class="id" title="definition">lts_lang</span></a> (<a id="C:14" class="idref" href="#C:14"><span class="id" title="binder">C</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.t"><span class="id" title="record">t</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#language"><span class="id" title="record">language</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">language.expr</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a>) ;<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">language.val</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Val"><span class="id" title="projection">Val</span></a>) ;<br/>
&nbsp;&nbsp;</div>

<div class="doc">
putting the trace into the state 
</div>
<div class="code">
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#state"><span class="id" title="projection">language.state</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Trace"><span class="id" title="projection">Trace</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a>) ;<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">language.observation</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>) ;<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">language.of_val</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.of_val"><span class="id" title="projection">of_val</span></a>);<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">language.to_val</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.to_val"><span class="id" title="projection">to_val</span></a>);<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">language.prim_step</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">λ</span> <a id="e:15" class="idref" href="#e:15"><span class="id" title="binder">e</span></a> <a id="s:16" class="idref" href="#s:16"><span class="id" title="binder">s</span></a> <a id="da32d935776410c423b327dbf007c6e6" class="idref" href="#da32d935776410c423b327dbf007c6e6"><span class="id" title="binder">κs</span></a> <a id="e':18" class="idref" href="#e':18"><span class="id" title="binder">e'</span></a> <a id="s':19" class="idref" href="#s':19"><span class="id" title="binder">s'</span></a> <a id="efs:20" class="idref" href="#efs:20"><span class="id" title="binder">efs</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">label_e</span></span> is the event of the step.
      We relate it to κs as a simple way to maintain a connection
      between <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.frac_splittable.html#frac_9.C"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>)</span> and <span class="inlinecode"><a class="idref" href="bluerock.iris.extra.bi.spec.frac_splittable.html#frac_9.C"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>)</span>.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="label_e:21" class="idref" href="#label_e:21"><span class="id" title="binder">label_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#da32d935776410c423b327dbf007c6e6"><span class="id" title="variable">κs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#label_e:21"><span class="id" title="variable">label_e</span></a><span class="id" title="notation">]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s':19"><span class="id" title="variable">s'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s:16"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#da32d935776410c423b327dbf007c6e6"><span class="id" title="variable">κs</span></a> <span class="id" title="notation">∧</span> <span class="comment">(*&nbsp;the&nbsp;state&nbsp;tracks&nbsp;history&nbsp;trace&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
the expression language may fork threads---all threads globally
      share the trace and the LTS state. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:15"><span class="id" title="variable">e</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s:16"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#da32d935776410c423b327dbf007c6e6"><span class="id" title="variable">κs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e':18"><span class="id" title="variable">e'</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s':19"><span class="id" title="variable">s'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#efs:20"><span class="id" title="variable">efs</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:14"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s:16"><span class="id" title="variable">s</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#label_e:21"><span class="id" title="variable">label_e</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s':19"><span class="id" title="variable">s'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> ;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hlts</span> ????? <span class="id" title="var">EXPR</span> <span class="id" title="var">VAL</span> ? ? <span class="id" title="var">STEP</span> <span class="id" title="var">LANG</span>]. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.of_val"><span class="id" title="projection">of_val</span></a> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.to_val"><span class="id" title="projection">to_val</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">LANG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> [<span class="id" title="var">tr</span> σ] ? <span class="id" title="var">e'</span> [<span class="id" title="var">tr'</span> σ'] <span class="id" title="var">efs</span> (? &amp; -&gt; &amp; ? &amp; <span class="id" title="var">Hstep</span> &amp; ?). <span class="id" title="var">revert</span> <span class="id" title="var">Hstep</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">LANG</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component"><span class="id" title="module">Component</span></a>.<br/>

<br/>
</div>

<div class="doc">
This one is similar to <span class="inlinecode"><span class="id" title="var">bluerock.prelude.sts.Compose.compose_lts</span></span>,
except that it uses <span class="inlinecode"><span class="id" title="library">finite_prod</span></span> to create the composed types.
TODO: unify them.

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Compose" class="idref" href="#Compose"><span class="id" title="module">Compose</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component"><span class="id" title="module">Component</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;configuration&nbsp;for&nbsp;a&nbsp;composition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Compose.config" class="idref" href="#Compose.config"><span class="id" title="record">config</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.name" class="idref" href="#Compose.name"><span class="id" title="projection">name</span></a> : <span class="id" title="keyword">Set</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <a id="Compose.name_Names" class="idref" href="#Compose.name_Names"><span class="id" title="projection">name_Names</span></a> :: <span class="id" title="class">Names</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.components" class="idref" href="#Compose.components"><span class="id" title="projection">components</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.t"><span class="id" title="record">Component.t</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;a&nbsp;visible&nbsp;event&nbsp;is&nbsp;either&nbsp;input&nbsp;or&nbsp;output&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.event" class="idref" href="#Compose.event"><span class="id" title="projection">event</span></a> : <span class="id" title="keyword">Set</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.is_input" class="idref" href="#Compose.is_input"><span class="id" title="projection">is_input</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#event:26"><span class="id" title="method">event</span></a> <span class="id" title="notation">→</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.inj_evt" class="idref" href="#Compose.inj_evt"><span class="id" title="projection">inj_evt</span></a> (<a id="c:28" class="idref" href="#c:28"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a>) : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:28"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#event:26"><span class="id" title="method">event</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forwarded&nbsp;events&nbsp;are&nbsp;also&nbsp;either&nbsp;input&nbsp;or&nbsp;output&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.inj_evt_input" class="idref" href="#Compose.inj_evt_input"><span class="id" title="projection">inj_evt_input</span></a> (<a id="c:30" class="idref" href="#c:30"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a>) (<a id="ce:31" class="idref" href="#ce:31"><span class="id" title="binder">ce</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:30"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>)) (<a id="e:32" class="idref" href="#e:32"><span class="id" title="binder">e</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#event:26"><span class="id" title="method">event</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#inj_evt:29"><span class="id" title="method">inj_evt</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:30"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#ce:31"><span class="id" title="variable">ce</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:30"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.is_input"><span class="id" title="projection">Component.is_input</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#ce:31"><span class="id" title="variable">ce</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#is_input:27"><span class="id" title="method">is_input</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:32"><span class="id" title="variable">e</span></a> ;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;canceling&nbsp;events&nbsp;:&nbsp;input-output&nbsp;pair.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;the&nbsp;input&nbsp;event&nbsp;is&nbsp;first.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.cancel_event_asym" class="idref" href="#Compose.cancel_event_asym"><span class="id" title="projection">cancel_event_asym</span></a> (<a id="c1:34" class="idref" href="#c1:34"><span class="id" title="binder">c1</span></a> <a id="c2:35" class="idref" href="#c2:35"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:34"><span class="id" title="variable">c1</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:35"><span class="id" title="variable">c2</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.cancel_event_asym_inout" class="idref" href="#Compose.cancel_event_asym_inout"><span class="id" title="projection">cancel_event_asym_inout</span></a> (<a id="c1:37" class="idref" href="#c1:37"><span class="id" title="binder">c1</span></a> <a id="c2:38" class="idref" href="#c2:38"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a>) <a id="e1:39" class="idref" href="#e1:39"><span class="id" title="binder">e1</span></a> <a id="e2:40" class="idref" href="#e2:40"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cancel_event_asym:36"><span class="id" title="method">cancel_event_asym</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:37"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:38"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:39"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:40"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:37"><span class="id" title="variable">c1</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.is_input"><span class="id" title="projection">Component.is_input</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:39"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#components:25"><span class="id" title="method">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:38"><span class="id" title="variable">c2</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.is_input"><span class="id" title="projection">Component.is_input</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:40"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.cancel_event_asym_not_forwarded" class="idref" href="#Compose.cancel_event_asym_not_forwarded"><span class="id" title="projection">cancel_event_asym_not_forwarded</span></a> (<a id="c1:42" class="idref" href="#c1:42"><span class="id" title="binder">c1</span></a> <a id="c2:43" class="idref" href="#c2:43"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#name:23"><span class="id" title="method">name</span></a>) <a id="e1:44" class="idref" href="#e1:44"><span class="id" title="binder">e1</span></a> <a id="e2:45" class="idref" href="#e2:45"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cancel_event_asym:36"><span class="id" title="method">cancel_event_asym</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:42"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:43"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:44"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:45"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#inj_evt:29"><span class="id" title="method">inj_evt</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:42"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:44"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#inj_evt:29"><span class="id" title="method">inj_evt</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:43"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:45"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Compose.cancel_event" class="idref" href="#Compose.cancel_event"><span class="id" title="projection">cancel_event</span></a> <a id="c1:47" class="idref" href="#c1:47"><span class="id" title="binder">c1</span></a> <a id="c2:48" class="idref" href="#c2:48"><span class="id" title="binder">c2</span></a> <a id="e1:49" class="idref" href="#e1:49"><span class="id" title="binder">e1</span></a> <a id="e2:50" class="idref" href="#e2:50"><span class="id" title="binder">e2</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cancel_event_asym:36"><span class="id" title="method">cancel_event_asym</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:47"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:48"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:49"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:50"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cancel_event_asym:36"><span class="id" title="method">cancel_event_asym</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:48"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:47"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:50"><span class="id" title="variable">e2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:49"><span class="id" title="variable">e1</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_input"><span class="id" title="projection">is_input</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.inj_evt"><span class="id" title="projection">inj_evt</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.inj_evt_input"><span class="id" title="projection">inj_evt_input</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.cancel_event_asym"><span class="id" title="projection">cancel_event_asym</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.cancel_event_asym_inout"><span class="id" title="projection">cancel_event_asym_inout</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.cancel_event"><span class="id" title="projection">cancel_event</span></a> {<span class="id" title="var">cfg</span>} : <span class="id" title="tactic">rename</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">cfg</span> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.Exprs" class="idref" href="#Compose.Exprs"><span class="id" title="definition">Exprs</span></a>  <a id="cfg:52" class="idref" href="#cfg:52"><span class="id" title="binder">cfg</span></a> := <span class="id" title="definition">fin_prod.to_list</span> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:52"><span class="id" title="variable">cfg</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.Vals" class="idref" href="#Compose.Vals"><span class="id" title="definition">Vals</span></a>   <a id="cfg:53" class="idref" href="#cfg:53"><span class="id" title="binder">cfg</span></a> := <span class="id" title="definition">fin_prod.to_list</span> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Val"><span class="id" title="projection">Val</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:53"><span class="id" title="variable">cfg</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.States" class="idref" href="#Compose.States"><span class="id" title="definition">States</span></a> <a id="cfg:54" class="idref" href="#cfg:54"><span class="id" title="binder">cfg</span></a> := <span class="id" title="definition">fin_prod.to_list</span> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:54"><span class="id" title="variable">cfg</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variant</span> <a id="Compose.EventSource" class="idref" href="#Compose.EventSource"><span class="id" title="inductive">EventSource</span></a> {<a id="cfg:55" class="idref" href="#cfg:55"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Compose.Tau" class="idref" href="#Compose.Tau"><span class="id" title="constructor">Tau</span></a> (<a id="c:58" class="idref" href="#c:58"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Compose.Forward" class="idref" href="#Compose.Forward"><span class="id" title="constructor">Forward</span></a> (<a id="c:59" class="idref" href="#c:59"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) (<a id="e:60" class="idref" href="#e:60"><span class="id" title="binder">e</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:59"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Compose.Sync" class="idref" href="#Compose.Sync"><span class="id" title="constructor">Sync</span></a> (<a id="c1:61" class="idref" href="#c1:61"><span class="id" title="binder">c1</span></a> <a id="c2:62" class="idref" href="#c2:62"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e1:63" class="idref" href="#e1:63"><span class="id" title="binder">e1</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:61"><span class="id" title="variable">c1</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e2:64" class="idref" href="#e2:64"><span class="id" title="binder">e2</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:55"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:62"><span class="id" title="variable">c2</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.EventSource"><span class="id" title="inductive">EventSource</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Compose.tau_inj" class="idref" href="#Compose.tau_inj"><span class="id" title="instance">tau_inj</span></a> {<a id="cfg:65" class="idref" href="#cfg:65"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (@<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Tau"><span class="id" title="constructor">Tau</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:65"><span class="id" title="variable">cfg</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;we'd&nbsp;want&nbsp;<span class="inlinecode"><span class="id" title="var">Inj2</span></span> <span class="inlinecode">(=)</span> <span class="inlinecode">(=)</span> <span class="inlinecode">(=)</span> <span class="inlinecode"><span class="id" title="var">Forward</span></span>,&nbsp;but&nbsp;dependent&nbsp;types...&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.forward_inj_1" class="idref" href="#Compose.forward_inj_1"><span class="id" title="lemma">forward_inj_1</span></a> {<a id="cfg:66" class="idref" href="#cfg:66"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} (<a id="c1:67" class="idref" href="#c1:67"><span class="id" title="binder">c1</span></a> <a id="c2:68" class="idref" href="#c2:68"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:66"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e1:69" class="idref" href="#e1:69"><span class="id" title="binder">e1</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:66"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:67"><span class="id" title="variable">c1</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e2:70" class="idref" href="#e2:70"><span class="id" title="binder">e2</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:66"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:68"><span class="id" title="variable">c2</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:67"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:69"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:68"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:70"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:67"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:68"><span class="id" title="variable">c2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Compose.forward_inj_2" class="idref" href="#Compose.forward_inj_2"><span class="id" title="instance">forward_inj_2</span></a> {<a id="cfg:71" class="idref" href="#cfg:71"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} (<a id="c:72" class="idref" href="#c:72"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:71"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (@<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:71"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:72"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.sync_inj_1" class="idref" href="#Compose.sync_inj_1"><span class="id" title="lemma">sync_inj_1</span></a> {<a id="cfg:73" class="idref" href="#cfg:73"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} (<a id="c11:74" class="idref" href="#c11:74"><span class="id" title="binder">c11</span></a> <a id="c12:75" class="idref" href="#c12:75"><span class="id" title="binder">c12</span></a> <a id="c21:76" class="idref" href="#c21:76"><span class="id" title="binder">c21</span></a> <a id="c22:77" class="idref" href="#c22:77"><span class="id" title="binder">c22</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:73"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e11:78" class="idref" href="#e11:78"><span class="id" title="binder">e11</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:73"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c11:74"><span class="id" title="variable">c11</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e12:79" class="idref" href="#e12:79"><span class="id" title="binder">e12</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:73"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c12:75"><span class="id" title="variable">c12</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e21:80" class="idref" href="#e21:80"><span class="id" title="binder">e21</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:73"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c21:76"><span class="id" title="variable">c21</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="e22:81" class="idref" href="#e22:81"><span class="id" title="binder">e22</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:73"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c22:77"><span class="id" title="variable">c22</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c11:74"><span class="id" title="variable">c11</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c12:75"><span class="id" title="variable">c12</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e11:78"><span class="id" title="variable">e11</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e12:79"><span class="id" title="variable">e12</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c21:76"><span class="id" title="variable">c21</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c22:77"><span class="id" title="variable">c22</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e21:80"><span class="id" title="variable">e21</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e22:81"><span class="id" title="variable">e22</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c11:74"><span class="id" title="variable">c11</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c21:76"><span class="id" title="variable">c21</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c12:75"><span class="id" title="variable">c12</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c22:77"><span class="id" title="variable">c22</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Compose.sync_inj_2" class="idref" href="#Compose.sync_inj_2"><span class="id" title="instance">sync_inj_2</span></a> {<a id="cfg:82" class="idref" href="#cfg:82"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} (<a id="c1:83" class="idref" href="#c1:83"><span class="id" title="binder">c1</span></a> <a id="c2:84" class="idref" href="#c2:84"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:82"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inj2"><span class="id" title="class">Inj2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (@<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:82"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:83"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:84"><span class="id" title="variable">c2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???? ?. <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.Obs" class="idref" href="#Compose.Obs"><span class="id" title="definition">Obs</span></a> <a id="cfg:85" class="idref" href="#cfg:85"><span class="id" title="binder">cfg</span></a>    := (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.event"><span class="id" title="projection">event</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:85"><span class="id" title="variable">cfg</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.EventSource"><span class="id" title="inductive">EventSource</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:85"><span class="id" title="variable">cfg</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.Trace" class="idref" href="#Compose.Trace"><span class="id" title="definition">Trace</span></a> <a id="cfg:86" class="idref" href="#cfg:86"><span class="id" title="binder">cfg</span></a>  := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Obs"><span class="id" title="definition">Obs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:86"><span class="id" title="variable">cfg</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Program Definition</span> <a id="Compose.lts_lang" class="idref" href="#Compose.lts_lang"><span class="id" title="definition">lts_lang</span></a> (<a id="cfg:87" class="idref" href="#cfg:87"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#language"><span class="id" title="record">language</span></a> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#expr"><span class="id" title="projection">language.expr</span></a>         := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Exprs"><span class="id" title="definition">Exprs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#val"><span class="id" title="projection">language.val</span></a>          := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Vals"><span class="id" title="definition">Vals</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#state"><span class="id" title="projection">language.state</span></a>        := <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Trace"><span class="id" title="definition">Trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.States"><span class="id" title="definition">States</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#observation"><span class="id" title="projection">language.observation</span></a>  := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Obs"><span class="id" title="definition">Obs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#of_val"><span class="id" title="projection">language.of_val</span></a>       := <span class="id" title="definition">fin_prod.fmap</span> (<span class="id" title="notation">λ</span> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.of_val"><span class="id" title="projection">of_val</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#n:88"><span class="id" title="variable">n</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#to_val"><span class="id" title="projection">language.to_val</span></a>       := <span class="id" title="definition">fin_prod.fmapO</span> (<span class="id" title="notation">λ</span> <a id="n:89" class="idref" href="#n:89"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#n:89"><span class="id" title="variable">n</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#prim_step"><span class="id" title="projection">language.prim_step</span></a>    :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">λ</span> <a id="es:90" class="idref" href="#es:90"><span class="id" title="binder">es</span></a> <a id="s:91" class="idref" href="#s:91"><span class="id" title="binder">s</span></a> <a id="6e996a7faf9d2e21ba56767bdbd23c2c" class="idref" href="#6e996a7faf9d2e21ba56767bdbd23c2c"><span class="id" title="binder">κs</span></a> <a id="es':93" class="idref" href="#es':93"><span class="id" title="binder">es'</span></a> <a id="s':94" class="idref" href="#s':94"><span class="id" title="binder">s'</span></a> <a id="efs:95" class="idref" href="#efs:95"><span class="id" title="binder">efs</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">label_e</span></span> is the event of the step. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="label_e:96" class="idref" href="#label_e:96"><span class="id" title="binder">label_e</span></a> <a id="src_e:97" class="idref" href="#src_e:97"><span class="id" title="binder">src_e</span></a><span class="id" title="notation">,</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#6e996a7faf9d2e21ba56767bdbd23c2c"><span class="id" title="variable">κs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#label_e:96"><span class="id" title="variable">label_e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#src_e:97"><span class="id" title="variable">src_e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tr</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ss</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s:91"><span class="id" title="variable">s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tr'</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ss'</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s':94"><span class="id" title="variable">s'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tr'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#label_e:96"><span class="id" title="variable">label_e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#src_e:97"><span class="id" title="variable">src_e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
no fork: we use finite product of expressions, and not threadpool 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#efs:95"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#label_e:96"><span class="id" title="variable">label_e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Some component c makes an <span class="inlinecode"><span class="id" title="var">el</span></span> step that is visible outside as <span class="inlinecode"><span class="id" title="var">e</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="c:101" class="idref" href="#c:101"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)<span class="id" title="notation">),</span> <span class="id" title="keyword">let</span> <a id="C:102" class="idref" href="#C:102"><span class="id" title="binder">C</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="el:103" class="idref" href="#el:103"><span class="id" title="binder">el</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:102"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>)) <a id="e'':104" class="idref" href="#e'':104"><span class="id" title="binder">e''</span></a> <a id="s'':105" class="idref" href="#s'':105"><span class="id" title="binder">s''</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#src_e:97"><span class="id" title="variable">src_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el:103"><span class="id" title="variable">el</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.inj_evt"><span class="id" title="projection">inj_evt</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el:103"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sc:106" class="idref" href="#sc:106"><span class="id" title="binder">sc</span></a> := <span class="id" title="definition">fin_prod.lookup</span> <span class="id" title="var">ss</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:102"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>) (<span class="id" title="definition">fin_prod.lookup</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc:106"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el:103"><span class="id" title="variable">el</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e'':104"><span class="id" title="variable">e''</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s'':105"><span class="id" title="variable">s''</span></a> <span class="id" title="notation">[]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es':93"><span class="id" title="variable">es'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e'':104"><span class="id" title="variable">e''</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:102"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc:106"><span class="id" title="variable">sc</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el:103"><span class="id" title="variable">el</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s'':105"><span class="id" title="variable">s''</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#s'':105"><span class="id" title="variable">s''</span></a> <span class="id" title="var">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span> <span class="comment">(*&nbsp;Some&nbsp;component&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>&nbsp;makes&nbsp;a&nbsp;tau&nbsp;step.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="c:107" class="idref" href="#c:107"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)<span class="id" title="notation">),</span> <span class="id" title="keyword">let</span> <a id="C:108" class="idref" href="#C:108"><span class="id" title="binder">C</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="e'':109" class="idref" href="#e'':109"><span class="id" title="binder">e''</span></a> <a id="sc':110" class="idref" href="#sc':110"><span class="id" title="binder">sc'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#src_e:97"><span class="id" title="variable">src_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Tau"><span class="id" title="constructor">Tau</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sc:111" class="idref" href="#sc:111"><span class="id" title="binder">sc</span></a> := <span class="id" title="definition">fin_prod.lookup</span> <span class="id" title="var">ss</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:108"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>) (<span class="id" title="definition">fin_prod.lookup</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc:111"><span class="id" title="variable">sc</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e'':109"><span class="id" title="variable">e''</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc':110"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">[]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es':93"><span class="id" title="variable">es'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e'':109"><span class="id" title="variable">e''</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C:108"><span class="id" title="variable">C</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc:111"><span class="id" title="variable">sc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc':110"><span class="id" title="variable">sc'</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:107"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc':110"><span class="id" title="variable">sc'</span></a> <span class="id" title="var">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span> <span class="comment">(*&nbsp;Some&nbsp;distinct&nbsp;components&nbsp;c1&nbsp;and&nbsp;c2&nbsp;synchronized.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="c1:112" class="idref" href="#c1:112"><span class="id" title="binder">c1</span></a> <a id="c2:113" class="idref" href="#c2:113"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)<span class="id" title="notation">),</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="C1:114" class="idref" href="#C1:114"><span class="id" title="binder">C1</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="C2:115" class="idref" href="#C2:115"><span class="id" title="binder">C2</span></a> := <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <span class="id" title="notation">(</span><a id="el1:116" class="idref" href="#el1:116"><span class="id" title="binder">el1</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C1:114"><span class="id" title="variable">C1</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>)) (<a id="el2:117" class="idref" href="#el2:117"><span class="id" title="binder">el2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C2:115"><span class="id" title="variable">C2</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Event</span></a>)) <a id="e1':118" class="idref" href="#e1':118"><span class="id" title="binder">e1'</span></a> <a id="e2':119" class="idref" href="#e2':119"><span class="id" title="binder">e2'</span></a> <a id="sc1':120" class="idref" href="#sc1':120"><span class="id" title="binder">sc1'</span></a> <a id="sc2':121" class="idref" href="#sc2':121"><span class="id" title="binder">sc2'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#src_e:97"><span class="id" title="variable">src_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el1:116"><span class="id" title="variable">el1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el2:117"><span class="id" title="variable">el2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.cancel_event_asym"><span class="id" title="projection">cancel_event_asym</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el1:116"><span class="id" title="variable">el1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el2:117"><span class="id" title="variable">el2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sc1:122" class="idref" href="#sc1:122"><span class="id" title="binder">sc1</span></a> := <span class="id" title="definition">fin_prod.lookup</span> <span class="id" title="var">ss</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sc2:123" class="idref" href="#sc2:123"><span class="id" title="binder">sc2</span></a> := <span class="id" title="definition">fin_prod.lookup</span> <span class="id" title="var">ss</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C1:114"><span class="id" title="variable">C1</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>) (<span class="id" title="definition">fin_prod.lookup</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc1:122"><span class="id" title="variable">sc1</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el1:116"><span class="id" title="variable">el1</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1':118"><span class="id" title="variable">e1'</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc1':120"><span class="id" title="variable">sc1'</span></a> <span class="id" title="notation">[]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C1:114"><span class="id" title="variable">C1</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc1:122"><span class="id" title="variable">sc1</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el1:116"><span class="id" title="variable">el1</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc1':120"><span class="id" title="variable">sc1'</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C2:115"><span class="id" title="variable">C2</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.prim_step"><span class="id" title="projection">prim_step</span></a>) (<span class="id" title="definition">fin_prod.lookup</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc2:123"><span class="id" title="variable">sc2</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el2:117"><span class="id" title="variable">el2</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2':119"><span class="id" title="variable">e2'</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc2':121"><span class="id" title="variable">sc2'</span></a> <span class="id" title="notation">[]</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#C2:115"><span class="id" title="variable">C2</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.step"><span class="id" title="projection">step</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc2:123"><span class="id" title="variable">sc2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#el2:117"><span class="id" title="variable">el2</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc2':121"><span class="id" title="variable">sc2'</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es':93"><span class="id" title="variable">es'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2':119"><span class="id" title="variable">e2'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Expr"><span class="id" title="projection">Expr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1':118"><span class="id" title="variable">e1'</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:90"><span class="id" title="variable">es</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:113"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc2':121"><span class="id" title="variable">sc2'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">fin_prod.update</span> (<span class="id" title="var">A</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.State"><span class="id" title="projection">State</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:87"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:112"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#sc1':120"><span class="id" title="variable">sc1'</span></a> <span class="id" title="var">ss</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ;<br/>
&nbsp;&nbsp;|}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">cfg</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">fin_prod.fmapO_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fin_prod.lookup_fmap</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.language_mixin"><span class="id" title="projection">Component.language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> /= -<span class="id" title="lemma">fin_prod.fmapO_Some</span> =&gt; <span class="id" title="var">IS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">fin_prod.lookup_ext</span> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fin_prod.lookup_fmap</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.language_mixin"><span class="id" title="projection">Component.language_mixin</span></a>, <span class="id" title="var">IS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">es</span> [<span class="id" title="var">tr</span> σ] <span class="id" title="var">κs</span> <span class="id" title="var">es'</span> [<span class="id" title="var">tr'</span> σ'] <span class="id" title="var">efs</span> (<span class="id" title="var">e</span> &amp; ? &amp; -&gt; &amp; ? &amp; ? &amp; <span class="id" title="var">STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">fin_prod.fmapO_None</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e</span>|]; [|<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">STEP</span>|<span class="id" title="var">STEP</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c</span> &amp; <span class="id" title="var">el</span> &amp; <span class="id" title="var">e''</span> &amp; <span class="id" title="var">s''</span> &amp; ? &amp; ? &amp; <span class="id" title="var">PRIM</span> &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">c</span>. <span class="id" title="var">revert</span> <span class="id" title="var">PRIM</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.language_mixin"><span class="id" title="projection">Component.language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c</span> &amp; <span class="id" title="var">e''</span> &amp; <span class="id" title="var">s''</span> &amp; ? &amp; <span class="id" title="var">PRIM</span> &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">c</span>. <span class="id" title="var">revert</span> <span class="id" title="var">PRIM</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.language_mixin"><span class="id" title="projection">Component.language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c1</span> &amp; <span class="id" title="var">c2</span> &amp; ? &amp; <span class="id" title="var">el1</span> &amp; <span class="id" title="var">el2</span> &amp; <span class="id" title="var">e1'</span> &amp; <span class="id" title="var">e2'</span> &amp; <span class="id" title="var">STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">sc2'</span> &amp; ? &amp; ? &amp; <span class="id" title="var">PRIM1</span> &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">c1</span>. <span class="id" title="var">revert</span> <span class="id" title="var">PRIM1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.language_mixin"><span class="id" title="projection">Component.language_mixin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">c'</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">c</span></span>,&nbsp;convert&nbsp;<span class="inlinecode"><span class="id" title="var">e'</span></span>&nbsp;(which&nbsp;is&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">c'</span></span>&nbsp;event)&nbsp;to&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>&nbsp;event.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.is_my_event" class="idref" href="#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> {<a id="cfg:124" class="idref" href="#cfg:124"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="c:125" class="idref" href="#c:125"><span class="id" title="binder">c</span></a> <a id="c':126" class="idref" href="#c':126"><span class="id" title="binder">c'</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:124"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) (<a id="e':127" class="idref" href="#e':127"><span class="id" title="binder">e'</span></a> : (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:124"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c':126"><span class="id" title="variable">c'</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:124"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:125"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c':126"><span class="id" title="variable">c'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:125"><span class="id" title="variable">c</span></a>)) <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Heq</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq_rect"><span class="id" title="definition">eq_rect</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c':126"><span class="id" title="variable">c'</span></a> (<span class="id" title="notation">λ</span> <a id="n:128" class="idref" href="#n:128"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:124"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#n:128"><span class="id" title="variable">n</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Event"><span class="id" title="projection">Component.Event</span></a>)) (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e':127"><span class="id" title="variable">e'</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:125"><span class="id" title="variable">c</span></a> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;extract&nbsp;the&nbsp;trace&nbsp;of&nbsp;component&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>&nbsp;from&nbsp;the&nbsp;composed&nbsp;trace&nbsp;<span class="inlinecode"><span class="id" title="var">tr</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Compose.proj_trace" class="idref" href="#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> {<a id="cfg:129" class="idref" href="#cfg:129"><span class="id" title="binder">cfg</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.config"><span class="id" title="record">config</span></a>} (<a id="tr:130" class="idref" href="#tr:130"><span class="id" title="binder">tr</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Trace"><span class="id" title="definition">Trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:129"><span class="id" title="variable">cfg</span></a>) (<a id="c:131" class="idref" href="#c:131"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:129"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.components"><span class="id" title="projection">components</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:129"><span class="id" title="variable">cfg</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:131"><span class="id" title="variable">c</span></a>).(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Component.Trace"><span class="id" title="projection">Component.Trace</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#omap"><span class="id" title="definition">omap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">λ</span> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Obs"><span class="id" title="definition">Obs</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:129"><span class="id" title="variable">cfg</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:132"><span class="id" title="variable">e</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Tau"><span class="id" title="constructor">Tau</span></a> <span class="id" title="var">c1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;is&nbsp;this&nbsp;a&nbsp;Tau&nbsp;of&nbsp;c&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c1</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:131"><span class="id" title="variable">c</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">e1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;is&nbsp;this&nbsp;a&nbsp;visiable&nbsp;event&nbsp;of&nbsp;c&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:131"><span class="id" title="variable">c</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span>) <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;is&nbsp;this&nbsp;a&nbsp;visiable&nbsp;event&nbsp;of&nbsp;c&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:131"><span class="id" title="variable">c</span></a> <span class="id" title="var">c1</span> <span class="id" title="var">e1</span> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:131"><span class="id" title="variable">c</span></a> <span class="id" title="var">c2</span> <span class="id" title="var">e2</span> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">e_c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr:130"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.nsteps_trace_final" class="idref" href="#Compose.nsteps_trace_final"><span class="id" title="lemma">nsteps_trace_final</span></a> {<a id="cfg:133" class="idref" href="#cfg:133"><span class="id" title="binder">cfg</span></a>} <a id="n:134" class="idref" href="#n:134"><span class="id" title="binder">n</span></a> <a id="es:135" class="idref" href="#es:135"><span class="id" title="binder">es</span></a> <a id="2a9ba5795788bd3a19ce16069f5e2e4c" class="idref" href="#2a9ba5795788bd3a19ce16069f5e2e4c"><span class="id" title="binder">σ1</span></a> <a id="4a7e14796aadad09b692ae3e60c43146" class="idref" href="#4a7e14796aadad09b692ae3e60c43146"><span class="id" title="binder">κs</span></a> <a id="t2:138" class="idref" href="#t2:138"><span class="id" title="binder">t2</span></a> <a id="71850c5c965328242df63a84af2c9356" class="idref" href="#71850c5c965328242df63a84af2c9356"><span class="id" title="binder">σ2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.program_logic.language.html#nsteps"><span class="id" title="inductive">language.nsteps</span></a> (<span class="id" title="var">Λ</span>:=<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.lts_lang"><span class="id" title="definition">lts_lang</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:133"><span class="id" title="variable">cfg</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#n:134"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#es:135"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#2a9ba5795788bd3a19ce16069f5e2e4c"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#4a7e14796aadad09b692ae3e60c43146"><span class="id" title="variable">κs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#t2:138"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#71850c5c965328242df63a84af2c9356"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#71850c5c965328242df63a84af2c9356"><span class="id" title="variable">σ2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#2a9ba5795788bd3a19ce16069f5e2e4c"><span class="id" title="variable">σ1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#4a7e14796aadad09b692ae3e60c43146"><span class="id" title="variable">κs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">es</span> σ1. <span class="id" title="tactic">induction</span> <span class="id" title="var">κs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">e</span> <span class="id" title="var">κs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">es</span> [<span class="id" title="var">tr1</span> σ1] <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fmap_nil"><span class="id" title="definition">fmap_nil</span></a> <span class="id" title="lemma">app_nil_r</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> [|?????? <span class="id" title="var">STEP'</span>]; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP'</span> <span class="id" title="keyword">as</span> [????????? (?&amp;?&amp;?&amp;?)]. <span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#fmap_cons"><span class="id" title="definition">fmap_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> [|?????? <span class="id" title="var">STEP'</span> <span class="id" title="var">STEPS</span>]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP'</span> <span class="id" title="keyword">as</span> [??? σ3 ????? (?&amp;?&amp;?&amp;<span class="id" title="var">EqS</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_list_eq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">EqS</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;<span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_nil" class="idref" href="#Compose.proj_trace_nil"><span class="id" title="lemma">proj_trace_nil</span></a> {<a id="cfg:140" class="idref" href="#cfg:140"><span class="id" title="binder">cfg</span></a>} (<a id="c:141" class="idref" href="#c:141"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:140"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:141"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_cons" class="idref" href="#Compose.proj_trace_cons"><span class="id" title="lemma">proj_trace_cons</span></a> {<a id="cfg:142" class="idref" href="#cfg:142"><span class="id" title="binder">cfg</span></a>} <a id="e:143" class="idref" href="#e:143"><span class="id" title="binder">e</span></a> (<a id="tr:144" class="idref" href="#tr:144"><span class="id" title="binder">tr</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Trace"><span class="id" title="definition">Trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:142"><span class="id" title="variable">cfg</span></a>) (<a id="c:145" class="idref" href="#c:145"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:142"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:143"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr:144"><span class="id" title="variable">tr</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:145"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:143"><span class="id" title="variable">e</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:145"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr:144"><span class="id" title="variable">tr</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:145"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#omap_app"><span class="id" title="lemma">omap_app</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">[</span><span class="id" title="var">_</span><span class="id" title="notation">]</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_app" class="idref" href="#Compose.proj_trace_app"><span class="id" title="lemma">proj_trace_app</span></a> {<a id="cfg:146" class="idref" href="#cfg:146"><span class="id" title="binder">cfg</span></a>} (<a id="tr1:147" class="idref" href="#tr1:147"><span class="id" title="binder">tr1</span></a> <a id="tr2:148" class="idref" href="#tr2:148"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Trace"><span class="id" title="definition">Trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:146"><span class="id" title="variable">cfg</span></a>) (<a id="c:149" class="idref" href="#c:149"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:146"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> (<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr1:147"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr2:148"><span class="id" title="variable">tr2</span></a>) <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:149"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr1:147"><span class="id" title="variable">tr1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:149"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#tr2:148"><span class="id" title="variable">tr2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:149"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#omap_app"><span class="id" title="lemma">omap_app</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_tau_ne" class="idref" href="#Compose.proj_trace_singleton_tau_ne"><span class="id" title="lemma">proj_trace_singleton_tau_ne</span></a> {<a id="cfg:150" class="idref" href="#cfg:150"><span class="id" title="binder">cfg</span></a>} <a id="e:151" class="idref" href="#e:151"><span class="id" title="binder">e</span></a> (<a id="c1:152" class="idref" href="#c1:152"><span class="id" title="binder">c1</span></a> <a id="c2:153" class="idref" href="#c2:153"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:150"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) (<a id="NEq:154" class="idref" href="#NEq:154"><span class="id" title="binder">NEq</span></a>: <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:152"><span class="id" title="variable">c1</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:153"><span class="id" title="variable">c2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:151"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Tau"><span class="id" title="constructor">Tau</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:152"><span class="id" title="variable">c1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:153"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_False"><span class="id" title="lemma">decide_False</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_tau_eq" class="idref" href="#Compose.proj_trace_singleton_tau_eq"><span class="id" title="lemma">proj_trace_singleton_tau_eq</span></a> {<a id="cfg:155" class="idref" href="#cfg:155"><span class="id" title="binder">cfg</span></a>} <a id="e:156" class="idref" href="#e:156"><span class="id" title="binder">e</span></a> (<a id="c:157" class="idref" href="#c:157"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:155"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:156"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Tau"><span class="id" title="constructor">Tau</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:157"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:157"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True"><span class="id" title="lemma">decide_True</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_forward_ne" class="idref" href="#Compose.proj_trace_singleton_forward_ne"><span class="id" title="lemma">proj_trace_singleton_forward_ne</span></a> {<a id="cfg:158" class="idref" href="#cfg:158"><span class="id" title="binder">cfg</span></a>} <a id="e:159" class="idref" href="#e:159"><span class="id" title="binder">e</span></a> (<a id="c1:160" class="idref" href="#c1:160"><span class="id" title="binder">c1</span></a> <a id="c2:161" class="idref" href="#c2:161"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:158"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) <a id="e1:162" class="idref" href="#e1:162"><span class="id" title="binder">e1</span></a> (<a id="NEq:163" class="idref" href="#NEq:163"><span class="id" title="binder">NEq</span></a>: <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:160"><span class="id" title="variable">c1</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:161"><span class="id" title="variable">c2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:159"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:160"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:162"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:161"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c1</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c2</span>)); <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_forward_eq" class="idref" href="#Compose.proj_trace_singleton_forward_eq"><span class="id" title="lemma">proj_trace_singleton_forward_eq</span></a> {<a id="cfg:164" class="idref" href="#cfg:164"><span class="id" title="binder">cfg</span></a>} <a id="e:165" class="idref" href="#e:165"><span class="id" title="binder">e</span></a> (<a id="c:166" class="idref" href="#c:166"><span class="id" title="binder">c</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:164"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) <a id="e1:167" class="idref" href="#e1:167"><span class="id" title="binder">e1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:165"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Forward"><span class="id" title="constructor">Forward</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:166"><span class="id" title="variable">c</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:167"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:166"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:167"><span class="id" title="variable">e1</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True_pi"><span class="id" title="lemma">decide_True_pi</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_sync_ne" class="idref" href="#Compose.proj_trace_singleton_sync_ne"><span class="id" title="lemma">proj_trace_singleton_sync_ne</span></a> {<a id="cfg:168" class="idref" href="#cfg:168"><span class="id" title="binder">cfg</span></a>} <a id="e:169" class="idref" href="#e:169"><span class="id" title="binder">e</span></a> (<a id="c:170" class="idref" href="#c:170"><span class="id" title="binder">c</span></a> <a id="c1:171" class="idref" href="#c1:171"><span class="id" title="binder">c1</span></a> <a id="c2:172" class="idref" href="#c2:172"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:168"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) <a id="e1:173" class="idref" href="#e1:173"><span class="id" title="binder">e1</span></a> <a id="e2:174" class="idref" href="#e2:174"><span class="id" title="binder">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NEq1:175" class="idref" href="#NEq1:175"><span class="id" title="binder">NEq1</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:170"><span class="id" title="variable">c</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:171"><span class="id" title="variable">c1</span></a>) (<a id="NEq2:176" class="idref" href="#NEq2:176"><span class="id" title="binder">NEq2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:170"><span class="id" title="variable">c</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:172"><span class="id" title="variable">c2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:169"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:171"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:172"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:173"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:174"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c:170"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c1</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c</span>)); [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c2</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c</span>)); <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_sync_eq1" class="idref" href="#Compose.proj_trace_singleton_sync_eq1"><span class="id" title="lemma">proj_trace_singleton_sync_eq1</span></a> {<a id="cfg:177" class="idref" href="#cfg:177"><span class="id" title="binder">cfg</span></a>} <a id="e:178" class="idref" href="#e:178"><span class="id" title="binder">e</span></a> (<a id="c1:179" class="idref" href="#c1:179"><span class="id" title="binder">c1</span></a> <a id="c2:180" class="idref" href="#c2:180"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:177"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) <a id="e1:181" class="idref" href="#e1:181"><span class="id" title="binder">e1</span></a> <a id="e2:182" class="idref" href="#e2:182"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:178"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:179"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:180"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:181"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:182"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:179"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:181"><span class="id" title="variable">e1</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True_pi"><span class="id" title="lemma">decide_True_pi</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Compose.proj_trace_singleton_sync_eq2" class="idref" href="#Compose.proj_trace_singleton_sync_eq2"><span class="id" title="lemma">proj_trace_singleton_sync_eq2</span></a> {<a id="cfg:183" class="idref" href="#cfg:183"><span class="id" title="binder">cfg</span></a>} <a id="e:184" class="idref" href="#e:184"><span class="id" title="binder">e</span></a> (<a id="c1:185" class="idref" href="#c1:185"><span class="id" title="binder">c1</span></a> <a id="c2:186" class="idref" href="#c2:186"><span class="id" title="binder">c2</span></a> : <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#cfg:183"><span class="id" title="variable">cfg</span></a>.(<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.name"><span class="id" title="projection">name</span></a>)) <a id="e1:187" class="idref" href="#e1:187"><span class="id" title="binder">e1</span></a> <a id="e2:188" class="idref" href="#e2:188"><span class="id" title="binder">e2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:185"><span class="id" title="variable">c1</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:186"><span class="id" title="variable">c2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e:184"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.Sync"><span class="id" title="constructor">Sync</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c1:185"><span class="id" title="variable">c1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:186"><span class="id" title="variable">c2</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e1:187"><span class="id" title="variable">e1</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:188"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#c2:186"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#e2:188"><span class="id" title="variable">e2</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;need&nbsp;omap&nbsp;general&nbsp;lemmas&nbsp;for&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.proj_trace"><span class="id" title="definition">proj_trace</span></a> /= /<a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose.is_my_event"><span class="id" title="definition">is_my_event</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">c1</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c2</span>)) =&gt; ?; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#decide_True_pi"><span class="id" title="lemma">decide_True_pi</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bluerock.iris.extra.wp_io.lang.html#Compose"><span class="id" title="module">Compose</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BlueRock Security, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
